var e,t=Object.defineProperty,n=(e,n,r)=>((e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r)(e,"symbol"!=typeof n?n+"":n,r);function r(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var s={exports:{}},l={},c={exports:{}},u={},d=Symbol.for("react.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.iterator;var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function j(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||S}function O(){}function T(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||S}j.prototype.isReactComponent={},j.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},j.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},O.prototype=j.prototype;var C=T.prototype=new O;C.constructor=T,k(C,j.prototype),C.isPureReactComponent=!0;var N=Array.isArray,P=Object.prototype.hasOwnProperty,A={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)P.call(t,r)&&!I.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:d,type:e,key:o,ref:a,props:i,_owner:A.current}}function D(e){return"object"==typeof e&&null!==e&&e.$$typeof===d}var R=/\/+/g;function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function U(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case d:case h:a=!0}}if(a)return i=i(a=e),e=""===r?"."+L(a,0):r,N(i)?(n="",null!=e&&(n=e.replace(R,"$&/")+"/"),U(i,t,n,"",(function(e){return e}))):null!=i&&(D(i)&&(i=function(e,t){return{$$typeof:d,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(R,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=""===r?".":r+":",N(e))for(var s=0;s<e.length;s++){var l=r+L(o=e[s],s);a+=U(o,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),s=0;!(o=e.next()).done;)a+=U(o=o.value,t,n,l=r+L(o,s++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function F(e,t,n){if(null==e)return e;var r=[],i=0;return U(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function z(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var $={current:null},B={transition:null},V={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:B,ReactCurrentOwner:A};function q(){throw Error("act(...) is not supported in production builds of React.")}u.Children={map:F,forEach:function(e,t,n){F(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return F(e,(function(){t++})),t},toArray:function(e){return F(e,(function(e){return e}))||[]},only:function(e){if(!D(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},u.Component=j,u.Fragment=f,u.Profiler=m,u.PureComponent=T,u.StrictMode=p,u.Suspense=b,u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,u.act=q,u.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=k({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=A.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)P.call(t,l)&&!I.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:d,type:e.type,key:i,ref:o,props:r,_owner:a}},u.createContext=function(e){return(e={$$typeof:y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:g,_context:e},e.Consumer=e},u.createElement=M,u.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},u.createRef=function(){return{current:null}},u.forwardRef=function(e){return{$$typeof:v,render:e}},u.isValidElement=D,u.lazy=function(e){return{$$typeof:x,_payload:{_status:-1,_result:e},_init:z}},u.memo=function(e,t){return{$$typeof:w,type:e,compare:void 0===t?null:t}},u.startTransition=function(e){var t=B.transition;B.transition={};try{e()}finally{B.transition=t}},u.unstable_act=q,u.useCallback=function(e,t){return $.current.useCallback(e,t)},u.useContext=function(e){return $.current.useContext(e)},u.useDebugValue=function(){},u.useDeferredValue=function(e){return $.current.useDeferredValue(e)},u.useEffect=function(e,t){return $.current.useEffect(e,t)},u.useId=function(){return $.current.useId()},u.useImperativeHandle=function(e,t,n){return $.current.useImperativeHandle(e,t,n)},u.useInsertionEffect=function(e,t){return $.current.useInsertionEffect(e,t)},u.useLayoutEffect=function(e,t){return $.current.useLayoutEffect(e,t)},u.useMemo=function(e,t){return $.current.useMemo(e,t)},u.useReducer=function(e,t,n){return $.current.useReducer(e,t,n)},u.useRef=function(e){return $.current.useRef(e)},u.useState=function(e){return $.current.useState(e)},u.useSyncExternalStore=function(e,t,n){return $.current.useSyncExternalStore(e,t,n)},u.useTransition=function(){return $.current.useTransition()},u.version="18.3.1",c.exports=u;var W=c.exports;const H=o(W),K=r({__proto__:null,default:H},[W]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var G=W,Y=Symbol.for("react.element"),Q=Symbol.for("react.fragment"),X=Object.prototype.hasOwnProperty,J=G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z={key:!0,ref:!0,__self:!0,__source:!0};function ee(e,t,n){var r,i={},o=null,a=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(a=t.ref),t)X.call(t,r)&&!Z.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:Y,type:e,key:o,ref:a,props:i,_owner:J.current}}l.Fragment=Q,l.jsx=ee,l.jsxs=ee,s.exports=l;var te=s.exports,ne={exports:{}},re={},ie={exports:{}},oe={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,A(x);else{var t=n(c);null!==t&&I(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,y(E),E=-1),f=!0;var o=h;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!T());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var u=!0;else{var g=n(c);null!==g&&I(w,g.startTime-i),u=!1}return u}finally{d=null,h=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,k=null,E=-1,j=5,O=-1;function T(){return!(e.unstable_now()-O<j)}function C(){if(null!==k){var t=e.unstable_now();O=t;var n=!0;try{n=k(!0,t)}finally{n?_():(S=!1,k=null)}}else S=!1}if("function"==typeof v)_=function(){v(C)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=C,_=function(){P.postMessage(null)}}else _=function(){g(C,0)};function A(e){k=e,S||(S=!0,_())}function I(t,n){E=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,A(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(r.sortIndex=o,t(c,r),null===n(l)&&r===n(c)&&(m?(y(E),E=-1):m=!0,I(w,o-a))):(r.sortIndex=s,t(l,r),p||f||(p=!0,A(x))),r},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(oe),ie.exports=oe;var ae=ie.exports,se=W,le=ae;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ue=new Set,de={};function he(e,t){fe(e,t),fe(e+"Capture",t)}function fe(e,t){for(de[e]=t,e=0;e<t.length;e++)ue.add(t[e])}var pe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),me=Object.prototype.hasOwnProperty,ge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ye={},ve={};function be(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){we[e]=new be(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];we[t]=new be(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){we[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){we[e]=new be(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){we[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){we[e]=new be(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){we[e]=new be(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){we[e]=new be(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){we[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)}));var xe=/[\-:]([a-z])/g;function _e(e){return e[1].toUpperCase()}function Se(e,t,n,r){var i=we.hasOwnProperty(t)?we[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!me.call(ve,e)||!me.call(ye,e)&&(ge.test(e)?ve[e]=!0:(ye[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(xe,_e);we[t]=new be(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(xe,_e);we[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(xe,_e);we[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){we[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)})),we.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){we[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)}));var ke=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ee=Symbol.for("react.element"),je=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),Ue=Symbol.iterator;function Fe(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ue&&e[Ue]||e["@@iterator"])?e:null}var ze,$e=Object.assign;function Be(e){if(void 0===ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||""}return"\n"+ze+e}var Ve=!1;function qe(e,t){if(!e||Ve)return"";Ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(qj){var r=qj}Reflect.construct(e,[],t)}else{try{t.call()}catch(qj){r=qj}e.call(t.prototype)}else{try{throw Error()}catch(qj){r=qj}e()}}catch(qj){if(qj&&r&&"string"==typeof qj.stack){for(var i=qj.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{Ve=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Be(e):""}function We(e){switch(e.tag){case 5:return Be(e.type);case 16:return Be("Lazy");case 13:return Be("Suspense");case 19:return Be("SuspenseList");case 0:case 2:case 15:return e=qe(e.type,!1);case 11:return e=qe(e.type.render,!1);case 1:return e=qe(e.type,!0);default:return""}}function He(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Oe:return"Fragment";case je:return"Portal";case Ce:return"Profiler";case Te:return"StrictMode";case Ie:return"Suspense";case Me:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Pe:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case Ae:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case De:return null!==(t=e.displayName||null)?t:He(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return He(e(t))}catch(n){}}return null}function Ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(t);case 8:return t===Te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Qe(e){e._valueTracker||(e._valueTracker=function(e){var t=Ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Je(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ze(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function et(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function tt(e,t){null!=(t=t.checked)&&Se(e,"checked",t,!1)}function nt(e,t){tt(e,t);var n=Ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?it(e,t.type,n):t.hasOwnProperty("defaultValue")&&it(e,t.type,Ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function rt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function it(e,t,n){"number"===t&&Je(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ot=Array.isArray;function at(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function st(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ce(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lt(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(ce(92));if(ot(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Ge(n)}}function ct(e,t){var n=Ge(t.value),r=Ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ut(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function dt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?dt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ft,pt,mt=(pt=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ft=ft||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ft.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return pt(e,t)}))}:pt);function gt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vt=["Webkit","ms","Moz","O"];function bt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||yt.hasOwnProperty(e)&&yt[e]?(""+t).trim():t+"px"}function wt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=bt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(yt).forEach((function(e){vt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yt[t]=yt[e]}))}));var xt=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(e,t){if(t){if(xt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ce(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ce(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ce(62))}}function St(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=null;function Et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,Ot=null,Tt=null;function Ct(e){if(e=ko(e)){if("function"!=typeof jt)throw Error(ce(280));var t=e.stateNode;t&&(t=jo(t),jt(e.stateNode,e.type,t))}}function Nt(e){Ot?Tt?Tt.push(e):Tt=[e]:Ot=e}function Pt(){if(Ot){var e=Ot,t=Tt;if(Tt=Ot=null,Ct(e),t)for(e=0;e<t.length;e++)Ct(t[e])}}function At(e,t){return e(t)}function It(){}var Mt=!1;function Dt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return At(e,t,n)}finally{Mt=!1,(null!==Ot||null!==Tt)&&(It(),Pt())}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=jo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(ce(231,t,typeof n));return n}var Lt=!1;if(pe)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(pt){Lt=!1}function Ft(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var zt=!1,$t=null,Bt=!1,Vt=null,qt={onError:function(e){zt=!0,$t=e}};function Wt(e,t,n,r,i,o,a,s,l){zt=!1,$t=null,Ft.apply(qt,arguments)}function Ht(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Kt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Gt(e){if(Ht(e)!==e)throw Error(ce(188))}function Yt(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ht(e)))throw Error(ce(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Gt(i),e;if(o===r)return Gt(i),t;o=o.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(3!==n.tag)throw Error(ce(188));return n.stateNode.current===n?e:t}(e))?Qt(e):null}function Qt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qt(e);if(null!==t)return t;e=e.sibling}return null}var Xt=le.unstable_scheduleCallback,Jt=le.unstable_cancelCallback,Zt=le.unstable_shouldYield,en=le.unstable_requestPaint,tn=le.unstable_now,nn=le.unstable_getCurrentPriorityLevel,rn=le.unstable_ImmediatePriority,on=le.unstable_UserBlockingPriority,an=le.unstable_NormalPriority,sn=le.unstable_LowPriority,ln=le.unstable_IdlePriority,cn=null,un=null;var dn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(hn(e)/fn|0)|0},hn=Math.log,fn=Math.LN2;var pn=64,mn=4194304;function gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=gn(s):0!==(o&=a)&&(r=gn(o))}else 0!==(a=n&~i)?r=gn(a):0!==o&&(r=gn(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-dn(t)),r|=e[n],t&=~i;return r}function vn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function bn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function wn(){var e=pn;return!(4194240&(pn<<=1))&&(pn=64),e}function xn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _n(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-dn(t)]=n}function Sn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kn=0;function En(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var jn,On,Tn,Cn,Nn,Pn=!1,An=[],In=null,Mn=null,Dn=null,Rn=new Map,Ln=new Map,Un=[],Fn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zn(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function $n(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=ko(t))&&On(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bn(e){var t=So(e.target);if(null!==t){var n=Ht(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Kt(n)))return e.blockedOn=t,void Nn(e.priority,(function(){Tn(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=er(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ko(n))&&On(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);kt=r,n.target.dispatchEvent(r),kt=null,t.shift()}return!0}function qn(e,t,n){Vn(e)&&n.delete(t)}function Wn(){Pn=!1,null!==In&&Vn(In)&&(In=null),null!==Mn&&Vn(Mn)&&(Mn=null),null!==Dn&&Vn(Dn)&&(Dn=null),Rn.forEach(qn),Ln.forEach(qn)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Pn||(Pn=!0,le.unstable_scheduleCallback(le.unstable_NormalPriority,Wn)))}function Kn(e){function t(t){return Hn(t,e)}if(0<An.length){Hn(An[0],e);for(var n=1;n<An.length;n++){var r=An[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==In&&Hn(In,e),null!==Mn&&Hn(Mn,e),null!==Dn&&Hn(Dn,e),Rn.forEach(t),Ln.forEach(t),n=0;n<Un.length;n++)(r=Un[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Un.length&&null===(n=Un[0]).blockedOn;)Bn(n),null===n.blockedOn&&Un.shift()}var Gn=ke.ReactCurrentBatchConfig,Yn=!0;function Qn(e,t,n,r){var i=kn,o=Gn.transition;Gn.transition=null;try{kn=1,Jn(e,t,n,r)}finally{kn=i,Gn.transition=o}}function Xn(e,t,n,r){var i=kn,o=Gn.transition;Gn.transition=null;try{kn=4,Jn(e,t,n,r)}finally{kn=i,Gn.transition=o}}function Jn(e,t,n,r){if(Yn){var i=er(e,t,n,r);if(null===i)Gi(e,t,r,Zn,n),zn(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return In=$n(In,e,t,n,r,i),!0;case"dragenter":return Mn=$n(Mn,e,t,n,r,i),!0;case"mouseover":return Dn=$n(Dn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rn.set(o,$n(Rn.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ln.set(o,$n(Ln.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(zn(e,r),4&t&&-1<Fn.indexOf(e)){for(;null!==i;){var o=ko(i);if(null!==o&&jn(o),null===(o=er(e,t,n,r))&&Gi(e,t,r,Zn,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gi(e,t,r,null,n)}}var Zn=null;function er(e,t,n,r){if(Zn=null,null!==(e=So(e=Et(r))))if(null===(t=Ht(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Kt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zn=e,null}function tr(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nn()){case rn:return 1;case on:return 4;case an:case sn:return 16;case ln:return 536870912;default:return 16}default:return 16}}var nr=null,rr=null,ir=null;function or(){if(ir)return ir;var e,t,n=rr,r=n.length,i="value"in nr?nr.value:nr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ir=i.slice(e,1<t?1-t:void 0)}function ar(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sr(){return!0}function lr(){return!1}function cr(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sr:lr,this.isPropagationStopped=lr,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),t}var ur,dr,hr,fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=cr(fr),mr=$e({},fr,{view:0,detail:0}),gr=cr(mr),yr=$e({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&"mousemove"===e.type?(ur=e.screenX-hr.screenX,dr=e.screenY-hr.screenY):dr=ur=0,hr=e),ur)},movementY:function(e){return"movementY"in e?e.movementY:dr}}),vr=cr(yr),br=cr($e({},yr,{dataTransfer:0})),wr=cr($e({},mr,{relatedTarget:0})),xr=cr($e({},fr,{animationName:0,elapsedTime:0,pseudoElement:0})),_r=$e({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sr=cr(_r),kr=cr($e({},fr,{data:0})),Er={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function Cr(){return Tr}var Nr=$e({},mr,{key:function(e){if(e.key){var t=Er[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ar(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?ar(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ar(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pr=cr(Nr),Ar=cr($e({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ir=cr($e({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr})),Mr=cr($e({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dr=$e({},yr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=cr(Dr),Lr=[9,13,27,32],Ur=pe&&"CompositionEvent"in window,Fr=null;pe&&"documentMode"in document&&(Fr=document.documentMode);var zr=pe&&"TextEvent"in window&&!Fr,$r=pe&&(!Ur||Fr&&8<Fr&&11>=Fr),Br=String.fromCharCode(32),Vr=!1;function qr(e,t){switch(e){case"keyup":return-1!==Lr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hr=!1;var Kr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kr[e.type]:"textarea"===t}function Yr(e,t,n,r){Nt(r),0<(t=Qi(t,"onChange")).length&&(n=new pr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qr=null,Xr=null;function Jr(e){Bi(e,0)}function Zr(e){if(Xe(Eo(e)))return e}function ei(e,t){if("change"===e)return t}var ti=!1;if(pe){var ni;if(pe){var ri="oninput"in document;if(!ri){var ii=document.createElement("div");ii.setAttribute("oninput","return;"),ri="function"==typeof ii.oninput}ni=ri}else ni=!1;ti=ni&&(!document.documentMode||9<document.documentMode)}function oi(){Qr&&(Qr.detachEvent("onpropertychange",ai),Xr=Qr=null)}function ai(e){if("value"===e.propertyName&&Zr(Xr)){var t=[];Yr(t,Xr,e,Et(e)),Dt(Jr,t)}}function si(e,t,n){"focusin"===e?(oi(),Xr=n,(Qr=t).attachEvent("onpropertychange",ai)):"focusout"===e&&oi()}function li(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zr(Xr)}function ci(e,t){if("click"===e)return Zr(t)}function ui(e,t){if("input"===e||"change"===e)return Zr(t)}var di="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function hi(e,t){if(di(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!me.call(t,i)||!di(e[i],t[i]))return!1}return!0}function fi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pi(e,t){var n,r=fi(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fi(r)}}function mi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gi(){for(var e=window,t=Je();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Je((e=t.contentWindow).document)}return t}function yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vi(e){var t=gi(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mi(n.ownerDocument.documentElement,n)){if(null!==r&&yi(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=pi(n,o);var a=pi(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bi=pe&&"documentMode"in document&&11>=document.documentMode,wi=null,xi=null,_i=null,Si=!1;function ki(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Si||null==wi||wi!==Je(r)||("selectionStart"in(r=wi)&&yi(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_i&&hi(_i,r)||(_i=r,0<(r=Qi(xi,"onSelect")).length&&(t=new pr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wi)))}function Ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ji={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},Oi={},Ti={};function Ci(e){if(Oi[e])return Oi[e];if(!ji[e])return e;var t,n=ji[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ti)return Oi[e]=n[t];return e}pe&&(Ti=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);var Ni=Ci("animationend"),Pi=Ci("animationiteration"),Ai=Ci("animationstart"),Ii=Ci("transitionend"),Mi=new Map,Di="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){Mi.set(e,t),he(t,[e])}for(var Li=0;Li<Di.length;Li++){var Ui=Di[Li];Ri(Ui.toLowerCase(),"on"+(Ui[0].toUpperCase()+Ui.slice(1)))}Ri(Ni,"onAnimationEnd"),Ri(Pi,"onAnimationIteration"),Ri(Ai,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Ii,"onTransitionEnd"),fe("onMouseEnter",["mouseout","mouseover"]),fe("onMouseLeave",["mouseout","mouseover"]),fe("onPointerEnter",["pointerout","pointerover"]),fe("onPointerLeave",["pointerout","pointerover"]),he("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),he("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),he("onBeforeInput",["compositionend","keypress","textInput","paste"]),he("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function $i(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,l){if(Wt.apply(this,arguments),zt){if(!zt)throw Error(ce(198));var c=$t;zt=!1,$t=null,Bt||(Bt=!0,Vt=c)}}(r,t,void 0,e),e.currentTarget=null}function Bi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;$i(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;$i(i,s,c),o=l}}}if(Bt)throw e=Vt,Bt=!1,Vt=null,e}function Vi(e,t){var n=t[wo];void 0===n&&(n=t[wo]=new Set);var r=e+"__bubble";n.has(r)||(Ki(t,e,2,!1),n.add(r))}function qi(e,t,n){var r=0;t&&(r|=4),Ki(n,e,r,t)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[Wi]){e[Wi]=!0,ue.forEach((function(t){"selectionchange"!==t&&(zi.has(t)||qi(t,!1,e),qi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wi]||(t[Wi]=!0,qi("selectionchange",!1,t))}}function Ki(e,t,n,r){switch(tr(t)){case 1:var i=Qn;break;case 4:i=Xn;break;default:i=Jn}n=i.bind(null,t,n,e),i=void 0,!Lt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gi(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=So(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Dt((function(){var r=o,i=Et(n),a=[];e:{var s=Mi.get(e);if(void 0!==s){var l=pr,c=e;switch(e){case"keypress":if(0===ar(n))break e;case"keydown":case"keyup":l=Pr;break;case"focusin":c="focus",l=wr;break;case"focusout":c="blur",l=wr;break;case"beforeblur":case"afterblur":l=wr;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ir;break;case Ni:case Pi:case Ai:l=xr;break;case Ii:l=Mr;break;case"scroll":l=gr;break;case"wheel":l=Rr;break;case"copy":case"cut":case"paste":l=Sr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ar}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Rt(p,h))&&u.push(Yi(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===kt||!(c=n.relatedTarget||n.fromElement)||!So(c)&&!c[bo])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?So(c):null)&&(c!==(d=Ht(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=vr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ar,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Eo(l),f=null==c?s:Eo(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,So(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Xi(f))p++;for(f=0,m=h;m;m=Xi(m))f++;for(;0<p-f;)u=Xi(u),p--;for(;0<f-p;)h=Xi(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Xi(u),h=Xi(h)}u=null}else u=null;null!==l&&Ji(a,s,l,u,!1),null!==c&&null!==d&&Ji(a,d,c,u,!0)}if("select"===(l=(s=r?Eo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=ei;else if(Gr(s))if(ti)g=ui;else{g=li;var y=si}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ci);switch(g&&(g=g(e,r))?Yr(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&it(s,"number",s.value)),y=r?Eo(r):window,e){case"focusin":(Gr(y)||"true"===y.contentEditable)&&(wi=y,xi=r,_i=null);break;case"focusout":_i=xi=wi=null;break;case"mousedown":Si=!0;break;case"contextmenu":case"mouseup":case"dragend":Si=!1,ki(a,n,i);break;case"selectionchange":if(bi)break;case"keydown":case"keyup":ki(a,n,i)}var v;if(Ur)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hr?qr(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($r&&"ko"!==n.locale&&(Hr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hr&&(v=or()):(rr="value"in(nr=i)?nr.value:nr.textContent,Hr=!0)),0<(y=Qi(r,b)).length&&(b=new kr(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Wr(n))&&(b.data=v))),(v=zr?function(e,t){switch(e){case"compositionend":return Wr(t);case"keypress":return 32!==t.which?null:(Vr=!0,Br);case"textInput":return(e=t.data)===Br&&Vr?null:e;default:return null}}(e,n):function(e,t){if(Hr)return"compositionend"===e||!Ur&&qr(e,t)?(e=or(),ir=rr=nr=null,Hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $r&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qi(r,"onBeforeInput")).length&&(i=new kr("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Bi(a,t)}))}function Yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qi(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Rt(e,n))&&r.unshift(Yi(e,o,i)),null!=(o=Rt(e,t))&&r.push(Yi(e,o,i))),e=e.return}return r}function Xi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ji(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Rt(n,o))&&a.unshift(Yi(n,l,s)):i||null!=(l=Rt(n,o))&&a.push(Yi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zi=/\r\n?/g,eo=/\u0000|\uFFFD/g;function to(e){return("string"==typeof e?e:""+e).replace(Zi,"\n").replace(eo,"")}function no(e,t,n){if(t=to(t),to(e)!==t&&n)throw Error(ce(425))}function ro(){}var io=null,oo=null;function ao(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var so="function"==typeof setTimeout?setTimeout:void 0,lo="function"==typeof clearTimeout?clearTimeout:void 0,co="function"==typeof Promise?Promise:void 0,uo="function"==typeof queueMicrotask?queueMicrotask:void 0!==co?function(e){return co.resolve(null).then(e).catch(ho)}:so;function ho(e){setTimeout((function(){throw e}))}function fo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Kn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Kn(t)}function po(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function mo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var go=Math.random().toString(36).slice(2),yo="__reactFiber$"+go,vo="__reactProps$"+go,bo="__reactContainer$"+go,wo="__reactEvents$"+go,xo="__reactListeners$"+go,_o="__reactHandles$"+go;function So(e){var t=e[yo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bo]||n[yo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=mo(e);null!==e;){if(n=e[yo])return n;e=mo(e)}return t}n=(e=n).parentNode}return null}function ko(e){return!(e=e[yo]||e[bo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Eo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ce(33))}function jo(e){return e[vo]||null}var Oo=[],To=-1;function Co(e){return{current:e}}function No(e){0>To||(e.current=Oo[To],Oo[To]=null,To--)}function Po(e,t){To++,Oo[To]=e.current,e.current=t}var Ao={},Io=Co(Ao),Mo=Co(!1),Do=Ao;function Ro(e,t){var n=e.type.contextTypes;if(!n)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Lo(e){return null!=(e=e.childContextTypes)}function Uo(){No(Mo),No(Io)}function Fo(e,t,n){if(Io.current!==Ao)throw Error(ce(168));Po(Io,t),Po(Mo,n)}function zo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(ce(108,Ke(e)||"Unknown",i));return $e({},n,r)}function $o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,Do=Io.current,Po(Io,e),Po(Mo,Mo.current),!0}function Bo(e,t,n){var r=e.stateNode;if(!r)throw Error(ce(169));n?(e=zo(e,t,Do),r.__reactInternalMemoizedMergedChildContext=e,No(Mo),No(Io),Po(Io,e)):No(Mo),Po(Mo,n)}var Vo=null,qo=!1,Wo=!1;function Ho(e){null===Vo?Vo=[e]:Vo.push(e)}function Ko(){if(!Wo&&null!==Vo){Wo=!0;var e=0,t=kn;try{var n=Vo;for(kn=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vo=null,qo=!1}catch($j){throw null!==Vo&&(Vo=Vo.slice(e+1)),Xt(rn,Ko),$j}finally{kn=t,Wo=!1}}return null}var Go=[],Yo=0,Qo=null,Xo=0,Jo=[],Zo=0,ea=null,ta=1,na="";function ra(e,t){Go[Yo++]=Xo,Go[Yo++]=Qo,Qo=e,Xo=t}function ia(e,t,n){Jo[Zo++]=ta,Jo[Zo++]=na,Jo[Zo++]=ea,ea=e;var r=ta;e=na;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var o=32-dn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ta=1<<32-dn(t)+i|n<<i|r,na=o+e}else ta=1<<o|n<<i|r,na=e}function oa(e){null!==e.return&&(ra(e,1),ia(e,1,0))}function aa(e){for(;e===Qo;)Qo=Go[--Yo],Go[Yo]=null,Xo=Go[--Yo],Go[Yo]=null;for(;e===ea;)ea=Jo[--Zo],Jo[Zo]=null,na=Jo[--Zo],Jo[Zo]=null,ta=Jo[--Zo],Jo[Zo]=null}var sa=null,la=null,ca=!1,ua=null;function da(e,t){var n=Du(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ha(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sa=e,la=po(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sa=e,la=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ea?{id:ta,overflow:na}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Du(18,null,null,0)).stateNode=t,n.return=e,e.child=n,sa=e,la=null,!0);default:return!1}}function fa(e){return!(!(1&e.mode)||128&e.flags)}function pa(e){if(ca){var t=la;if(t){var n=t;if(!ha(e,t)){if(fa(e))throw Error(ce(418));t=po(n.nextSibling);var r=sa;t&&ha(e,t)?da(r,n):(e.flags=-4097&e.flags|2,ca=!1,sa=e)}}else{if(fa(e))throw Error(ce(418));e.flags=-4097&e.flags|2,ca=!1,sa=e}}}function ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sa=e}function ga(e){if(e!==sa)return!1;if(!ca)return ma(e),ca=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ao(e.type,e.memoizedProps)),t&&(t=la)){if(fa(e))throw ya(),Error(ce(418));for(;t;)da(e,t),t=po(t.nextSibling)}if(ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){la=po(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}la=null}}else la=sa?po(e.stateNode.nextSibling):null;return!0}function ya(){for(var e=la;e;)e=po(e.nextSibling)}function va(){la=sa=null,ca=!1}function ba(e){null===ua?ua=[e]:ua.push(e)}var wa=ke.ReactCurrentBatchConfig;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function _a(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sa(e){return(0,e._init)(e._payload)}function ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===Oe?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===Re&&Sa(o)===t.type)?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Uu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Fu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ee:return(n=Uu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case je:return(t=Bu(t,e.mode,n)).return=e,t;case Re:return d(e,(0,t._init)(t._payload),n)}if(ot(t)||Fe(t))return(t=Fu(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ee:return n.key===i?l(e,t,n,r):null;case je:return n.key===i?c(e,t,n,r):null;case Re:return h(e,t,(i=n._init)(n._payload),r)}if(ot(n)||Fe(n))return null!==i?null:u(e,t,n,r,null);_a(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ee:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case je:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Re:return f(e,t,n,(0,r._init)(r._payload),i)}if(ot(r)||Fe(r))return u(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}return function s(l,c,u,p){if("object"==typeof u&&null!==u&&u.type===Oe&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case Ee:e:{for(var m=u.key,g=c;null!==g;){if(g.key===m){if((m=u.type)===Oe){if(7===g.tag){n(l,g.sibling),(c=i(g,u.props.children)).return=l,l=c;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===Re&&Sa(m)===g.type){n(l,g.sibling),(c=i(g,u.props)).ref=xa(l,g,u),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}u.type===Oe?((c=Fu(u.props.children,l.mode,p,u.key)).return=l,l=c):((p=Uu(u.type,u.key,u.props,null,l.mode,p)).ref=xa(l,c,u),p.return=l,l=p)}return a(l);case je:e:{for(g=u.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=i(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=Bu(u,l.mode,p)).return=l,l=c}return a(l);case Re:return s(l,c,(g=u._init)(u._payload),p)}if(ot(u))return function(i,a,s,l){for(var c=null,u=null,p=a,m=a=0,g=null;null!==p&&m<s.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=h(i,p,s[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y,p=g}if(m===s.length)return n(i,p),ca&&ra(i,m),c;if(null===p){for(;m<s.length;m++)null!==(p=d(i,s[m],l))&&(a=o(p,a,m),null===u?c=p:u.sibling=p,u=p);return ca&&ra(i,m),c}for(p=r(i,p);m<s.length;m++)null!==(g=f(p,i,m,s[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach((function(e){return t(i,e)})),ca&&ra(i,m),c}(l,c,u,p);if(Fe(u))return function(i,a,s,l){var c=Fe(s);if("function"!=typeof c)throw Error(ce(150));if(null==(s=c.call(s)))throw Error(ce(151));for(var u=c=null,p=a,m=a=0,g=null,y=s.next();null!==p&&!y.done;m++,y=s.next()){p.index>m?(g=p,p=null):g=p.sibling;var v=h(i,p,y.value,l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,p=g}if(y.done)return n(i,p),ca&&ra(i,m),c;if(null===p){for(;!y.done;m++,y=s.next())null!==(y=d(i,y.value,l))&&(a=o(y,a,m),null===u?c=y:u.sibling=y,u=y);return ca&&ra(i,m),c}for(p=r(i,p);!y.done;m++,y=s.next())null!==(y=f(p,i,m,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y);return e&&p.forEach((function(e){return t(i,e)})),ca&&ra(i,m),c}(l,c,u,p);_a(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=i(c,u)).return=l,l=c):(n(l,c),(c=$u(u,l.mode,p)).return=l,l=c),a(l)):n(l,c)}}var Ea=ka(!0),ja=ka(!1),Oa=Co(null),Ta=null,Ca=null,Na=null;function Pa(){Na=Ca=Ta=null}function Aa(e){var t=Oa.current;No(Oa),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ma(e,t){Ta=e,Na=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Sl=!0),e.firstContext=null)}function Da(e){var t=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Ta)throw Error(ce(308));Ca=e,Ta.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var Ra=null;function La(e){null===Ra?Ra=[e]:Ra.push(e)}function Ua(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,La(t)):(n.next=i.next,i.next=n),t.interleaved=n,Fa(e,r)}function Fa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var za=!1;function $a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Va(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ac){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Fa(e,n)}return null===(i=r.interleaved)?(t.next=t,La(r)):(t.next=i.next,i.next=t),r.interleaved=t,Fa(e,n)}function Wa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Sn(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ka(e,t,n,r){var i=e.updateQueue;za=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=$e({},d,h);break e;case 2:za=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);zc|=a,e.lanes=a,e.memoizedState=d}}function Ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(ce(191,i));i.call(r)}}}var Ya={},Qa=Co(Ya),Xa=Co(Ya),Ja=Co(Ya);function Za(e){if(e===Ya)throw Error(ce(174));return e}function es(e,t){switch(Po(Ja,t),Po(Xa,e),Po(Qa,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ht(null,"");break;default:t=ht(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}No(Qa),Po(Qa,t)}function ts(){No(Qa),No(Xa),No(Ja)}function ns(e){Za(Ja.current);var t=Za(Qa.current),n=ht(t,e.type);t!==n&&(Po(Xa,e),Po(Qa,n))}function rs(e){Xa.current===e&&(No(Qa),No(Xa))}var is=Co(0);function os(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var as=[];function ss(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var ls=ke.ReactCurrentDispatcher,cs=ke.ReactCurrentBatchConfig,us=0,ds=null,hs=null,fs=null,ps=!1,ms=!1,gs=0,ys=0;function vs(){throw Error(ce(321))}function bs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!di(e[n],t[n]))return!1;return!0}function ws(e,t,n,r,i,o){if(us=o,ds=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ls.current=null===e||null===e.memoizedState?rl:il,e=n(r,i),ms){o=0;do{if(ms=!1,gs=0,25<=o)throw Error(ce(301));o+=1,fs=hs=null,t.updateQueue=null,ls.current=ol,e=n(r,i)}while(ms)}if(ls.current=nl,t=null!==hs&&null!==hs.next,us=0,fs=hs=ds=null,ps=!1,t)throw Error(ce(300));return e}function xs(){var e=0!==gs;return gs=0,e}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fs?ds.memoizedState=fs=e:fs=fs.next=e,fs}function Ss(){if(null===hs){var e=ds.alternate;e=null!==e?e.memoizedState:null}else e=hs.next;var t=null===fs?ds.memoizedState:fs.next;if(null!==t)fs=t,hs=e;else{if(null===e)throw Error(ce(310));e={memoizedState:(hs=e).memoizedState,baseState:hs.baseState,baseQueue:hs.baseQueue,queue:hs.queue,next:null},null===fs?ds.memoizedState=fs=e:fs=fs.next=e}return fs}function ks(e,t){return"function"==typeof t?t(e):t}function Es(e){var t=Ss(),n=t.queue;if(null===n)throw Error(ce(311));n.lastRenderedReducer=e;var r=hs,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((us&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=d,a=r):l=l.next=d,ds.lanes|=u,zc|=u}c=c.next}while(null!==c&&c!==o);null===l?a=r:l.next=s,di(r,t.memoizedState)||(Sl=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ds.lanes|=o,zc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function js(e){var t=Ss(),n=t.queue;if(null===n)throw Error(ce(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);di(o,t.memoizedState)||(Sl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Os(){}function Ts(e,t){var n=ds,r=Ss(),i=t(),o=!di(r.memoizedState,i);if(o&&(r.memoizedState=i,Sl=!0),r=r.queue,zs(Ps.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==fs&&1&fs.memoizedState.tag){if(n.flags|=2048,Ds(9,Ns.bind(null,n,r,i,t),void 0,null),null===Ic)throw Error(ce(349));30&us||Cs(n,t,i)}return i}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ns(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Is(e)}function Ps(e,t,n){return n((function(){As(t)&&Is(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!di(e,n)}catch(r){return!0}}function Is(e){var t=Fa(e,1);null!==t&&au(t,e,1,-1)}function Ms(e){var t=_s();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Js.bind(null,ds,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return Ss().memoizedState}function Ls(e,t,n,r){var i=_s();ds.flags|=e,i.memoizedState=Ds(1|t,n,void 0,void 0===r?null:r)}function Us(e,t,n,r){var i=Ss();r=void 0===r?null:r;var o=void 0;if(null!==hs){var a=hs.memoizedState;if(o=a.destroy,null!==r&&bs(r,a.deps))return void(i.memoizedState=Ds(t,n,o,r))}ds.flags|=e,i.memoizedState=Ds(1|t,n,o,r)}function Fs(e,t){return Ls(8390656,8,e,t)}function zs(e,t){return Us(2048,8,e,t)}function $s(e,t){return Us(4,2,e,t)}function Bs(e,t){return Us(4,4,e,t)}function Vs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qs(e,t,n){return n=null!=n?n.concat([e]):null,Us(4,4,Vs.bind(null,t,e),n)}function Ws(){}function Hs(e,t){var n=Ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ks(e,t){var n=Ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gs(e,t,n){return 21&us?(di(n,t)||(n=wn(),ds.lanes|=n,zc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sl=!0),e.memoizedState=n)}function Ys(e,t){var n=kn;kn=0!==n&&4>n?n:4,e(!0);var r=cs.transition;cs.transition={};try{e(!1),t()}finally{kn=n,cs.transition=r}}function Qs(){return Ss().memoizedState}function Xs(e,t,n){var r=ou(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zs(e))el(t,n);else if(null!==(n=Ua(e,t,n,r))){au(n,e,r,iu()),tl(n,t,r)}}function Js(e,t,n){var r=ou(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zs(e))el(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,di(s,a)){var l=t.interleaved;return null===l?(i.next=i,La(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(qj){}null!==(n=Ua(e,t,i,r))&&(au(n,e,r,i=iu()),tl(n,t,r))}}function Zs(e){var t=e.alternate;return e===ds||null!==t&&t===ds}function el(e,t){ms=ps=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tl(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Sn(e,n)}}var nl={readContext:Da,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useInsertionEffect:vs,useLayoutEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useMutableSource:vs,useSyncExternalStore:vs,useId:vs,unstable_isNewReconciler:!1},rl={readContext:Da,useCallback:function(e,t){return _s().memoizedState=[e,void 0===t?null:t],e},useContext:Da,useEffect:Fs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ls(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=_s();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_s();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xs.bind(null,ds,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_s().memoizedState=e},useState:Ms,useDebugValue:Ws,useDeferredValue:function(e){return _s().memoizedState=e},useTransition:function(){var e=Ms(!1),t=e[0];return e=Ys.bind(null,e[1]),_s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ds,i=_s();if(ca){if(void 0===n)throw Error(ce(407));n=n()}else{if(n=t(),null===Ic)throw Error(ce(349));30&us||Cs(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fs(Ps.bind(null,r,o,e),[e]),r.flags|=2048,Ds(9,Ns.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_s(),t=Ic.identifierPrefix;if(ca){var n=na;t=":"+t+"R"+(n=(ta&~(1<<32-dn(ta)-1)).toString(32)+n),0<(n=gs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ys++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},il={readContext:Da,useCallback:Hs,useContext:Da,useEffect:zs,useImperativeHandle:qs,useInsertionEffect:$s,useLayoutEffect:Bs,useMemo:Ks,useReducer:Es,useRef:Rs,useState:function(){return Es(ks)},useDebugValue:Ws,useDeferredValue:function(e){return Gs(Ss(),hs.memoizedState,e)},useTransition:function(){return[Es(ks)[0],Ss().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ts,useId:Qs,unstable_isNewReconciler:!1},ol={readContext:Da,useCallback:Hs,useContext:Da,useEffect:zs,useImperativeHandle:qs,useInsertionEffect:$s,useLayoutEffect:Bs,useMemo:Ks,useReducer:js,useRef:Rs,useState:function(){return js(ks)},useDebugValue:Ws,useDeferredValue:function(e){var t=Ss();return null===hs?t.memoizedState=e:Gs(t,hs.memoizedState,e)},useTransition:function(){return[js(ks)[0],Ss().memoizedState]},useMutableSource:Os,useSyncExternalStore:Ts,useId:Qs,unstable_isNewReconciler:!1};function al(e,t){if(e&&e.defaultProps){for(var n in t=$e({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function sl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:$e({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ll={isMounted:function(e){return!!(e=e._reactInternals)&&Ht(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=iu(),i=ou(e),o=Va(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=qa(e,o,i))&&(au(t,e,i,r),Wa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=iu(),i=ou(e),o=Va(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=qa(e,o,i))&&(au(t,e,i,r),Wa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=iu(),r=ou(e),i=Va(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=qa(e,i,r))&&(au(t,e,r,n),Wa(t,e,r))}};function cl(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!hi(n,r)||!hi(i,o))}function ul(e,t,n){var r=!1,i=Ao,o=t.contextType;return"object"==typeof o&&null!==o?o=Da(o):(i=Lo(t)?Do:Io.current,o=(r=null!=(r=t.contextTypes))?Ro(e,i):Ao),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ll,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function dl(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ll.enqueueReplaceState(t,t.state,null)}function hl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$a(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Da(o):(o=Lo(t)?Do:Io.current,i.context=Ro(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(sl(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ll.enqueueReplaceState(i,i.state,null),Ka(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function fl(e,t){try{var n="",r=t;do{n+=We(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function pl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ml(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var gl="function"==typeof WeakMap?WeakMap:Map;function yl(e,t,n){(n=Va(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gc||(Gc=!0,Yc=r),ml(0,t)},n}function vl(e,t,n){(n=Va(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ml(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ml(0,t),"function"!=typeof r&&(null===Qc?Qc=new Set([this]):Qc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new gl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function wl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Va(-1,1)).tag=2,qa(n,t,1))),n.lanes|=1),e)}var _l=ke.ReactCurrentOwner,Sl=!1;function kl(e,t,n,r){t.child=null===e?ja(t,null,n,r):Ea(t,e.child,n,r)}function El(e,t,n,r,i){n=n.render;var o=t.ref;return Ma(t,i),r=ws(e,t,n,r,o,i),n=xs(),null===e||Sl?(ca&&n&&oa(t),t.flags|=1,kl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gl(e,t,i))}function jl(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Ru(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ol(e,t,o,r,i))}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:hi)(a,r)&&e.ref===t.ref)return Gl(e,t,i)}return t.flags|=1,(e=Lu(o,r)).ref=t.ref,e.return=t,t.child=e}function Ol(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(hi(o,r)&&e.ref===t.ref){if(Sl=!1,t.pendingProps=r=o,!(e.lanes&i))return t.lanes=e.lanes,Gl(e,t,i);131072&e.flags&&(Sl=!0)}}return Nl(e,t,n,r,i)}function Tl(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Po(Lc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Po(Lc,Rc),Rc|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Po(Lc,Rc),Rc|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Po(Lc,Rc),Rc|=r;return kl(e,t,i,n),t.child}function Cl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,n,r,i){var o=Lo(n)?Do:Io.current;return o=Ro(t,o),Ma(t,i),n=ws(e,t,n,r,o,i),r=xs(),null===e||Sl?(ca&&r&&oa(t),t.flags|=1,kl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gl(e,t,i))}function Pl(e,t,n,r,i){if(Lo(n)){var o=!0;$o(t)}else o=!1;if(Ma(t,i),null===t.stateNode)Kl(e,t),ul(t,n,r),hl(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Da(c):c=Ro(t,c=Lo(n)?Do:Io.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&dl(t,a,r,c),za=!1;var h=t.memoizedState;a.state=h,Ka(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Mo.current||za?("function"==typeof u&&(sl(t,n,u,r),l=t.memoizedState),(s=za||cl(t,n,s,r,h,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ba(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:al(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Da(l):l=Ro(t,l=Lo(n)?Do:Io.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&dl(t,a,r,l),za=!1,h=t.memoizedState,a.state=h,Ka(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Mo.current||za?("function"==typeof f&&(sl(t,n,f,r),p=t.memoizedState),(c=za||cl(t,n,c,r,h,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,o,i)}function Al(e,t,n,r,i,o){Cl(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Bo(t,n,!1),Gl(e,t,o);r=t.stateNode,_l.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ea(t,e.child,null,o),t.child=Ea(t,null,s,o)):kl(e,t,s,o),t.memoizedState=r.state,i&&Bo(t,n,!0),t.child}function Il(e){var t=e.stateNode;t.pendingContext?Fo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fo(0,t.context,!1),es(e,t.containerInfo)}function Ml(e,t,n,r,i){return va(),ba(i),t.flags|=256,kl(e,t,n,r),t.child}var Dl,Rl,Ll,Ul,Fl={dehydrated:null,treeContext:null,retryLane:0};function zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function $l(e,t,n){var r,i=t.pendingProps,o=is.current,a=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Po(is,1&o),null===e)return pa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,e=i.fallback,a?(i=t.mode,a=t.child,s={mode:"hidden",children:s},1&i||null===a?a=zu(s,i,0,null):(a.childLanes=0,a.pendingProps=s),e=Fu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=zl(n),t.memoizedState=Fl,e):Bl(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Vl(e,t,a,r=pl(Error(ce(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=zu({mode:"visible",children:r.children},i,0,null),(o=Fu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,1&t.mode&&Ea(t,e.child,null,a),t.child.memoizedState=zl(a),t.memoizedState=Fl,o);if(!(1&t.mode))return Vl(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vl(e,t,a,r=pl(o=Error(ce(419)),r,void 0))}if(s=!!(a&e.childLanes),Sl||s){if(null!==(r=Ic)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|a)?0:i)&&i!==o.retryLane&&(o.retryLane=i,Fa(e,i),au(r,e,i,-1))}return bu(),Vl(e,t,a,r=pl(Error(ce(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,la=po(i.nextSibling),sa=t,ca=!0,ua=null,null!==e&&(Jo[Zo++]=ta,Jo[Zo++]=na,Jo[Zo++]=ea,ta=e.id,na=e.overflow,ea=t),t=Bl(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(a){a=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&s||t.child===o?(i=Lu(o,l)).subtreeFlags=14680064&o.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?a=Lu(r,a):(a=Fu(a,s,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,s=null===(s=e.child.memoizedState)?zl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Fl,i}return e=(a=e.child).sibling,i=Lu(a,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bl(e,t){return(t=zu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vl(e,t,n,r){return null!==r&&ba(r),Ea(t,e.child,null,n),(e=Bl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ql(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function Wl(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(kl(e,t,r.children,n),2&(r=is.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ql(e,n,t);else if(19===e.tag)ql(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Po(is,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===os(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===os(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wl(t,!0,n,null,o);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Kl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zc|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ce(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yl(e,t){if(!ca)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xl(e,t,n){var r=t.pendingProps;switch(aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ql(t),null;case 1:case 17:return Lo(t.type)&&Uo(),Ql(t),null;case 3:return r=t.stateNode,ts(),No(Mo),No(Io),ss(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ga(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ua&&(uu(ua),ua=null))),Rl(e,t),Ql(t),null;case 5:rs(t);var i=Za(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)Ll(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(ce(166));return Ql(t),null}if(e=Za(Qa.current),ga(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[yo]=t,r[vo]=o,e=!!(1&t.mode),n){case"dialog":Vi("cancel",r),Vi("close",r);break;case"iframe":case"object":case"embed":Vi("load",r);break;case"video":case"audio":for(i=0;i<Fi.length;i++)Vi(Fi[i],r);break;case"source":Vi("error",r);break;case"img":case"image":case"link":Vi("error",r),Vi("load",r);break;case"details":Vi("toggle",r);break;case"input":et(r,o),Vi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vi("invalid",r);break;case"textarea":lt(r,o),Vi("invalid",r)}for(var a in _t(n,o),i=null,o)if(o.hasOwnProperty(a)){var s=o[a];"children"===a?"string"==typeof s?r.textContent!==s&&(!0!==o.suppressHydrationWarning&&no(r.textContent,s,e),i=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(!0!==o.suppressHydrationWarning&&no(r.textContent,s,e),i=["children",""+s]):de.hasOwnProperty(a)&&null!=s&&"onScroll"===a&&Vi("scroll",r)}switch(n){case"input":Qe(r),rt(r,o,!0);break;case"textarea":Qe(r),ut(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=ro)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=dt(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[yo]=t,e[vo]=r,Dl(e,t,!1,!1),t.stateNode=e;e:{switch(a=St(n,r),n){case"dialog":Vi("cancel",e),Vi("close",e),i=r;break;case"iframe":case"object":case"embed":Vi("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fi.length;i++)Vi(Fi[i],e);i=r;break;case"source":Vi("error",e),i=r;break;case"img":case"image":case"link":Vi("error",e),Vi("load",e),i=r;break;case"details":Vi("toggle",e),i=r;break;case"input":et(e,r),i=Ze(e,r),Vi("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Vi("invalid",e);break;case"textarea":lt(e,r),i=st(e,r),Vi("invalid",e)}for(o in _t(n,i),s=i)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?wt(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&mt(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&gt(e,l):"number"==typeof l&&gt(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(de.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vi("scroll",e):null!=l&&Se(e,o,l,a))}switch(n){case"input":Qe(e),rt(e,r,!1);break;case"textarea":Qe(e),ut(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?at(e,!!r.multiple,o,!1):null!=r.defaultValue&&at(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=ro)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ql(t),null;case 6:if(e&&null!=t.stateNode)Ul(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(ce(166));if(n=Za(Ja.current),Za(Qa.current),ga(t)){if(r=t.stateNode,n=t.memoizedProps,r[yo]=t,(o=r.nodeValue!==n)&&null!==(e=sa))switch(e.tag){case 3:no(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&no(r.nodeValue,n,!!(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[yo]=t,t.stateNode=r}return Ql(t),null;case 13:if(No(is),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ca&&null!==la&&1&t.mode&&!(128&t.flags))ya(),va(),t.flags|=98560,o=!1;else if(o=ga(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(ce(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(ce(317));o[yo]=t}else va(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ql(t),o=!1}else null!==ua&&(uu(ua),ua=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&is.current?0===Uc&&(Uc=3):bu())),null!==t.updateQueue&&(t.flags|=4),Ql(t),null);case 4:return ts(),Rl(e,t),null===e&&Hi(t.stateNode.containerInfo),Ql(t),null;case 10:return Aa(t.type._context),Ql(t),null;case 19:if(No(is),null===(o=t.memoizedState))return Ql(t),null;if(r=!!(128&t.flags),null===(a=o.rendering))if(r)Yl(o,!1);else{if(0!==Uc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=os(e))){for(t.flags|=128,Yl(o,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Po(is,1&is.current|2),t.child}e=e.sibling}null!==o.tail&&tn()>Hc&&(t.flags|=128,r=!0,Yl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=os(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!ca)return Ql(t),null}else 2*tn()-o.renderingStartTime>Hc&&1073741824!==n&&(t.flags|=128,r=!0,Yl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=o.last)?n.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,n=is.current,Po(is,r?1&n|2:1&n),t):(Ql(t),null);case 22:case 23:return mu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Rc)&&(Ql(t),6&t.subtreeFlags&&(t.flags|=8192)):Ql(t),null;case 24:case 25:return null}throw Error(ce(156,t.tag))}function Jl(e,t){switch(aa(t),t.tag){case 1:return Lo(t.type)&&Uo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ts(),No(Mo),No(Io),ss(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return rs(t),null;case 13:if(No(is),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ce(340));va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return No(is),null;case 4:return ts(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return mu(),null;default:return null}}Dl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rl=function(){},Ll=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Za(Qa.current);var o,a=null;switch(n){case"input":i=Ze(e,i),r=Ze(e,r),a=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),a=[];break;case"textarea":i=st(e,i),r=st(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=ro)}for(c in _t(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(de.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(de.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vi("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ul=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zl=!1,ec=!1,tc="function"==typeof WeakSet?WeakSet:Set,nc=null;function rc(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function ic(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var oc=!1;function ac(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ic(t,n,o)}i=i.next}while(i!==r)}}function sc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function cc(e){var t=e.alternate;null!==t&&(e.alternate=null,cc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[yo],delete t[vo],delete t[wo],delete t[xo],delete t[_o])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uc(e){return 5===e.tag||3===e.tag||4===e.tag}function dc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||uc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function hc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ro));else if(4!==r&&null!==(e=e.child))for(hc(e,t,n),e=e.sibling;null!==e;)hc(e,t,n),e=e.sibling}function fc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(fc(e,t,n),e=e.sibling;null!==e;)fc(e,t,n),e=e.sibling}var pc=null,mc=!1;function gc(e,t,n){for(n=n.child;null!==n;)yc(e,t,n),n=n.sibling}function yc(e,t,n){if(un&&"function"==typeof un.onCommitFiberUnmount)try{un.onCommitFiberUnmount(cn,n)}catch(s){}switch(n.tag){case 5:ec||rc(n,t);case 6:var r=pc,i=mc;pc=null,gc(e,t,n),mc=i,null!==(pc=r)&&(mc?(e=pc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):pc.removeChild(n.stateNode));break;case 18:null!==pc&&(mc?(e=pc,n=n.stateNode,8===e.nodeType?fo(e.parentNode,n):1===e.nodeType&&fo(e,n),Kn(e)):fo(pc,n.stateNode));break;case 4:r=pc,i=mc,pc=n.stateNode.containerInfo,mc=!0,gc(e,t,n),pc=r,mc=i;break;case 0:case 11:case 14:case 15:if(!ec&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&ic(n,t,a),i=i.next}while(i!==r)}gc(e,t,n);break;case 1:if(!ec&&(rc(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tu(n,t,s)}gc(e,t,n);break;case 21:gc(e,t,n);break;case 22:1&n.mode?(ec=(r=ec)||null!==n.memoizedState,gc(e,t,n),ec=r):gc(e,t,n);break;default:gc(e,t,n)}}function vc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new tc),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function bc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 5:pc=s.stateNode,mc=!1;break e;case 3:case 4:pc=s.stateNode.containerInfo,mc=!0;break e}s=s.return}if(null===pc)throw Error(ce(160));yc(o,a,i),pc=null,mc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(qj){Tu(i,t,qj)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)wc(t,e),t=t.sibling}function wc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bc(t,e),xc(e),4&r){try{ac(3,e,e.return),sc(3,e)}catch(Bj){Tu(e,e.return,Bj)}try{ac(5,e,e.return)}catch(Bj){Tu(e,e.return,Bj)}}break;case 1:bc(t,e),xc(e),512&r&&null!==n&&rc(n,n.return);break;case 5:if(bc(t,e),xc(e),512&r&&null!==n&&rc(n,n.return),32&e.flags){var i=e.stateNode;try{gt(i,"")}catch(Bj){Tu(e,e.return,Bj)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&tt(i,o),St(s,a);var c=St(s,o);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];"style"===u?wt(i,d):"dangerouslySetInnerHTML"===u?mt(i,d):"children"===u?gt(i,d):Se(i,u,d,c)}switch(s){case"input":nt(i,o);break;case"textarea":ct(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?at(i,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?at(i,!!o.multiple,o.defaultValue,!0):at(i,!!o.multiple,o.multiple?[]:"",!1))}i[vo]=o}catch(Bj){Tu(e,e.return,Bj)}}break;case 6:if(bc(t,e),xc(e),4&r){if(null===e.stateNode)throw Error(ce(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(Bj){Tu(e,e.return,Bj)}}break;case 3:if(bc(t,e),xc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kn(t.containerInfo)}catch(Bj){Tu(e,e.return,Bj)}break;case 4:default:bc(t,e),xc(e);break;case 13:bc(t,e),xc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wc=tn())),4&r&&vc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(ec=(c=ec)||u,bc(t,e),ec=c):bc(t,e),xc(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(nc=e,u=e.child;null!==u;){for(d=nc=u;null!==nc;){switch(f=(h=nc).child,h.tag){case 0:case 11:case 14:case 15:ac(4,h,h.return);break;case 1:rc(h,h.return);var p=h.stateNode;if("function"==typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(Bj){Tu(r,n,Bj)}}break;case 5:rc(h,h.return);break;case 22:if(null!==h.memoizedState){Ec(d);continue}}null!==f?(f.return=h,nc=f):Ec(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{i=d.stateNode,c?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,a=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=bt("display",a))}catch(Bj){Tu(e,e.return,Bj)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(Bj){Tu(e,e.return,Bj)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bc(t,e),xc(e),4&r&&vc(e);case 21:}}function xc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(uc(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(gt(i,""),r.flags&=-33),fc(e,dc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;hc(e,dc(e),o);break;default:throw Error(ce(161))}}catch(a){Tu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _c(e,t,n){nc=e,Sc(e)}function Sc(e,t,n){for(var r=!!(1&e.mode);null!==nc;){var i=nc,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Zl;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||ec;s=Zl;var c=ec;if(Zl=a,(ec=l)&&!c)for(nc=i;null!==nc;)l=(a=nc).child,22===a.tag&&null!==a.memoizedState?jc(i):null!==l?(l.return=a,nc=l):jc(i);for(;null!==o;)nc=o,Sc(o),o=o.sibling;nc=i,Zl=s,ec=c}kc(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,nc=o):kc(e)}}function kc(e){for(;null!==nc;){var t=nc;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:ec||sc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ec)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:al(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ga(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ga(t,a,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Kn(d)}}}break;default:throw Error(ce(163))}ec||512&t.flags&&lc(t)}catch(Vj){Tu(t,t.return,Vj)}}if(t===e){nc=null;break}if(null!==(n=t.sibling)){n.return=t.return,nc=n;break}nc=t.return}}function Ec(e){for(;null!==nc;){var t=nc;if(t===e){nc=null;break}var n=t.sibling;if(null!==n){n.return=t.return,nc=n;break}nc=t.return}}function jc(e){for(;null!==nc;){var t=nc;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sc(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tu(t,i,l)}}var o=t.return;try{lc(t)}catch(l){Tu(t,o,l)}break;case 5:var a=t.return;try{lc(t)}catch(l){Tu(t,a,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){nc=null;break}var s=t.sibling;if(null!==s){s.return=t.return,nc=s;break}nc=t.return}}var Oc,Tc=Math.ceil,Cc=ke.ReactCurrentDispatcher,Nc=ke.ReactCurrentOwner,Pc=ke.ReactCurrentBatchConfig,Ac=0,Ic=null,Mc=null,Dc=0,Rc=0,Lc=Co(0),Uc=0,Fc=null,zc=0,$c=0,Bc=0,Vc=null,qc=null,Wc=0,Hc=1/0,Kc=null,Gc=!1,Yc=null,Qc=null,Xc=!1,Jc=null,Zc=0,eu=0,tu=null,nu=-1,ru=0;function iu(){return 6&Ac?tn():-1!==nu?nu:nu=tn()}function ou(e){return 1&e.mode?2&Ac&&0!==Dc?Dc&-Dc:null!==wa.transition?(0===ru&&(ru=wn()),ru):0!==(e=kn)?e:e=void 0===(e=window.event)?16:tr(e.type):1}function au(e,t,n,r){if(50<eu)throw eu=0,tu=null,Error(ce(185));_n(e,n,r),2&Ac&&e===Ic||(e===Ic&&(!(2&Ac)&&($c|=n),4===Uc&&du(e,Dc)),su(e,r),1===n&&0===Ac&&!(1&t.mode)&&(Hc=tn()+500,qo&&Ko()))}function su(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-dn(o),s=1<<a,l=i[a];-1===l?s&n&&!(s&r)||(i[a]=vn(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=yn(e,e===Ic?Dc:0);if(0===r)null!==n&&Jt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Jt(n),1===t)0===e.tag?function(e){qo=!0,Ho(e)}(hu.bind(null,e)):Ho(hu.bind(null,e)),uo((function(){!(6&Ac)&&Ko()})),n=null;else{switch(En(r)){case 1:n=rn;break;case 4:n=on;break;case 16:default:n=an;break;case 536870912:n=ln}n=Iu(n,lu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lu(e,t){if(nu=-1,ru=0,6&Ac)throw Error(ce(327));var n=e.callbackNode;if(ju()&&e.callbackNode!==n)return null;var r=yn(e,e===Ic?Dc:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=wu(e,r);else{t=r;var i=Ac;Ac|=2;var o=vu();for(Ic===e&&Dc===t||(Kc=null,Hc=tn()+500,gu(e,t));;)try{_u();break}catch(s){yu(e,s)}Pa(),Cc.current=o,Ac=i,null!==Mc?t=0:(Ic=null,Dc=0,t=Uc)}if(0!==t){if(2===t&&(0!==(i=bn(e))&&(r=i,t=cu(e,i))),1===t)throw n=Fc,gu(e,0),du(e,r),su(e,tn()),n;if(6===t)du(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!di(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=wu(e,r),2===t&&(o=bn(e),0!==o&&(r=o,t=cu(e,o))),1!==t)))throw n=Fc,gu(e,0),du(e,r),su(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ce(345));case 2:case 5:Eu(e,qc,Kc);break;case 3:if(du(e,r),(130023424&r)===r&&10<(t=Wc+500-tn())){if(0!==yn(e,0))break;if(((i=e.suspendedLanes)&r)!==r){iu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=so(Eu.bind(null,e,qc,Kc),t);break}Eu(e,qc,Kc);break;case 4:if(du(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-dn(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=so(Eu.bind(null,e,qc,Kc),r);break}Eu(e,qc,Kc);break;default:throw Error(ce(329))}}}return su(e,tn()),e.callbackNode===n?lu.bind(null,e):null}function cu(e,t){var n=Vc;return e.current.memoizedState.isDehydrated&&(gu(e,t).flags|=256),2!==(e=wu(e,t))&&(t=qc,qc=n,null!==t&&uu(t)),e}function uu(e){null===qc?qc=e:qc.push.apply(qc,e)}function du(e,t){for(t&=~Bc,t&=~$c,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dn(t),r=1<<n;e[n]=-1,t&=~r}}function hu(e){if(6&Ac)throw Error(ce(327));ju();var t=yn(e,0);if(!(1&t))return su(e,tn()),null;var n=wu(e,t);if(0!==e.tag&&2===n){var r=bn(e);0!==r&&(t=r,n=cu(e,r))}if(1===n)throw n=Fc,gu(e,0),du(e,t),su(e,tn()),n;if(6===n)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,qc,Kc),su(e,tn()),null}function fu(e,t){var n=Ac;Ac|=1;try{return e(t)}finally{0===(Ac=n)&&(Hc=tn()+500,qo&&Ko())}}function pu(e){null!==Jc&&0===Jc.tag&&!(6&Ac)&&ju();var t=Ac;Ac|=1;var n=Pc.transition,r=kn;try{if(Pc.transition=null,kn=1,e)return e()}finally{kn=r,Pc.transition=n,!(6&(Ac=t))&&Ko()}}function mu(){Rc=Lc.current,No(Lc)}function gu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,lo(n)),null!==Mc)for(n=Mc.return;null!==n;){var r=n;switch(aa(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Uo();break;case 3:ts(),No(Mo),No(Io),ss();break;case 5:rs(r);break;case 4:ts();break;case 13:case 19:No(is);break;case 10:Aa(r.type._context);break;case 22:case 23:mu()}n=n.return}if(Ic=e,Mc=e=Lu(e.current,null),Dc=Rc=t,Uc=0,Fc=null,Bc=$c=zc=0,qc=Vc=null,null!==Ra){for(t=0;t<Ra.length;t++)if(null!==(r=(n=Ra[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ra=null}return e}function yu(e,t){for(;;){var n=Mc;try{if(Pa(),ls.current=nl,ps){for(var r=ds.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ps=!1}if(us=0,fs=hs=ds=null,ms=!1,gs=0,Nc.current=null,null===n||null===n.return){Uc=1,Fc=t,Mc=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Dc,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=s,d=u.tag;if(!(1&u.mode||0!==d&&11!==d&&15!==d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=wl(a);if(null!==f){f.flags&=-257,xl(f,a,s,0,t),1&f.mode&&bl(o,c,t),l=c;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){bl(o,c,t),bu();break e}l=Error(ce(426))}else if(ca&&1&s.mode){var g=wl(a);if(null!==g){!(65536&g.flags)&&(g.flags|=256),xl(g,a,s,0,t),ba(fl(l,s));break e}}o=l=fl(l,s),4!==Uc&&(Uc=2),null===Vc?Vc=[o]:Vc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ha(o,yl(0,l,t));break e;case 1:s=l;var y=o.type,v=o.stateNode;if(!(128&o.flags||"function"!=typeof y.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Qc&&Qc.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Ha(o,vl(o,s,t));break e}}o=o.return}while(null!==o)}ku(n)}catch(b){t=b,Mc===n&&null!==n&&(Mc=n=n.return);continue}break}}function vu(){var e=Cc.current;return Cc.current=nl,null===e?nl:e}function bu(){0!==Uc&&3!==Uc&&2!==Uc||(Uc=4),null===Ic||!(268435455&zc)&&!(268435455&$c)||du(Ic,Dc)}function wu(e,t){var n=Ac;Ac|=2;var r=vu();for(Ic===e&&Dc===t||(Kc=null,gu(e,t));;)try{xu();break}catch($j){yu(e,$j)}if(Pa(),Ac=n,Cc.current=r,null!==Mc)throw Error(ce(261));return Ic=null,Dc=0,Uc}function xu(){for(;null!==Mc;)Su(Mc)}function _u(){for(;null!==Mc&&!Zt();)Su(Mc)}function Su(e){var t=Oc(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?ku(e):Mc=t,Nc.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Jl(n,t)))return n.flags&=32767,void(Mc=n);if(null===e)return Uc=6,void(Mc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Xl(n,t,Rc)))return void(Mc=n);if(null!==(t=t.sibling))return void(Mc=t);Mc=t=e}while(null!==t);0===Uc&&(Uc=5)}function Eu(e,t,n){var r=kn,i=Pc.transition;try{Pc.transition=null,kn=1,function(e,t,n,r){do{ju()}while(null!==Jc);if(6&Ac)throw Error(ce(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===Ic&&(Mc=Ic=null,Dc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Xc||(Xc=!0,Iu(an,(function(){return ju(),null}))),o=!!(15990&n.flags),!!(15990&n.subtreeFlags)||o){o=Pc.transition,Pc.transition=null;var a=kn;kn=1;var s=Ac;Ac|=4,Nc.current=null,function(e,t){if(io=Yn,yi(e=gi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(s=a+i),d!==o||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++c===i&&(s=a),h===o&&++u===r&&(l=a),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(oo={focusedElem:e,selectionRange:n},Yn=!1,nc=t;null!==nc;)if(e=(t=nc).child,1028&t.subtreeFlags&&null!==e)e.return=t,nc=e;else for(;null!==nc;){t=nc;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:al(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(ce(163))}}catch(w){Tu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,nc=e;break}nc=t.return}p=oc,oc=!1}(e,n),wc(n,e),vi(oo),Yn=!!io,oo=io=null,e.current=n,_c(n),en(),Ac=s,kn=a,Pc.transition=o}else e.current=n;if(Xc&&(Xc=!1,Jc=e,Zc=i),o=e.pendingLanes,0===o&&(Qc=null),function(e){if(un&&"function"==typeof un.onCommitFiberRoot)try{un.onCommitFiberRoot(cn,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),su(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,e=Yc,Yc=null,e;!!(1&Zc)&&0!==e.tag&&ju(),o=e.pendingLanes,1&o?e===tu?eu++:(eu=0,tu=e):eu=0,Ko()}(e,t,n,r)}finally{Pc.transition=i,kn=r}return null}function ju(){if(null!==Jc){var e=En(Zc),t=Pc.transition,n=kn;try{if(Pc.transition=null,kn=16>e?16:e,null===Jc)var r=!1;else{if(e=Jc,Jc=null,Zc=0,6&Ac)throw Error(ce(331));var i=Ac;for(Ac|=4,nc=e.current;null!==nc;){var o=nc,a=o.child;if(16&nc.flags){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(nc=c;null!==nc;){var u=nc;switch(u.tag){case 0:case 11:case 15:ac(8,u,o)}var d=u.child;if(null!==d)d.return=u,nc=d;else for(;null!==nc;){var h=(u=nc).sibling,f=u.return;if(cc(u),u===c){nc=null;break}if(null!==h){h.return=f,nc=h;break}nc=f}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}nc=o}}if(2064&o.subtreeFlags&&null!==a)a.return=o,nc=a;else e:for(;null!==nc;){if(2048&(o=nc).flags)switch(o.tag){case 0:case 11:case 15:ac(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,nc=y;break e}nc=o.return}}var v=e.current;for(nc=v;null!==nc;){var b=(a=nc).child;if(2064&a.subtreeFlags&&null!==b)b.return=a,nc=b;else e:for(a=v;null!==nc;){if(2048&(s=nc).flags)try{switch(s.tag){case 0:case 11:case 15:sc(9,s)}}catch(x){Tu(s,s.return,x)}if(s===a){nc=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,nc=w;break e}nc=s.return}}if(Ac=i,Ko(),un&&"function"==typeof un.onPostCommitFiberRoot)try{un.onPostCommitFiberRoot(cn,e)}catch(x){}r=!0}return r}finally{kn=n,Pc.transition=t}}return!1}function Ou(e,t,n){e=qa(e,t=yl(0,t=fl(n,t),1),1),t=iu(),null!==e&&(_n(e,1,t),su(e,t))}function Tu(e,t,n){if(3===e.tag)Ou(e,e,n);else for(;null!==t;){if(3===t.tag){Ou(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qc||!Qc.has(r))){t=qa(t,e=vl(t,e=fl(n,e),1),1),e=iu(),null!==t&&(_n(t,1,e),su(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=iu(),e.pingedLanes|=e.suspendedLanes&n,Ic===e&&(Dc&n)===n&&(4===Uc||3===Uc&&(130023424&Dc)===Dc&&500>tn()-Wc?gu(e,0):Bc|=n),su(e,t)}function Nu(e,t){0===t&&(1&e.mode?(t=mn,!(130023424&(mn<<=1))&&(mn=4194304)):t=1);var n=iu();null!==(e=Fa(e,t))&&(_n(e,t,n),su(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ce(314))}null!==r&&r.delete(t),Nu(e,n)}function Iu(e,t){return Xt(e,t)}function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(e,t,n,r){return new Mu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Du(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uu(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Ru(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Oe:return Fu(n.children,i,o,t);case Te:a=8,i|=8;break;case Ce:return(e=Du(12,n,t,2|i)).elementType=Ce,e.lanes=o,e;case Ie:return(e=Du(13,n,t,i)).elementType=Ie,e.lanes=o,e;case Me:return(e=Du(19,n,t,i)).elementType=Me,e.lanes=o,e;case Le:return zu(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ne:a=10;break e;case Pe:a=9;break e;case Ae:a=11;break e;case De:a=14;break e;case Re:a=16,r=null;break e}throw Error(ce(130,null==e?e:typeof e,""))}return(t=Du(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fu(e,t,n,r){return(e=Du(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=Du(22,e,r,t)).elementType=Le,e.lanes=n,e.stateNode={isHidden:!1},e}function $u(e,t,n){return(e=Du(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Du(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xn(0),this.expirationTimes=xn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qu(e,t,n,r,i,o,a,s,l){return e=new Vu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Du(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$a(o),e}function Wu(e){if(!e)return Ao;e:{if(Ht(e=e._reactInternals)!==e||1!==e.tag)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(ce(171))}if(1===e.tag){var n=e.type;if(Lo(n))return zo(e,n,t)}return t}function Hu(e,t,n,r,i,o,a,s,l){return(e=qu(n,r,!0,e,0,o,0,s,l)).context=Wu(null),n=e.current,(o=Va(r=iu(),i=ou(n))).callback=null!=t?t:null,qa(n,o,i),e.current.lanes=i,_n(e,i,r),su(e,r),e}function Ku(e,t,n,r){var i=t.current,o=iu(),a=ou(i);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Va(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=qa(i,t,a))&&(au(e,i,a,o),Wa(e,i,a)),a}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}Oc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mo.current)Sl=!0;else{if(!(e.lanes&n||128&t.flags))return Sl=!1,function(e,t,n){switch(t.tag){case 3:Il(t),va();break;case 5:ns(t);break;case 1:Lo(t.type)&&$o(t);break;case 4:es(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Po(Oa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Po(is,1&is.current),t.flags|=128,null):n&t.child.childLanes?$l(e,t,n):(Po(is,1&is.current),null!==(e=Gl(e,t,n))?e.sibling:null);Po(is,1&is.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Hl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Po(is,is.current),r)break;return null;case 22:case 23:return t.lanes=0,Tl(e,t,n)}return Gl(e,t,n)}(e,t,n);Sl=!!(131072&e.flags)}else Sl=!1,ca&&1048576&t.flags&&ia(t,Xo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Kl(e,t),e=t.pendingProps;var i=Ro(t,Io.current);Ma(t,n),i=ws(null,t,r,e,i,n);var o=xs();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lo(r)?(o=!0,$o(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$a(t),i.updater=ll,t.stateNode=i,i._reactInternals=t,hl(t,r,e,n),t=Al(null,t,r,!0,o,n)):(t.tag=0,ca&&o&&oa(t),kl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Kl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===Ae)return 11;if(e===De)return 14}return 2}(r),e=al(r,e),i){case 0:t=Nl(null,t,r,e,n);break e;case 1:t=Pl(null,t,r,e,n);break e;case 11:t=El(null,t,r,e,n);break e;case 14:t=jl(null,t,r,al(r.type,e),n);break e}throw Error(ce(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Nl(e,t,r,i=t.elementType===r?i:al(r,i),n);case 1:return r=t.type,i=t.pendingProps,Pl(e,t,r,i=t.elementType===r?i:al(r,i),n);case 3:e:{if(Il(t),null===e)throw Error(ce(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ba(e,t),Ka(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ml(e,t,r,n,i=fl(Error(ce(423)),t));break e}if(r!==i){t=Ml(e,t,r,n,i=fl(Error(ce(424)),t));break e}for(la=po(t.stateNode.containerInfo.firstChild),sa=t,ca=!0,ua=null,n=ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(va(),r===i){t=Gl(e,t,n);break e}kl(e,t,r,n)}t=t.child}return t;case 5:return ns(t),null===e&&pa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ao(r,i)?a=null:null!==o&&ao(r,o)&&(t.flags|=32),Cl(e,t),kl(e,t,a,n),t.child;case 6:return null===e&&pa(t),null;case 13:return $l(e,t,n);case 4:return es(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):kl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,El(e,t,r,i=t.elementType===r?i:al(r,i),n);case 7:return kl(e,t,t.pendingProps,n),t.child;case 8:case 12:return kl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Po(Oa,r._currentValue),r._currentValue=a,null!==o)if(di(o.value,a)){if(o.children===i.children&&!Mo.current){t=Gl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){a=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Va(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ia(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(ce(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),Ia(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}kl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ma(t,n),r=r(i=Da(i)),t.flags|=1,kl(e,t,r,n),t.child;case 14:return i=al(r=t.type,t.pendingProps),jl(e,t,r,i=al(r.type,i),n);case 15:return Ol(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:al(r,i),Kl(e,t),t.tag=1,Lo(r)?(e=!0,$o(t)):e=!1,Ma(t,n),ul(t,r,i),hl(t,r,i,n),Al(null,t,r,!0,e,n);case 19:return Hl(e,t,n);case 22:return Tl(e,t,n)}throw Error(ce(156,t.tag))};var Xu="function"==typeof reportError?reportError:function(e){console.error(e)};function Ju(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function ed(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function td(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nd(){}function rd(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Gu(a);s.call(e)}}Ku(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Gu(a);o.call(e)}}var a=Hu(t,r,e,0,null,!1,0,"",nd);return e._reactRootContainer=a,e[bo]=a.current,Hi(8===e.nodeType?e.parentNode:e),pu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Gu(l);s.call(e)}}var l=qu(e,0,!1,null,0,!1,0,"",nd);return e._reactRootContainer=l,e[bo]=l.current,Hi(8===e.nodeType?e.parentNode:e),pu((function(){Ku(t,l,n,r)})),l}(n,t,e,i,r);return Gu(a)}Zu.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ce(409));Ku(e,t,null,null)},Zu.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pu((function(){Ku(null,e,null,null)})),t[bo]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Un.length&&0!==t&&t<Un[n].priority;n++);Un.splice(n,0,e),0===n&&Bn(e)}},jn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gn(t.pendingLanes);0!==n&&(Sn(t,1|n),su(t,tn()),!(6&Ac)&&(Hc=tn()+500,Ko()))}break;case 13:pu((function(){var t=Fa(e,1);if(null!==t){var n=iu();au(t,e,1,n)}})),Qu(e,1)}},On=function(e){if(13===e.tag){var t=Fa(e,134217728);if(null!==t)au(t,e,134217728,iu());Qu(e,134217728)}},Tn=function(e){if(13===e.tag){var t=ou(e),n=Fa(e,t);if(null!==n)au(n,e,t,iu());Qu(e,t)}},Cn=function(){return kn},Nn=function(e,t){var n=kn;try{return kn=e,t()}finally{kn=n}},jt=function(e,t,n){switch(t){case"input":if(nt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jo(r);if(!i)throw Error(ce(90));Xe(r),nt(r,i)}}}break;case"textarea":ct(e,n);break;case"select":null!=(t=n.value)&&at(e,!!n.multiple,t,!1)}},At=fu,It=pu;var id={usingClientEntryPoint:!1,Events:[ko,Eo,jo,Nt,Pt,fu]},od={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ke.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Yt(e))?null:e.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{cn=sd.inject(ad),un=sd}catch(pt){}}re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=id,re.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ed(t))throw Error(ce(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:je,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},re.createRoot=function(e,t){if(!ed(e))throw Error(ce(299));var n=!1,r="",i=Xu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=qu(e,1,!1,null,0,n,0,r,i),e[bo]=t.current,Hi(8===e.nodeType?e.parentNode:e),new Ju(t)},re.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(ce(188));throw e=Object.keys(e).join(","),Error(ce(268,e))}return e=null===(e=Yt(t))?null:e.stateNode},re.flushSync=function(e){return pu(e)},re.hydrate=function(e,t,n){if(!td(t))throw Error(ce(200));return rd(null,e,t,!0,n)},re.hydrateRoot=function(e,t,n){if(!ed(e))throw Error(ce(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Xu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,o,a),e[bo]=t.current,Hi(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zu(t)},re.render=function(e,t,n){if(!td(t))throw Error(ce(200));return rd(null,e,t,!1,n)},re.unmountComponentAtNode=function(e){if(!td(e))throw Error(ce(40));return!!e._reactRootContainer&&(pu((function(){rd(null,null,e,!1,(function(){e._reactRootContainer=null,e[bo]=null}))})),!0)},re.unstable_batchedUpdates=fu,re.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!td(n))throw Error(ce(200));if(null==e||void 0===e._reactInternals)throw Error(ce(38));return rd(e,t,n,!1,r)},re.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),ne.exports=re;var ld=ne.exports;const cd=o(ld);var ud,dd,hd,fd=ld;
/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pd.apply(this,arguments)}ud=fd.createRoot,fd.hydrateRoot,(hd=dd||(dd={})).Pop="POP",hd.Push="PUSH",hd.Replace="REPLACE";const md="popstate";function gd(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=dd.Pop,l=null,c=u();null==c&&(c=0,a.replaceState(pd({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){s=dd.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function h(e,t){s=dd.Push;let n=wd(m.location,e,t);c=u()+1;let r=bd(n,c),d=m.createHref(n);try{a.pushState(r,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(d)}o&&l&&l({action:s,location:m.location,delta:1})}function f(e,t){s=dd.Replace;let n=wd(m.location,e,t);c=u();let r=bd(n,c),i=m.createHref(n);a.replaceState(r,"",i),o&&l&&l({action:s,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:xd(e);return n=n.replace(/ $/,"%20"),yd(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(md,d),l=e,()=>{i.removeEventListener(md,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>a.go(e)};return m}((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return wd("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:xd(t)}),0,e)}function yd(e,t){if(!1===e||null==e)throw new Error(t)}function vd(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch($j){}}}function bd(e,t){return{usr:e.state,key:e.key,idx:t}}function wd(e,t,n,r){return void 0===n&&(n=null),pd({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?_d(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function xd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function _d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Sd,kd;function Ed(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let i="string"==typeof t?_d(t):t,o=Fd(i.pathname||"/",n);if(null==o)return null;let a=jd(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let l=0;null==s&&l<a.length;++l){let e=Ud(o);s=Rd(a[l],e,r)}return s}(e,t,n,!1)}function jd(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(yd(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Vd([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(yd(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),jd(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Dd(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Od(e.path))i(e,t,r);else i(e,t)})),t}function Od(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=Od(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}(kd=Sd||(Sd={})).data="data",kd.deferred="deferred",kd.redirect="redirect",kd.error="error";const Td=/^:[\w-]+$/,Cd=3,Nd=2,Pd=1,Ad=10,Id=-2,Md=e=>"*"===e;function Dd(e,t){let n=e.split("/"),r=n.length;return n.some(Md)&&(r+=Id),t&&(r+=Nd),n.filter((e=>!Md(e))).reduce(((e,t)=>e+(Td.test(t)?Cd:""===t?Pd:Ad)),r)}function Rd(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=Ld({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Ld({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:Vd([o,u.pathname]),pathnameBase:qd(Vd([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=Vd([o,u.pathnameBase]))}return a}function Ld(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);vd("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function Ud(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return vd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Fd(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function zd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $d(e,t){let n=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Bd(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=_d(e):(i=pd({},e),yd(!i.pathname||!i.pathname.includes("?"),zd("?","pathname","search",i)),yd(!i.pathname||!i.pathname.includes("#"),zd("#","pathname","hash",i)),yd(!i.search||!i.search.includes("#"),zd("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?_d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Wd(r),hash:Hd(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Vd=e=>e.join("/").replace(/\/\/+/g,"/"),qd=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wd=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Hd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Kd=["post","put","patch","delete"];new Set(Kd);const Gd=["get",...Kd];
/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yd.apply(this,arguments)}new Set(Gd);const Qd=W.createContext(null),Xd=W.createContext(null),Jd=W.createContext(null),Zd=W.createContext(null),eh=W.createContext({outlet:null,matches:[],isDataRoute:!1}),th=W.createContext(null);function nh(){return null!=W.useContext(Zd)}function rh(){return nh()||yd(!1),W.useContext(Zd).location}function ih(e){W.useContext(Jd).static||W.useLayoutEffect(e)}function oh(){let{isDataRoute:e}=W.useContext(eh);return e?function(){let{router:e}=function(){let e=W.useContext(Qd);return e||yd(!1),e}(fh.UseNavigateStable),t=mh(ph.UseNavigateStable),n=W.useRef(!1);ih((()=>{n.current=!0}));let r=W.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Yd({fromRouteId:t},i)))}),[e,t]);return r}():function(){nh()||yd(!1);let e=W.useContext(Qd),{basename:t,future:n,navigator:r}=W.useContext(Jd),{matches:i}=W.useContext(eh),{pathname:o}=rh(),a=JSON.stringify($d(i,n.v7_relativeSplatPath)),s=W.useRef(!1);ih((()=>{s.current=!0}));let l=W.useCallback((function(n,i){if(void 0===i&&(i={}),!s.current)return;if("number"==typeof n)return void r.go(n);let l=Bd(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Vd([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[t,r,a,o,e]);return l}()}const ah=W.createContext(null);function sh(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=W.useContext(Jd),{matches:i}=W.useContext(eh),{pathname:o}=rh(),a=JSON.stringify($d(i,r.v7_relativeSplatPath));return W.useMemo((()=>Bd(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function lh(e,t){return function(e,t,n,r){nh()||yd(!1);let{navigator:i}=W.useContext(Jd),{matches:o}=W.useContext(eh),a=o[o.length-1],s=a?a.params:{};!a||a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c,u=rh();if(t){var d;let e="string"==typeof t?_d(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||yd(!1),c=e}else c=u;let h=c.pathname||"/",f=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=Ed(e,{pathname:f}),m=function(e,t,n,r){var i;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,s=null==(i=n)?void 0:i.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id])));e>=0||yd(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let e=a[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((e,r,i)=>{let o,u=!1,d=null,h=null;n&&(o=s&&r.route.id?s[r.route.id]:void 0,d=r.route.errorElement||uh,l&&(c<0&&0===i?(u=!0,h=null):c===i&&(u=!0,h=r.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,i+1)),p=()=>{let t;return t=o?d:u?h:r.route.Component?W.createElement(r.route.Component,null):r.route.element?r.route.element:e,W.createElement(hh,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?W.createElement(dh,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()}),null)}(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Vd([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Vd([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);if(t&&m)return W.createElement(Zd.Provider,{value:{location:Yd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:dd.Pop}},m);return m}(e,t)}function ch(){let e=function(){var e;let t=W.useContext(th),n=function(){let e=W.useContext(Xd);return e||yd(!1),e}(ph.UseRouteError),r=mh(ph.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),n?W.createElement("pre",{style:r},n):null,null)}const uh=W.createElement(ch,null);class dh extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?W.createElement(eh.Provider,{value:this.props.routeContext},W.createElement(th.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hh(e){let{routeContext:t,match:n,children:r}=e,i=W.useContext(Qd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(eh.Provider,{value:t},r)}var fh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fh||{}),ph=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ph||{});function mh(e){let t=function(){let e=W.useContext(eh);return e||yd(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||yd(!1),n.route.id}const gh={};const yh=(e,t,n)=>{var r;gh[r="⚠️ React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(gh[r]=!0,console.warn(r))};function vh(e){let{to:t,replace:n,state:r,relative:i}=e;nh()||yd(!1);let{future:o,static:a}=W.useContext(Jd),{matches:s}=W.useContext(eh),{pathname:l}=rh(),c=oh(),u=Bd(t,$d(s,o.v7_relativeSplatPath),l,"path"===i),d=JSON.stringify(u);return W.useEffect((()=>c(JSON.parse(d),{replace:n,state:r,relative:i})),[c,d,i,n,r]),null}function bh(e){return function(e){let t=W.useContext(eh).outlet;return t?W.createElement(ah.Provider,{value:e},t):t}(e.context)}function wh(e){yd(!1)}function xh(e){let{basename:t="/",children:n=null,location:r,navigationType:i=dd.Pop,navigator:o,static:a=!1,future:s}=e;nh()&&yd(!1);let l=t.replace(/^\/*/,"/"),c=W.useMemo((()=>({basename:l,navigator:o,static:a,future:Yd({v7_relativeSplatPath:!1},s)})),[l,s,o,a]);"string"==typeof r&&(r=_d(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=W.useMemo((()=>{let e=Fd(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}}),[l,u,d,h,f,p,i]);return null==m?null:W.createElement(Jd.Provider,{value:c},W.createElement(Zd.Provider,{children:n,value:m}))}function _h(e){let{children:t,location:n}=e;return lh(Sh(t),n)}function Sh(e,t){void 0===t&&(t=[]);let n=[];return W.Children.forEach(e,((e,r)=>{if(!W.isValidElement(e))return;let i=[...t,r];if(e.type===W.Fragment)return void n.push.apply(n,Sh(e.props.children,i));e.type!==wh&&yd(!1),e.props.index&&e.props.children&&yd(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Sh(e.props.children,i)),n.push(o)})),n}
/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(this,arguments)}function Eh(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function jh(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Promise((()=>{}));const Oh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Th=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch($j){}const Ch=W.createContext({isTransitioning:!1}),Nh=K.startTransition;function Ph(e){let{basename:t,children:n,future:r,window:i}=e,o=W.useRef();null==o.current&&(o.current=gd({window:i,v5Compat:!0}));let a=o.current,[s,l]=W.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=W.useCallback((e=>{c&&Nh?Nh((()=>l(e))):l(e)}),[l,c]);return W.useLayoutEffect((()=>a.listen(u)),[a,u]),W.useEffect((()=>{return null!=(e=r)&&e.v7_startTransition||yh("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void(null!=e&&e.v7_relativeSplatPath||t||yh("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"));var e,t}),[r]),W.createElement(xh,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const Ah="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ih=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mh=W.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=Eh(e,Oh),{basename:f}=W.useContext(Jd),p=!1;if("string"==typeof c&&Ih.test(c)&&(n=c,Ah))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=Fd(t.pathname,f);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:p=!0}catch($j){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;nh()||yd(!1);let{basename:r,navigator:i}=W.useContext(Jd),{hash:o,pathname:a,search:s}=sh(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:Vd([r,a])),i.createHref({pathname:l,search:s,hash:o})}(c,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=void 0===t?{}:t,l=oh(),c=rh(),u=sh(e,{relative:a});return W.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:xd(c)===xd(u);l(e,{replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s})}}),[c,l,u,r,i,n,e,o,a,s])}(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});return W.createElement("a",kh({},h,{href:n||m,onClick:p||o?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))})),Dh=W.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:o=!1,style:a,to:s,viewTransition:l,children:c}=e,u=Eh(e,Th),d=sh(s,{relative:u.relative}),h=rh(),f=W.useContext(Xd),{navigator:p,basename:m}=W.useContext(Jd),g=null!=f&&function(e,t){void 0===t&&(t={});let n=W.useContext(Ch);null==n&&yd(!1);let{basename:r}=function(){let e=W.useContext(Qd);return e||yd(!1),e}(Rh.useViewTransitionState),i=sh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Fd(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Fd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=Ld(i.pathname,a)||null!=Ld(i.pathname,o)}(d)&&!0===l,y=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,v=h.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(v=v.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&m&&(b=Fd(b,m)||b);const w="/"!==y&&y.endsWith("/")?y.length-1:y.length;let x,_=v===y||!o&&v.startsWith(y)&&"/"===v.charAt(w),S=null!=b&&(b===y||!o&&b.startsWith(y)&&"/"===b.charAt(y.length)),k={isActive:_,isPending:S,isTransitioning:g},E=_?n:void 0;x="function"==typeof i?i(k):[i,_?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let j="function"==typeof a?a(k):a;return W.createElement(Mh,kh({},u,{"aria-current":E,className:x,ref:t,style:j,to:s,viewTransition:l}),"function"==typeof c?c(k):c)}));var Rh,Lh,Uh,Fh;function zh(e){let t=W.useRef(jh(e)),n=W.useRef(!1),r=rh(),i=W.useMemo((()=>function(e,t){let n=jh(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),o=oh(),a=W.useCallback(((e,t)=>{const r=jh("function"==typeof e?e(i):e);n.current=!0,o("?"+r,t)}),[o,i]);return[i,a]}(Lh=Rh||(Rh={})).UseScrollRestoration="useScrollRestoration",Lh.UseSubmit="useSubmit",Lh.UseSubmitFetcher="useSubmitFetcher",Lh.UseFetcher="useFetcher",Lh.useViewTransitionState="useViewTransitionState",(Fh=Uh||(Uh={})).UseFetcher="useFetcher",Fh.UseFetchers="useFetchers",Fh.UseScrollRestoration="useScrollRestoration";var $h={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Vh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bh(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new qh;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class qh extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wh=function(e){return function(e){const t=Bh(e);return Vh.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Hh=function(e){try{return Vh.decodeString(e,!0)}catch($j){console.error("base64Decode failed: ",$j)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Kh=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Gh=()=>{try{return Kh()||(()=>{if("undefined"==typeof process)return;const e=$h.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($j){return}const t=e&&Hh(e[1]);return t&&JSON.parse(t)})()}catch($j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$j}`)}},Yh=e=>{var t,n;return null===(n=null===(t=Gh())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Qh=()=>{var e;return null===(e=Gh())||void 0===e?void 0:e.config},Xh=e=>{var t;return null===(t=Gh())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Jh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zh(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ef(){return!function(){var e;const t=null===(e=Gh())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($j){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class tf extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nf.prototype.create)}}class nf{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(rf,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new tf(r,a,n)}}const rf=/\{\$([^}]+)}/g;function of(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(af(n)&&af(o)){if(!of(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function af(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function lf(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function cf(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class uf{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=df),void 0===r.error&&(r.error=df),void 0===r.complete&&(r.complete=df);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch($j){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch($j){"undefined"!=typeof console&&console.error&&console.error($j)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function df(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(e){return e&&e._delegate?e._delegate:e}class ff{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Jh;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch($j){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch($j){if(r)return null;throw $j}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:pf})}catch($j){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch($j){}}}}clearInstance(e=pf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=pf){return this.instances.has(e)}getOptions(e=pf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===pf?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=pf){return this.component?this.component.multipleInstances?e:pf:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gf{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yf,vf;(vf=yf||(yf={}))[vf.DEBUG=0]="DEBUG",vf[vf.VERBOSE=1]="VERBOSE",vf[vf.INFO=2]="INFO",vf[vf.WARN=3]="WARN",vf[vf.ERROR=4]="ERROR",vf[vf.SILENT=5]="SILENT";const bf={debug:yf.DEBUG,verbose:yf.VERBOSE,info:yf.INFO,warn:yf.WARN,error:yf.ERROR,silent:yf.SILENT},wf=yf.INFO,xf={[yf.DEBUG]:"log",[yf.VERBOSE]:"log",[yf.INFO]:"info",[yf.WARN]:"warn",[yf.ERROR]:"error"},_f=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=xf[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Sf{constructor(e){this.name=e,this._logLevel=wf,this._logHandler=_f,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yf))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?bf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yf.DEBUG,...e),this._logHandler(this,yf.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yf.VERBOSE,...e),this._logHandler(this,yf.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yf.INFO,...e),this._logHandler(this,yf.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yf.WARN,...e),this._logHandler(this,yf.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yf.ERROR,...e),this._logHandler(this,yf.ERROR,...e)}}let kf,Ef;const jf=new WeakMap,Of=new WeakMap,Tf=new WeakMap,Cf=new WeakMap,Nf=new WeakMap;let Pf={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Of.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mf(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Af(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ef||(Ef=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Df(this),t),Mf(jf.get(this))}:function(...t){return Mf(e.apply(Df(this),t))}:function(t,...n){const r=e.call(Df(this),t,...n);return Tf.set(r,t.sort?t.sort():[t]),Mf(r)}}function If(e){return"function"==typeof e?Af(e):(e instanceof IDBTransaction&&function(e){if(Of.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Of.set(e,t)}(e),t=e,(kf||(kf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Pf):e);var t}function Mf(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Mf(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&jf.set(t,e)})).catch((()=>{})),Nf.set(t,e),t}(e);if(Cf.has(e))return Cf.get(e);const t=If(e);return t!==e&&(Cf.set(e,t),Nf.set(t,e)),t}const Df=e=>Nf.get(e);const Rf=["get","getKey","getAll","getAllKeys","count"],Lf=["put","add","delete","clear"],Uf=new Map;function Ff(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Uf.get(t))return Uf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Lf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rf.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return Uf.set(t,o),o}Pf=(e=>({...e,get:(t,n,r)=>Ff(t,n)||e.get(t,n,r),has:(t,n)=>!!Ff(t,n)||e.has(t,n)}))(Pf);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zf{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const $f="@firebase/app",Bf="0.10.13",Vf=new Sf("@firebase/app"),qf="@firebase/app-compat",Wf="@firebase/analytics-compat",Hf="@firebase/analytics",Kf="@firebase/app-check-compat",Gf="@firebase/app-check",Yf="@firebase/auth",Qf="@firebase/auth-compat",Xf="@firebase/database",Jf="@firebase/data-connect",Zf="@firebase/database-compat",ep="@firebase/functions",tp="@firebase/functions-compat",np="@firebase/installations",rp="@firebase/installations-compat",ip="@firebase/messaging",op="@firebase/messaging-compat",ap="@firebase/performance",sp="@firebase/performance-compat",lp="@firebase/remote-config",cp="@firebase/remote-config-compat",up="@firebase/storage",dp="@firebase/storage-compat",hp="@firebase/firestore",fp="@firebase/vertexai-preview",pp="@firebase/firestore-compat",mp="firebase",gp="[DEFAULT]",yp={[$f]:"fire-core",[qf]:"fire-core-compat",[Hf]:"fire-analytics",[Wf]:"fire-analytics-compat",[Gf]:"fire-app-check",[Kf]:"fire-app-check-compat",[Yf]:"fire-auth",[Qf]:"fire-auth-compat",[Xf]:"fire-rtdb",[Jf]:"fire-data-connect",[Zf]:"fire-rtdb-compat",[ep]:"fire-fn",[tp]:"fire-fn-compat",[np]:"fire-iid",[rp]:"fire-iid-compat",[ip]:"fire-fcm",[op]:"fire-fcm-compat",[ap]:"fire-perf",[sp]:"fire-perf-compat",[lp]:"fire-rc",[cp]:"fire-rc-compat",[up]:"fire-gcs",[dp]:"fire-gcs-compat",[hp]:"fire-fst",[pp]:"fire-fst-compat",[fp]:"fire-vertex","fire-js":"fire-js",[mp]:"fire-js-all"},vp=new Map,bp=new Map,wp=new Map;function xp(e,t){try{e.container.addComponent(t)}catch($j){Vf.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,$j)}}function _p(e){const t=e.name;if(wp.has(t))return Vf.debug(`There were multiple attempts to register component ${t}.`),!1;wp.set(t,e);for(const n of vp.values())xp(n,e);for(const n of bp.values())xp(n,e);return!0}function Sp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kp(e){return void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=new nf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jp{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ff("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ep.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="10.14.1";function Tp(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:gp,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Ep.create("bad-app-name",{appName:String(i)});if(n||(n=Qh()),!n)throw Ep.create("no-options");const o=vp.get(i);if(o){if(of(n,o.options)&&of(r,o.config))return o;throw Ep.create("duplicate-app",{appName:i})}const a=new gf(i);for(const l of wp.values())a.addComponent(l);const s=new jp(n,r,a);return vp.set(i,s),s}function Cp(e=gp){const t=vp.get(e);if(!t&&e===gp&&Qh())return Tp();if(!t)throw Ep.create("no-app",{appName:e});return t}function Np(e,t,n){var r;let i=null!==(r=yp[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Vf.warn(e.join(" "))}_p(new ff(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="firebase-heartbeat-store";let Ap=null;function Ip(){return Ap||(Ap=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Mf(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Mf(a.result),e.oldVersion,e.newVersion,Mf(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Pp)}catch($j){console.warn($j)}}}).catch((e=>{throw Ep.create("idb-open",{originalErrorMessage:e.message})}))),Ap}async function Mp(e,t){try{const n=(await Ip()).transaction(Pp,"readwrite"),r=n.objectStore(Pp);await r.put(t,Dp(e)),await n.done}catch($j){if($j instanceof tf)Vf.warn($j.message);else{const t=Ep.create("idb-set",{originalErrorMessage:null==$j?void 0:$j.message});Vf.warn(t.message)}}}function Dp(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Up(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lp();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch($j){Vf.warn($j)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Lp(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Fp(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch($j){return Vf.warn($j),""}}}function Lp(){return(new Date).toISOString().substring(0,10)}class Up{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch($j){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ip()).transaction(Pp),n=await t.objectStore(Pp).get(Dp(e));return await t.done,n}catch($j){if($j instanceof tf)Vf.warn($j.message);else{const t=Ep.create("idb-get",{originalErrorMessage:null==$j?void 0:$j.message});Vf.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Mp(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Mp(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Fp(e){return Wh(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zp;zp="",_p(new ff("platform-logger",(e=>new zf(e)),"PRIVATE")),_p(new ff("heartbeat",(e=>new Rp(e)),"PRIVATE")),Np($f,Bf,zp),Np($f,Bf,"esm2017"),Np("fire-js","");var $p=function(){return $p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$p.apply(this,arguments)};function Bp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Vp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}"function"==typeof SuppressedError&&SuppressedError;const qp=Vp,Wp=new nf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Hp=new Sf("@firebase/auth");function Kp(e,...t){Hp.logLevel<=yf.ERROR&&Hp.error(`Auth (${Op}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(e,...t){throw Jp(e,...t)}function Yp(e,...t){return Jp(e,...t)}function Qp(e,t,n){const r=Object.assign(Object.assign({},qp()),{[t]:n});return new nf("auth","Firebase",r).create(t,{appName:e.name})}function Xp(e){return Qp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Wp.create(e,...t)}function Zp(e,t,...n){if(!e)throw Jp(t,...n)}function em(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Kp(t),new Error(t)}function tm(e,t){e||em(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function rm(){return"http:"===im()||"https:"===im()}function im(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rm()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class am{constructor(e,t){this.shortDelay=e,this.longDelay=t,tm(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zh())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return om()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(e,t){tm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void em("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void em("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void em("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},um=new am(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function hm(e,t,n,r,i={}){return fm(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=sf(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),lm.fetch()(mm(e,e.config.apiHost,n,a),l)}))}async function fm(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},cm),t);try{const t=new ym(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw vm(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw vm(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw vm(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw vm(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Qp(e,s,a);Gp(e,s)}}catch($j){if($j instanceof tf)throw $j;Gp(e,"network-request-failed",{message:String($j)})}}async function pm(e,t,n,r,i={}){const o=await hm(e,t,n,r,i);return"mfaPendingCredential"in o&&Gp(e,"multi-factor-auth-required",{_serverResponse:o}),o}function mm(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?sm(e.config,i):`${e.config.apiScheme}://${i}`}function gm(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ym{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Yp(this.auth,"network-request-failed"))),um.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function vm(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yp(e,t,r);return i.customData._tokenResponse=n,i}function bm(e){return void 0!==e&&void 0!==e.enterprise}class wm{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gm(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function xm(e,t){return hm(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch($j){}}function Sm(e){return 1e3*Number(e)}function km(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Kp("JWT malformed, contained fewer than 3 sections"),null;try{const e=Hh(n);return e?JSON.parse(e):(Kp("Failed to decode base64 JWT payload"),null)}catch($j){return Kp("Caught error parsing JWT payload as JSON",null==$j?void 0:$j.toString()),null}}function Em(e){const t=km(e);return Zp(t,"internal-error"),Zp(void 0!==t.exp,"internal-error"),Zp(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jm(e,t,n=!1){if(n)return t;try{return await t}catch($j){throw $j instanceof tf&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */($j)&&e.auth.currentUser===e&&await e.auth.signOut(),$j}}class Om{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch($j){return void("auth/network-request-failed"===(null==$j?void 0:$j.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_m(this.lastLoginAt),this.creationTime=_m(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(e){var t;const n=e.auth,r=await e.getIdToken(),i=await jm(e,xm(n,{idToken:r}));Zp(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Nm(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==s?void 0:s.length)),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Nm(e){return e.map((e=>{var{providerId:t}=e,n=Bp(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zp(e.idToken,"internal-error"),Zp(void 0!==e.idToken,"internal-error"),Zp(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Em(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zp(0!==e.length,"internal-error");const t=Em(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(Zp(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await fm(e,{},(async()=>{const n=sf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=mm(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lm.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Pm;return n&&(Zp("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Zp("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Zp("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pm,this.toJSON())}_performRefresh(){return em("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e,t){Zp("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Im{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Bp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Om(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await jm(this,this.stsTokenManager.getToken(this.auth,e));return Zp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=hf(e),r=await n.getIdToken(t),i=km(r);Zp(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:_m(Sm(i.auth_time)),issuedAtTime:_m(Sm(i.iat)),expirationTime:_m(Sm(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=hf(e);await Cm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Zp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Im(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Zp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Cm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kp(this.auth.app))return Promise.reject(Xp(this.auth));const e=await this.getIdToken();return await jm(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return hm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;Zp(v&&_,e,"internal-error");const S=Pm.fromJSON(this.name,_);Zp("string"==typeof v,e,"internal-error"),Am(u,e.name),Am(d,e.name),Zp("boolean"==typeof b,e,"internal-error"),Zp("boolean"==typeof w,e,"internal-error"),Am(h,e.name),Am(f,e.name),Am(p,e.name),Am(m,e.name),Am(g,e.name),Am(y,e.name);const k=new Im({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(k.providerData=x.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new Pm;r.updateFromServerResponse(t);const i=new Im({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Cm(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Zp(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Nm(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),a=new Pm;a.updateFromIdToken(n);const s=new Im({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Tm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(s,l),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map;function Dm(e){tm(e instanceof Function,"Expected a class definition");let t=Mm.get(e);return t?(tm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mm.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Rm.type="NONE";const Lm=Rm;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(e,t,n){return`firebase:${e}:${t}:${n}`}class Fm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Um(this.userKey,r.apiKey,i),this.fullPersistenceKey=Um("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Im._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Fm(Dm(Lm),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Dm(Lm);const o=Um(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Im._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Fm(i,e,n)):new Fm(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($m(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hm(t))return"Blackberry";if(Km(t))return"Webos";if(Bm(t))return"Safari";if((t.includes("chrome/")||Vm(t))&&!t.includes("edge/"))return"Chrome";if(Wm(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function $m(e=Zh()){return/firefox\//i.test(e)}function Bm(e=Zh()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Vm(e=Zh()){return/crios\//i.test(e)}function qm(e=Zh()){return/iemobile/i.test(e)}function Wm(e=Zh()){return/android/i.test(e)}function Hm(e=Zh()){return/blackberry/i.test(e)}function Km(e=Zh()){return/webos/i.test(e)}function Gm(e=Zh()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ym(){return function(){const e=Zh();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Qm(e=Zh()){return Gm(e)||Wm(e)||Km(e)||Hm(e)||/windows phone/i.test(e)||qm(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(e,t=[]){let n;switch(e){case"Browser":n=zm(Zh());break;case"Worker":n=`${zm(Zh())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Op}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch($j){r($j)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch($j){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==$j?void 0:$j.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ng(this),this.idTokenSubscription=new ng(this),this.beforeStateQueue=new Jm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Dm(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Fm.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch($j){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await xm(this,{idToken:e}),n=await Im._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kp(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch($j){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject($j)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Zp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch($j){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cm(e)}catch($j){if("auth/network-request-failed"!==(null==$j?void 0:$j.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kp(this.app))return Promise.reject(Xp(this));const t=e?hf(e):null;return t&&Zp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Zp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return kp(this.app)?Promise.reject(Xp(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kp(this.app)?Promise.reject(Xp(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Dm(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return hm(e,"GET","/v2/passwordPolicy",dm(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new Zm(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nf("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return hm(e,"POST","/v2/accounts:revokeToken",dm(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Dm(e)||this._popupRedirectResolver;Zp(t,this,"argument-error"),this.redirectPersistenceManager=await Fm.create(this,[Dm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zp(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Hp.logLevel<=yf.WARN&&Hp.warn(`Auth (${Op}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function tg(e){return hf(e)}class ng{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new uf(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Zp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ig(e){return rg.loadJS(e)}class og{constructor(e){this.type="recaptcha-enterprise",this.auth=tg(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return hm(e,"GET","/v2/recaptchaConfig",dm(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new wm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))}function r(t,n,r){const i=window.grecaptcha;bm(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{n(this.auth).then((n=>{if(!t&&bm(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=rg.recaptchaEnterpriseScript;0!==t.length&&(t+=n),ig(t).then((()=>{r(n,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function ag(e,t,n,r=!1){const i=new og(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function sg(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ag(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await ag(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(e,t,n){const r=tg(e);Zp(r._canInitEmulator,r,"emulator-config-failed"),Zp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=cg(t),{host:o,port:a}=function(e){const t=cg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ug(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ug(t)}}}(t),s=null===a?"":`:${a}`;r.config.emulator={url:`${i}//${o}${s}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function cg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ug(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class dg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return em("not implemented")}_getIdTokenResponse(e){return em("not implemented")}_linkToIdToken(e,t){return em("not implemented")}_getReauthenticationResolver(e){return em("not implemented")}}async function hg(e,t){return hm(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(e,t){return pm(e,"POST","/v1/accounts:signInWithPassword",dm(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pg extends dg{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new pg(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new pg(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return sg(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fg);case"emailLink":return async function(e,t){return pm(e,"POST","/v1/accounts:signInWithEmailLink",dm(e,t))}(e,{email:this._email,oobCode:this._password});default:Gp(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return sg(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hg);case"emailLink":return async function(e,t){return pm(e,"POST","/v1/accounts:signInWithEmailLink",dm(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Gp(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(e,t){return pm(e,"POST","/v1/accounts:signInWithIdp",dm(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gp("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Bp(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new gg(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return mg(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,mg(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mg(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sf(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){var t,n,r,i,o,a;const s=lf(cf(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Zp(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=lf(cf(e)).link,n=t?lf(cf(t)).deep_link_id:null,r=lf(cf(e)).deep_link_id;return(r?lf(cf(r)).link:null)||r||n||t||e}(e);try{return new yg(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.providerId=vg.PROVIDER_ID}static credential(e,t){return pg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=yg.parseLink(t);return Zp(n,"argument-error"),pg._fromEmailAndCode(e,n.code,n.tenantId)}}vg.PROVIDER_ID="password",vg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends wg{constructor(){super("facebook.com")}static credential(e){return gg._fromParams({providerId:xg.PROVIDER_ID,signInMethod:xg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xg.credentialFromTaggedObject(e)}static credentialFromError(e){return xg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return xg.credential(e.oauthAccessToken)}catch(t){return null}}}xg.FACEBOOK_SIGN_IN_METHOD="facebook.com",xg.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _g extends wg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gg._fromParams({providerId:_g.PROVIDER_ID,signInMethod:_g.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _g.credentialFromTaggedObject(e)}static credentialFromError(e){return _g.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return _g.credential(t,n)}catch(r){return null}}}_g.GOOGLE_SIGN_IN_METHOD="google.com",_g.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sg extends wg{constructor(){super("github.com")}static credential(e){return gg._fromParams({providerId:Sg.PROVIDER_ID,signInMethod:Sg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sg.credentialFromTaggedObject(e)}static credentialFromError(e){return Sg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Sg.credential(e.oauthAccessToken)}catch(t){return null}}}Sg.GITHUB_SIGN_IN_METHOD="github.com",Sg.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kg extends wg{constructor(){super("twitter.com")}static credential(e,t){return gg._fromParams({providerId:kg.PROVIDER_ID,signInMethod:kg.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return kg.credentialFromTaggedObject(e)}static credentialFromError(e){return kg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return kg.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Eg(e,t){return pm(e,"POST","/v1/accounts:signUp",dm(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kg.TWITTER_SIGN_IN_METHOD="twitter.com",kg.PROVIDER_ID="twitter.com";class jg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Im._fromIdTokenResponse(e,n,r),o=Og(n);return new jg({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Og(n);return new jg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Og(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends tf{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Tg.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Tg(e,t,n,r)}}function Cg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Tg._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ng(e,t,n=!1){const{auth:r}=e;if(kp(r.app))return Promise.reject(Xp(r));const i="reauthenticate";try{const o=await jm(e,Cg(r,i,t,e),n);Zp(o.idToken,r,"internal-error");const a=km(o.idToken);Zp(a,r,"internal-error");const{sub:s}=a;return Zp(e.uid===s,r,"user-mismatch"),jg._forOperation(e,i,o)}catch($j){throw"auth/user-not-found"===(null==$j?void 0:$j.code)&&Gp(r,"user-mismatch"),$j}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(e,t,n=!1){if(kp(e.app))return Promise.reject(Xp(e));const r="signIn",i=await Cg(e,r,t),o=await jg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ag(e){const t=tg(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Ig(e,t,n){return kp(e.app)?Promise.reject(Xp(e)):async function(e,t){return Pg(tg(e),t)}(hf(e),vg.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ag(e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Mg(e,t){const n={identifier:t,continueUri:rm()?nm():"http://localhost"},{signinMethods:r}=await async function(e,t){return hm(e,"POST","/v1/accounts:createAuthUri",dm(e,t))}(hf(e),n);return r||[]}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Dg(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=hf(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await jm(r,async function(e,t){return hm(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Rg(e,t){return async function(e,t,n){const{auth:r}=e,i=await e.getIdToken(),o={idToken:i,returnSecureToken:!0};n&&(o.password=n);const a=await jm(e,async function(e,t){return hm(e,"POST","/v1/accounts:update",t)}(r,o));await e._updateTokensIfNecessary(a,!0)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(hf(e),0,t)}function Lg(e,t){return hf(e).setPersistence(t)}const Ug="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ug,"1"),this.storage.removeItem(Ug),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Fg{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qm(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ym()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zg.type="LOCAL";const $g=zg;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends Fg{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Bg.type="SESSION";const Vg=Bg;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new qg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Wg(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qg.receivers=[];class Hg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Wg("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Gg(){return void 0!==Kg().WorkerGlobalScope&&"function"==typeof Kg().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Yg="firebaseLocalStorageDb",Qg="firebaseLocalStorage",Xg="fbase_key";class Jg{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Zg(e,t){return e.transaction([Qg],t?"readwrite":"readonly").objectStore(Qg)}function ey(){const e=indexedDB.open(Yg,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Qg,{keyPath:Xg})}catch($j){n($j)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Qg)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Yg);return new Jg(e).toPromise()}(),t(await ey()))}))}))}async function ty(e,t,n){const r=Zg(e,!0).put({[Xg]:t,value:n});return new Jg(r).toPromise()}function ny(e,t){const n=Zg(e,!0).delete(t);return new Jg(n).toPromise()}class ry{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ey()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch($j){if(t++>3)throw $j;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qg._getInstance(Gg()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Hg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ey();return await ty(e,Ug,"1"),await ny(e,Ug),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ty(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Zg(e,!1).get(t),r=await new Jg(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ny(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Zg(e,!1).getAll();return new Jg(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ry.type="LOCAL";const iy=ry;new am(3e4,6e4);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oy extends dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mg(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ay(e){return Pg(e.auth,new oy(e),e.bypassAuthState)}function sy(e){const{auth:t,user:n}=e;return Zp(n,t,"internal-error"),Ng(n,new oy(e),e.bypassAuthState)}async function ly(e){const{auth:t,user:n}=e;return Zp(n,t,"internal-error"),async function(e,t,n=!1){const r=await jm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return jg._forOperation(e,"link",r)}(n,new oy(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch($j){this.reject($j)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch($j){this.reject($j)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ay;case"linkViaPopup":case"linkViaRedirect":return ly;case"reauthViaPopup":case"reauthViaRedirect":return sy;default:Gp(this.auth,"internal-error")}}resolve(e){tm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=new am(2e3,1e4);class dy extends cy{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,dy.currentPopupAction&&dy.currentPopupAction.cancel(),dy.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zp(e,this.auth,"internal-error"),e}async onExecution(){tm(1===this.filter.length,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Yp(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Yp(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dy.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Yp(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,uy.get())};e()}}dy.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const hy="pendingRedirect",fy=new Map;class py extends cy{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=fy.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return Um(hy,e.config.apiKey,e.name)}(t),r=function(e){return Dm(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch($j){e=()=>Promise.reject($j)}fy.set(this.auth._key(),e)}return this.bypassAuthState||fy.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function my(e,t){fy.set(e._key(),t)}async function gy(e,t,n=!1){if(kp(e.app))return Promise.reject(Xp(e));const r=tg(e),i=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return t?Dm(t):(Zp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new py(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return by(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!by(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yp(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vy(e))}saveEventToCache(e){this.cachedEventUids.add(vy(e)),this.lastProcessedEventTime=Date.now()}}function vy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function by({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const wy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xy=/^https?/;async function _y(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return hm(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(Sy(r))return}catch(n){}Gp(e,"unauthorized-domain")}function Sy(e){const t=nm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!xy.test(n))return!1;if(wy.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new am(3e4,6e4);function Ey(){const e=Kg().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function jy(e){return new Promise(((t,n)=>{var r,i,o;function a(){Ey(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ey(),n(Yp(e,"network-request-failed"))},timeout:ky.get()})}if(null===(i=null===(r=Kg().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Kg().gapi)||void 0===o?void 0:o.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Kg()[t]=()=>{gapi.load?a():n(Yp(e,"network-request-failed"))},ig(`${rg.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Oy=null,e}))}let Oy=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ty=new am(5e3,15e3),Cy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ny=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Py(e){const t=e.config;Zp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?sm(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Op},i=Ny.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${sf(r).slice(1)}`}async function Ay(e){const t=await function(e){return Oy=Oy||jy(e),Oy}(e),n=Kg().gapi;return Zp(n,e,"internal-error"),t.open({where:document.body,url:Py(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cy,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Yp(e,"network-request-failed"),o=Kg().setTimeout((()=>{r(i)}),Ty.get());function a(){Kg().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class My{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch($j){}}}function Dy(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Iy),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Zh().toLowerCase();n&&(s=Vm(c)?"_blank":n),$m(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Zh()){var t;return Gm(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",s),new My(null);const d=window.open(t||"",s,u);Zp(d,e,"popup-blocked");try{d.focus()}catch($j){}return new My(d)}const Ry="__/auth/handler",Ly="emulator/auth/handler",Uy=encodeURIComponent("fac");async function Fy(e,t,n,r,i,o){Zp(e.config.authDomain,e,"auth-domain-config-required"),Zp(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Op,eventId:i};if(t instanceof bg){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof wg){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Uy}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Ry}`;return sm(e,Ly)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${sf(s).slice(1)}${c}`}const zy="webStorageSupport";const $y=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vg,this._completeRedirectFn=gy,this._overrideRedirectResult=my}async _openPopup(e,t,n,r){var i;tm(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Dy(e,await Fy(e,t,n,nm(),r),Wg())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Kg().location.href=e}(await Fy(e,t,n,nm(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(tm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ay(e),n=new yy(e);return t.register("authEvent",(t=>{Zp(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zy,{type:zy},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[zy];void 0!==i&&t(!!i),Gp(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_y(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qm()||Bm()||Gm()}};var By="@firebase/auth",Vy="1.7.9";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Wy=Xh("authIdTokenMaxAge")||300;let Hy=null;function Ky(e=Cp()){const t=Sp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Sp(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(of(n.getOptions(),null!=t?t:{}))return e;Gp(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:$y,persistence:[iy,$g,Vg]}),r=Xh("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Wy)return;const r=null==t?void 0:t.token;Hy!==r&&(Hy=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){hf(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){hf(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=Yh("auth");return o&&lg(n,`http://${o}`),n}var Gy,Yy;Gy={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Yp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},rg=Gy,Yy="Browser",_p(new ff("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Zp(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:o,authDomain:a,clientPlatform:Yy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xm(Yy)},l=new eg(n,r,i,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dm);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),_p(new ff("auth-internal",(e=>{const t=tg(e.getProvider("auth").getImmediate());return new qy(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),Np(By,Vy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Yy)),Np(By,Vy,"esm2017");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Np("firebase","10.14.1","app");var Qy,Xy,Jy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Xy=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Qy=r}).apply(void 0!==Jy?Jy:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Zy,ev,tv,nv,rv,iv,ov,av,sv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof sv&&sv];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new j),(e=>e.reset()));class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let O,T=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);O=()=>{e.then(P)}};var P=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){S(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function A(){this.s=this.s,this.C=this.C}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},I.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,I);var R={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=V(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function H(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);return null}return n=Z(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):function(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=X(e);if(l||(e[q]=l=new $(e)),n=l.add(t,n,r,s,o),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Q;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=Z(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(o=e.g[t],n,r,i))&&(z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,i)),(n=-1<e?t[e]:null)&&G(n))}function G(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):z(e)}}}function Y(e){return e in W?W[e]:W[e]="on"+e}function Q(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&G(e),e=n.call(r,t)}return e}function X(e){return(e=e[q])instanceof $?e:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[J]||(e[J]=function(t){return e.handleEvent(t)}),e[J])}function ee(){A.call(this),this.i=new $(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;x(t=new I(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ne(a,r,!0,t)&&i}if(i=ne(a=t.g=e,r,!0,t)&&i,i=ne(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ne(a=t.g=n[o],r,!1,t)&&i}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ie(e){e.g=re((()=>{e.g=null,e.i&&(e.i=!1,ie(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ee,A),ee.prototype[L]=!0,ee.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){A.call(this),this.h=e,this.g={}}d(ae,A);var se=[];function le(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&G(e)}),e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ce=i.JSON.stringify,ue=i.JSON.parse,de=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function he(){}function fe(e){return e.h||(e.h=e.i())}function pe(){}he.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){I.call(this,"d")}function ye(){I.call(this,"c")}d(ge,I),d(ye,I);var ve={},be=null;function we(){return be=be||new ee}function xe(e){I.call(this,ve.La,e)}function _e(e){const t=we();te(t,new xe(t))}function Se(e,t){I.call(this,ve.STAT_EVENT,e),this.stat=t}function ke(e){const t=we();te(t,new Se(t,e))}function Ee(e,t){I.call(this,ve.Ma,e),this.size=t}function je(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Oe(){this.g=!0}function Te(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ce(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ve.La="serverreachability",d(xe,I),ve.STAT_EVENT="statevent",d(Se,I),ve.Ma="timingevent",d(Ee,I),Oe.prototype.xa=function(){this.g=!1},Oe.prototype.info=function(){};var Ce,Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ae(){}function Ie(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Ae,he),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},Ce=new Ae;var De={},Re={};function Le(e,t,n){e.L=1,e.v=ct(it(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(se[0]=i.toString()),i=se);for(var o=0;o<i.length;o++){var a=H(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_e(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Fe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?De:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,Be(e,e.I)}function Be(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=je(c(e.ba,e),t)}function Ve(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||an(e.j,e)}function We(e){Ve(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function He(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Xe(n.h,e)))if(!e.K&&Xe(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(qj){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Gt(n)}tn(n),ke(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=je(c(n.Za,n),6e3));if(1>=Qe(n.h)&&n.ca){try{n.ca()}catch(qj){}n.ca=void 0}}else ln(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Je(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=un(r,r.J?r.ia:null,r.W),a.K){Ze(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(Ve(s),$e(s)),r.g=a}else en(r);0<n.i.length&&Qt(n)}else"stop"!=c[0]&&"close"!=c[0]||ln(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ln(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}_e()}catch(qj){}}Ie.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Vt(e)?t.j():this.Y(e)},Ie.prototype.Y=function(e){try{if(e==this.g)e:{const h=Vt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=h||7==t||_e(),Ve(this);var n=this.g.Z();this.X=n;t:if(Fe(this)){var r=qt(this.g);e="";var o=r.length,a=4==Vt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){We(this),qe(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),We(this),qe(this);break e}Te(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,He(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=ze(this,s),e==Re){4==h&&(this.s=4,ke(14),n=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}if(e==De){this.s=4,ke(15),Te(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Te(this.i,this.l,e,null),He(this,e)}if(Fe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),nn(d),d.M=!0,ke(11))}}else Te(this.i,this.l,s,"[Invalid Chunked Response]"),We(this),qe(this)}else Te(this.i,this.l,s,null),He(this,s);4==h&&We(this),this.o&&!this.J&&(4==h?an(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Vt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),We(this),qe(this)}}}catch(h){}},Ie.prototype.cancel=function(){this.J=!0,We(this)},Ie.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(_e(),ke(17)),We(this),this.s=2,qe(this)):Be(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function Ge(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qe(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Je(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ge.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),st(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ut(t[2]||""),this.g=ut(t[3]||"",!0),at(this,t[4]),this.l=ut(t[5]||"",!0),st(this,t[6]||"",!0),this.m=ut(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function it(e){return new rt(e)}function ot(e,t,n){e.j=n?ut(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function st(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,yt)),e.i=new bt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ct(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,ft,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,ft,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?gt:mt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,vt)),e.join("")};var ft=/[#\/\?@]/g,mt=/[#\?:]/g,gt=/[#\?]/g,yt=/[#\?@]/g,vt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){wt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _t(e,t){return wt(e),t=kt(e,t),e.g.has(t)}function St(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),h(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function jt(){this.g=new de}function Ot(e,t,n){const r=n||"";try{tt(e,(function(e,n){let i=e;a(e)&&(i=ce(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch($j){throw t.push(r+"type="+encodeURIComponent("_badmap")),$j}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ct(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function It(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=It(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Dt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){wt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"==typeof e)_t(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,_t(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Tt,he),Tt.prototype.g=function(){return new Ct(this.l,this.j)},Tt.prototype.i=function(e){return function(){return e}}({}),d(Ct,ee),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):At(this),3==this.readyState&&Nt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Dt,ee);var Rt=/^https?$/i,Lt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ft(e),$t(e)}function Ft(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function zt(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=Vt(e)||2!=e.Z()))if(e.u&&4==Vt(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==Vt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(nt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Rt.test(a?a.toLowerCase():"")}n=o}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var s=2<Vt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Ft(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Bt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=r}catch($j){}}}function Bt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Vt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ht(e){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ge(e&&e.concurrentRequestLimit),this.Da=new jt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Yt(e),3==e.G){var t=e.U++,n=it(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Jt(e,n),(t=new Ie(e,e.j,t)).L=2,t.v=ct(it(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}cn(e)}function Gt(e){e.g&&(nn(e),e.g.cancel(),e.g=null)}function Yt(e){Gt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Qt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;O||N(),T||(O(),T=!0),C.add(t,e),e.B=0}}function Xt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Jt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Ie(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Zt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Je(e.h,n),Le(n,r,t)}function Jt(e,t){e.H&&v(e.H,(function(e,n){lt(t,n,e)})),e.l&&tt({},(function(e,n){lt(t,n,e)}))}function Zt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Ot(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function en(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;O||N(),T||(O(),T=!0),C.add(t,e),e.v=0}}function tn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=je(c(e.Fa,e),sn(e,e.v)),e.v++,!0)}function nn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function rn(e){e.g=new Ie(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ct(it(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){on(e),nn(e),e.g=null;var r=2}else{if(!Xe(e.h,t))return;n=t.D,Ze(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;te(r=we(),new Ee(r,n)),Qt(e)}else en(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Qe(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=je(c(e.Ga,e,t),sn(e,e.B)),e.B++,0)))}(e,t)||2==r&&tn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ln(e,5);break;case 4:ln(e,10);break;case 3:ln(e,6);break;default:ln(e,2)}}function sn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function ln(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ct(r),t?function(e,t){const n=new Oe;if(i.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Oe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Et(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)})).catch((()=>{clearTimeout(r),Et(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),cn(e),Yt(e)}function cn(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function un(e,t,n){var r=n instanceof rt?it(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),at(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new rt(null);r&&ot(a,r),t&&(a.g=t),o&&at(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Jt(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Dt(new Tt({eb:n})):new Dt(e.pa)).Ha(e.J),t}function hn(){}function fn(){}function pn(e,t){ee.call(this),this.g=new Ht(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function mn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gn(){ye.call(this),this.status=1}function yn(e){this.g=e}(e=Dt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?fe(this.o):fe(Ce),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Lt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Dt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Vt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ue(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Ht.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=un(this,null,this.W),Qt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ie(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zt(this,i,t),lt(n=it(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Jt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(It(o)))+"&"+t:this.m&&Mt(n,this.m,o)),Je(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,Le(i,n,null)):Le(i,n,t),this.G=2}}else 3==this.G&&(e?Xt(this,e):0==this.i.length||Ye(this.h)||Xt(this))},e.Fa=function(){if(this.u=null,rn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=je(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Gt(this),rn(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),tn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=hn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new pn(e,t)},d(pn,ee),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Kt(this.g)},pn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ce(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&Qt(t)},pn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,pn.aa.N.call(this)},d(mn,ge),d(gn,ye),d(yn,hn),yn.prototype.ua=function(){te(this.g,"a")},yn.prototype.ta=function(e){te(this.g,new mn(e))},yn.prototype.sa=function(e){te(this.g,new gn)},yn.prototype.ra=function(){te(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,av=function(){return new fn},ov=function(){return we()},iv=ve,rv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,nv=Ne,Pe.COMPLETE="complete",tv=Pe,pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ee.prototype.listen=ee.prototype.K,ev=pe,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,Zy=Dt}).apply(void 0!==sv?sv:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const lv="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cv=class{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cv.UNAUTHENTICATED=new cv(null),cv.GOOGLE_CREDENTIALS=new cv("google-credentials-uid"),cv.FIRST_PARTY=new cv("first-party-uid"),cv.MOCK_USER=new cv("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let uv="10.14.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Sf("@firebase/firestore");function hv(){return dv.logLevel}function fv(e,...t){if(dv.logLevel<=yf.DEBUG){const n=t.map(gv);dv.debug(`Firestore (${uv}): ${e}`,...n)}}function pv(e,...t){if(dv.logLevel<=yf.ERROR){const n=t.map(gv);dv.error(`Firestore (${uv}): ${e}`,...n)}}function mv(e,...t){if(dv.logLevel<=yf.WARN){const n=t.map(gv);dv.warn(`Firestore (${uv}): ${e}`,...n)}}function gv(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(Bj){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e="Unexpected state"){const t=`FIRESTORE (${uv}) INTERNAL ASSERTION FAILED: `+e;throw pv(t),new Error(t)}function vv(e,t){e||yv()}function bv(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xv extends tf{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cv.UNAUTHENTICATED)))}shutdown(){}}class Ev{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jv{constructor(e){this.t=e,this.currentUser=cv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vv(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new _v;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _v,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{fv("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(fv("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _v)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(fv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(vv("string"==typeof t.accessToken),new Sv(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vv(null===e||"string"==typeof e),new cv(e)}}class Ov{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=cv.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Tv{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Ov(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(cv.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){vv(void 0===this.o);const n=e=>{null!=e.error&&fv("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,fv("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{fv("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):fv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(vv("string"==typeof e.token),this.R=e.token,new Cv(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Pv(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Iv(e,t){return e<t?-1:e>t?1:0}function Mv(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xv(wv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xv(wv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xv(wv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xv(wv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dv.fromMillis(Date.now())}static fromDate(e){return Dv.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Dv(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Iv(this.nanoseconds,e.nanoseconds):Iv(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rv(e)}static min(){return new Rv(new Dv(0,0))}static max(){return new Rv(new Dv(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t,n){void 0===t?t=0:t>e.length&&yv(),void 0===n?n=e.length-t:n>e.length-t&&yv(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Lv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lv?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Uv extends Lv{construct(e,t,n){return new Uv(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new xv(wv.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Uv(t)}static emptyPath(){return new Uv([])}}const Fv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zv extends Lv{construct(e,t,n){return new zv(e,t,n)}static isValidIdentifier(e){return Fv.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zv.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zv(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new xv(wv.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new xv(wv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new xv(wv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new xv(wv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zv(t)}static emptyPath(){return new zv([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.path=e}static fromPath(e){return new $v(Uv.fromString(e))}static fromName(e){return new $v(Uv.fromString(e).popFirst(5))}static empty(){return new $v(Uv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Uv.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Uv.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $v(new Uv(e.slice()))}}function Bv(e){return new Vv(e.readTime,e.key,-1)}class Vv{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vv(Rv.min(),$v.empty(),-1)}static max(){return new Vv(Rv.max(),$v.empty(),-1)}}function qv(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=$v.comparator(e.documentKey,t.documentKey),0!==n?n:Iv(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Wv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hv(e){if(e.code!==wv.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;fv("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Kv(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Kv?t:Kv.resolve(t)}catch(t){return Kv.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Kv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Kv.reject(t)}static resolve(e){return new Kv(((t,n)=>{t(e)}))}static reject(e){return new Kv(((t,n)=>{n(e)}))}static waitFor(e){return new Kv(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Kv.resolve(!1);for(const n of e)t=t.next((e=>e?Kv.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Kv(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Kv(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Gv(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Qv(e){return null==e}function Xv(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yv.oe=-1;class tb{constructor(e,t){this.comparator=e,this.root=t||rb.EMPTY}insert(e,t){return new tb(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rb.BLACK,null,null))}remove(e){return new tb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rb.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nb(this.root,e,this.comparator,!1)}getReverseIterator(){return new nb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nb(this.root,e,this.comparator,!0)}}class nb{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rb{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rb.RED,this.left=null!=r?r:rb.EMPTY,this.right=null!=i?i:rb.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rb.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rb.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yv();if(this.right.isRed())throw yv();const e=this.left.check();if(e!==this.right.check())throw yv();return e+(this.isRed()?0:1)}}rb.EMPTY=null,rb.RED=!0,rb.BLACK=!1,rb.EMPTY=new class{constructor(){this.size=0}get key(){throw yv()}get value(){throw yv()}get color(){throw yv()}get left(){throw yv()}get right(){throw yv()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rb(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ib{constructor(e){this.comparator=e,this.data=new tb(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ob(this.data.getIterator())}getIteratorFrom(e){return new ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ib))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ib(this.comparator);return t.data=e,t}}class ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.fields=e,e.sort(zv.comparator)}static empty(){return new ab([])}unionWith(e){let t=new ib(zv.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ab(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mv(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new sb("Invalid base64 string: "+t):t}}(e);return new lb(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new lb(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Iv(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lb.EMPTY_BYTE_STRING=new lb("");const cb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ub(e){if(vv(!!e),"string"==typeof e){let t=0;const n=cb.exec(e);if(vv(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:db(e.seconds),nanos:db(e.nanos)}}function db(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hb(e){return"string"==typeof e?lb.fromBase64String(e):lb.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pb(e){const t=e.mapValue.fields.__previous_value__;return fb(t)?pb(t):t}function mb(e){const t=ub(e.mapValue.fields.__local_write_time__.timestampValue);return new Dv(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class yb{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yb("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yb&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={fields:{__type__:{stringValue:"__max__"}}};function bb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fb(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}(e)?10:11:yv()}function wb(e,t){if(e===t)return!0;const n=bb(e);if(n!==bb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mb(e).isEqual(mb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ub(e.timestampValue),r=ub(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,hb(e.bytesValue).isEqual(hb(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return db(e.geoPointValue.latitude)===db(t.geoPointValue.latitude)&&db(e.geoPointValue.longitude)===db(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return db(e.integerValue)===db(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=db(e.doubleValue),r=db(t.doubleValue);return n===r?Xv(n)===Xv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Mv(e.arrayValue.values||[],t.arrayValue.values||[],wb);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Jv(n)!==Jv(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wb(n[i],r[i])))return!1;return!0}(e,t);default:return yv()}var r}function xb(e,t){return void 0!==(e.values||[]).find((e=>wb(e,t)))}function _b(e,t){if(e===t)return 0;const n=bb(e),r=bb(t);if(n!==r)return Iv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Iv(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=db(e.integerValue||e.doubleValue),r=db(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Sb(e.timestampValue,t.timestampValue);case 4:return Sb(mb(e),mb(t));case 5:return Iv(e.stringValue,t.stringValue);case 6:return function(e,t){const n=hb(e),r=hb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Iv(n[i],r[i]);if(0!==e)return e}return Iv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Iv(db(e.latitude),db(t.latitude));return 0!==n?n:Iv(db(e.longitude),db(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return kb(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=Iv((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:kb(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===vb&&t===vb)return 0;if(e===vb)return 1;if(t===vb)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Iv(r[a],o[a]);if(0!==e)return e;const t=_b(n[r[a]],i[o[a]]);if(0!==t)return t}return Iv(r.length,o.length)}(e.mapValue,t.mapValue);default:throw yv()}}function Sb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Iv(e,t);const n=ub(e),r=ub(t),i=Iv(n.seconds,r.seconds);return 0!==i?i:Iv(n.nanos,r.nanos)}function kb(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=_b(n[i],r[i]);if(e)return e}return Iv(n.length,r.length)}function Eb(e){return jb(e)}function jb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ub(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hb(e.bytesValue).toBase64():"referenceValue"in e?function(e){return $v.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=jb(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${jb(e.fields[i])}`;return n+"}"}(e.mapValue):yv()}function Ob(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Tb(e){return!!e&&"integerValue"in e}function Cb(e){return!!e&&"arrayValue"in e}function Nb(e){return!!e&&"nullValue"in e}function Pb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ab(e){return!!e&&"mapValue"in e}function Ib(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zv(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ib(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ib(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Mb{constructor(e){this.value=e}static empty(){return new Mb({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ab(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ib(t)}setAll(e){let t=zv.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ib(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ab(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wb(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ab(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Zv(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Mb(Ib(this.value))}}function Db(e){const t=[];return Zv(e.fields,((e,n)=>{const r=new zv([e]);if(Ab(n)){const e=Db(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ab(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Rb{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rb(e,0,Rv.min(),Rv.min(),Rv.min(),Mb.empty(),0)}static newFoundDocument(e,t,n,r){return new Rb(e,1,t,Rv.min(),n,r,0)}static newNoDocument(e,t){return new Rb(e,2,t,Rv.min(),Rv.min(),Mb.empty(),0)}static newUnknownDocument(e,t){return new Rb(e,3,t,Rv.min(),Rv.min(),Mb.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mb.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mb.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rv.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rb&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rb(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t){this.position=e,this.inclusive=t}}function Ub(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?$v.comparator($v.fromName(a.referenceValue),n.key):_b(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Fb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wb(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t="asc"){this.field=e,this.dir=t}}function $b(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{}class Vb extends Bb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Qb(e,t,n):"array-contains"===t?new ew(e,n):"in"===t?new tw(e,n):"not-in"===t?new nw(e,n):"array-contains-any"===t?new rw(e,n):new Vb(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Xb(e,n):new Jb(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_b(t,this.value)):null!==t&&bb(this.value)===bb(t)&&this.matchesComparison(_b(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yv()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qb extends Bb{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new qb(e,t)}matches(e){return Wb(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Wb(e){return"and"===e.op}function Hb(e){return function(e){for(const t of e.filters)if(t instanceof qb)return!1;return!0}(e)&&Wb(e)}function Kb(e){if(e instanceof Vb)return e.field.canonicalString()+e.op.toString()+Eb(e.value);if(Hb(e))return e.filters.map((e=>Kb(e))).join(",");{const t=e.filters.map((e=>Kb(e))).join(",");return`${e.op}(${t})`}}function Gb(e,t){return e instanceof Vb?(n=e,(r=t)instanceof Vb&&n.op===r.op&&n.field.isEqual(r.field)&&wb(n.value,r.value)):e instanceof qb?function(e,t){return t instanceof qb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Gb(n,t.filters[r])),!0)}(e,t):void yv();var n,r}function Yb(e){return e instanceof Vb?`${(t=e).field.canonicalString()} ${t.op} ${Eb(t.value)}`:e instanceof qb?function(e){return e.op.toString()+" {"+e.getFilters().map(Yb).join(" ,")+"}"}(e):"Filter";var t}class Qb extends Vb{constructor(e,t,n){super(e,t,n),this.key=$v.fromName(n.referenceValue)}matches(e){const t=$v.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xb extends Vb{constructor(e,t){super(e,"in",t),this.keys=Zb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jb extends Vb{constructor(e,t){super(e,"not-in",t),this.keys=Zb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>$v.fromName(e.referenceValue)))}class ew extends Vb{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cb(t)&&xb(t.arrayValue,this.value)}}class tw extends Vb{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xb(this.value.arrayValue,t)}}class nw extends Vb{constructor(e,t){super(e,"not-in",t)}matches(e){if(xb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xb(this.value.arrayValue,t)}}class rw extends Vb{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>xb(this.value.arrayValue,e)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function ow(e,t=null,n=[],r=[],i=null,o=null,a=null){return new iw(e,t,n,r,i,o,a)}function aw(e){const t=bv(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Kb(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>{return(t=e).field.canonicalString()+t.dir;var t})).join(","),Qv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Eb(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Eb(e))).join(",")),t.ue=e}return t.ue}function sw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$b(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Gb(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fb(e.startAt,t.startAt)&&Fb(e.endAt,t.endAt)}function lw(e){return $v.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function uw(e){return new cw(e)}function dw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hw(e){return null!==e.collectionGroup}function fw(e){const t=bv(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new ib(zv.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new zb(r,n))})),e.has(zv.keyField().canonicalString())||t.ce.push(new zb(zv.keyField(),n))}return t.ce}function pw(e){const t=bv(e);return t.le||(t.le=function(e,t){if("F"===e.limitType)return ow(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new zb(e.field,t)}));const n=e.endAt?new Lb(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Lb(e.startAt.position,e.startAt.inclusive):null;return ow(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,fw(e))),t.le}function mw(e,t){const n=e.filters.concat([t]);return new cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gw(e,t,n){return new cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yw(e,t){return sw(pw(e),pw(t))&&e.limitType===t.limitType}function vw(e){return`${aw(pw(e))}|lt:${e.limitType}`}function bw(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Yb(e))).join(", ")}]`),Qv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t})).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Eb(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Eb(e))).join(",")),`Target(${t})`}(pw(e))}; limitType=${e.limitType})`}function ww(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$v.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of fw(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=Ub(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,fw(n),r)||n.endAt&&!function(e,t,n){const r=Ub(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,fw(n),r)));var n,r}function xw(e){return(t,n)=>{let r=!1;for(const i of fw(e)){const e=_w(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _w(e,t,n){const r=e.field.isKeyField()?$v.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_b(r,i):yv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yv()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zv(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return eb(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new tb($v.comparator);function Ew(){return kw}const jw=new tb($v.comparator);function Ow(...e){let t=jw;for(const n of e)t=t.insert(n.key,n);return t}function Tw(e){let t=jw;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Cw(){return Pw()}function Nw(){return Pw()}function Pw(){return new Sw((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Aw=new tb($v.comparator),Iw=new ib($v.comparator);function Mw(...e){let t=Iw;for(const n of e)t=t.add(n);return t}const Dw=new ib(Iv);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Rw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xv(t)?"-0":t}}function Lw(e){return{integerValue:""+e}}function Uw(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Xv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Lw(t):Rw(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this._=void 0}}function zw(e,t,n){return e instanceof Vw?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fb(t)&&(t=pb(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qw?Ww(e,t):e instanceof Hw?Kw(e,t):function(e,t){const n=Bw(e,t),r=Yw(n)+Yw(e.Pe);return Tb(n)&&Tb(e.Pe)?Lw(r):Rw(e.serializer,r)}(e,t)}function $w(e,t,n){return e instanceof qw?Ww(e,t):e instanceof Hw?Kw(e,t):n}function Bw(e,t){return e instanceof Gw?Tb(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class Vw extends Fw{}class qw extends Fw{constructor(e){super(),this.elements=e}}function Ww(e,t){const n=Qw(t);for(const r of e.elements)n.some((e=>wb(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Hw extends Fw{constructor(e){super(),this.elements=e}}function Kw(e,t){let n=Qw(t);for(const r of e.elements)n=n.filter((e=>!wb(e,r)));return{arrayValue:{values:n}}}class Gw extends Fw{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Yw(e){return db(e.integerValue||e.doubleValue)}function Qw(e){return Cb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t){this.field=e,this.transform=t}}class Jw{constructor(e,t){this.version=e,this.transformResults=t}}class Zw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zw}static exists(e){return new Zw(void 0,e)}static updateTime(e){return new Zw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ex(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class tx{}function nx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new hx(e.key,Zw.none()):new sx(e.key,e.data,Zw.none());{const n=e.data,r=Mb.empty();let i=new ib(zv.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new lx(e.key,r,new ab(i.toArray()),Zw.none())}}function rx(e,t,n){var r;e instanceof sx?function(e,t,n){const r=e.value.clone(),i=ux(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lx?function(e,t,n){if(!ex(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ux(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function ix(e,t,n,r){return e instanceof sx?function(e,t,n,r){if(!ex(e.precondition,t))return n;const i=e.value.clone(),o=dx(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof lx?function(e,t,n,r){if(!ex(e.precondition,t))return n;const i=dx(e.fieldTransforms,r,t),o=t.data;return o.setAll(cx(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):(i=t,o=n,ex(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o);var i,o}function ox(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Bw(r.transform,e||null);null!=i&&(null===n&&(n=Mb.empty()),n.set(r.field,i))}return n||null}function ax(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Mv(n,r,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof qw&&r instanceof qw||n instanceof Hw&&r instanceof Hw?Mv(n.elements,r.elements,wb):n instanceof Gw&&r instanceof Gw?wb(n.Pe,r.Pe):n instanceof Vw&&r instanceof Vw);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class sx extends tx{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lx extends tx{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cx(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ux(e,t,n){const r=new Map;vv(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,$w(a,s,n[i]))}return r}function dx(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,zw(e,o,t))}return r}class hx extends tx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fx extends tx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&rx(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ix(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ix(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Nw();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=nx(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Rv.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Mw())}isEqual(e){return this.batchId===e.batchId&&Mv(this.mutations,e.mutations,((e,t)=>ax(e,t)))&&Mv(this.baseMutations,e.baseMutations,((e,t)=>ax(e,t)))}}class mx{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){vv(e.mutations.length===n.length);let r=function(){return Aw}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new mx(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gx=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vx,bx;function wx(e){if(void 0===e)return pv("GRPC error has no .code"),wv.UNKNOWN;switch(e){case vx.OK:return wv.OK;case vx.CANCELLED:return wv.CANCELLED;case vx.UNKNOWN:return wv.UNKNOWN;case vx.DEADLINE_EXCEEDED:return wv.DEADLINE_EXCEEDED;case vx.RESOURCE_EXHAUSTED:return wv.RESOURCE_EXHAUSTED;case vx.INTERNAL:return wv.INTERNAL;case vx.UNAVAILABLE:return wv.UNAVAILABLE;case vx.UNAUTHENTICATED:return wv.UNAUTHENTICATED;case vx.INVALID_ARGUMENT:return wv.INVALID_ARGUMENT;case vx.NOT_FOUND:return wv.NOT_FOUND;case vx.ALREADY_EXISTS:return wv.ALREADY_EXISTS;case vx.PERMISSION_DENIED:return wv.PERMISSION_DENIED;case vx.FAILED_PRECONDITION:return wv.FAILED_PRECONDITION;case vx.ABORTED:return wv.ABORTED;case vx.OUT_OF_RANGE:return wv.OUT_OF_RANGE;case vx.UNIMPLEMENTED:return wv.UNIMPLEMENTED;case vx.DATA_LOSS:return wv.DATA_LOSS;default:return yv()}}(bx=vx||(vx={}))[bx.OK=0]="OK",bx[bx.CANCELLED=1]="CANCELLED",bx[bx.UNKNOWN=2]="UNKNOWN",bx[bx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bx[bx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bx[bx.NOT_FOUND=5]="NOT_FOUND",bx[bx.ALREADY_EXISTS=6]="ALREADY_EXISTS",bx[bx.PERMISSION_DENIED=7]="PERMISSION_DENIED",bx[bx.UNAUTHENTICATED=16]="UNAUTHENTICATED",bx[bx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bx[bx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bx[bx.ABORTED=10]="ABORTED",bx[bx.OUT_OF_RANGE=11]="OUT_OF_RANGE",bx[bx.UNIMPLEMENTED=12]="UNIMPLEMENTED",bx[bx.INTERNAL=13]="INTERNAL",bx[bx.UNAVAILABLE=14]="UNAVAILABLE",bx[bx.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const xx=new Qy([4294967295,4294967295],0);function _x(e){const t=(new TextEncoder).encode(e),n=new Xy;return n.update(t),new Uint8Array(n.digest())}function Sx(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Qy([n,r],0),new Qy([i,o],0)]}class kx{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ex(`Invalid padding: ${t}`);if(n<0)throw new Ex(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Ex(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Ex(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Qy.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Qy.fromNumber(n)));return 1===r.compare(xx)&&(r=new Qy([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=_x(e),[n,r]=Sx(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new kx(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=_x(e),[n,r]=Sx(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ex extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ox.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new jx(Rv.min(),r,new tb(Iv),Ew(),Mw())}}class Ox{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ox(n,t,Mw(),Mw(),Mw())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Cx{constructor(e,t){this.targetId=e,this.me=t}}class Nx{constructor(e,t,n=lb.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Px{constructor(){this.fe=0,this.ge=Mx(),this.pe=lb.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Mw(),t=Mw(),n=Mw();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yv()}})),new Ox(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Mx()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vv(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ax{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ew(),this.qe=Ix(),this.Qe=new tb(Iv)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:yv()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(lw(i))if(0===n){const e=new $v(i.path);this.Ue(t,e,Rb.newNoDocument(e,Rv.min()))}else vv(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=hb(n).toUint8Array()}catch(s){if(s instanceof sb)return mv("Decoding the base64 bloom filter in existence filter failed ("+s.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw s}try{a=new kx(o,r,i)}catch(s){return mv(s instanceof Ex?"BloomFilter error: ":"Applying bloom filter failed: ",s),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&lw(i.target)){const t=new $v(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Rb.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Mw();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new jx(e,t,this.Qe,this.ke,n);return this.ke=Ew(),this.qe=Ix(),this.Qe=new tb(Iv),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Px,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ib(Iv),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||fv("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Px),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ix(){return new tb($v.comparator)}function Mx(){return new tb($v.comparator)}const Dx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Rx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Lx=(()=>({and:"AND",or:"OR"}))();class Ux{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fx(e,t){return e.useProto3Json||Qv(t)?t:{value:t}}function zx(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $x(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bx(e,t){return zx(e,t.toTimestamp())}function Vx(e){return vv(!!e),Rv.fromTimestamp(function(e){const t=ub(e);return new Dv(t.seconds,t.nanos)}(e))}function qx(e,t){return Wx(e,t).canonicalString()}function Wx(e,t){const n=(r=e,new Uv(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function Hx(e){const t=Uv.fromString(e);return vv(u_(t)),t}function Kx(e,t){return qx(e.databaseId,t.path)}function Gx(e,t){const n=Hx(t);if(n.get(1)!==e.databaseId.projectId)throw new xv(wv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xv(wv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $v(Xx(n))}function Yx(e,t){return qx(e.databaseId,t)}function Qx(e){return new Uv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xx(e){return vv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jx(e,t,n){return{name:Kx(e,t),fields:n.value.mapValue.fields}}function Zx(e,t){return{documents:[Yx(e,t.path)]}}function e_(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yx(e,i);const o=function(e){if(0!==e.length)return l_(qb.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>{return{field:a_((t=e).field),direction:r_(t.dir)};var t}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Fx(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i};var l}function t_(e){let t=function(e){const t=Hx(e);return 4===t.length?Uv.emptyPath():Xx(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vv(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=n_(e);return t instanceof qb&&Hb(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>{return new zb(s_((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Qv(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Lb(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Lb(n,t)}(n.endAt)),function(e,t,n,r,i,o,a,s){return new cw(e,t,n,r,i,o,a,s)}(t,i,a,o,s,"F",l,c)}function n_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=s_(e.unaryFilter.field);return Vb.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=s_(e.unaryFilter.field);return Vb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=s_(e.unaryFilter.field);return Vb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=s_(e.unaryFilter.field);return Vb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yv()}}(e):void 0!==e.fieldFilter?(t=e,Vb.create(s_(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yv()}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return qb.create(e.compositeFilter.filters.map((e=>n_(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yv()}}(e.compositeFilter.op))}(e):yv();var t}function r_(e){return Dx[e]}function i_(e){return Rx[e]}function o_(e){return Lx[e]}function a_(e){return{fieldPath:e.canonicalString()}}function s_(e){return zv.fromServerFormat(e.fieldPath)}function l_(e){return e instanceof Vb?function(e){if("=="===e.op){if(Pb(e.value))return{unaryFilter:{field:a_(e.field),op:"IS_NAN"}};if(Nb(e.value))return{unaryFilter:{field:a_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pb(e.value))return{unaryFilter:{field:a_(e.field),op:"IS_NOT_NAN"}};if(Nb(e.value))return{unaryFilter:{field:a_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:a_(e.field),op:i_(e.op),value:e.value}}}(e):e instanceof qb?function(e){const t=e.getFilters().map((e=>l_(e)));return 1===t.length?t[0]:{compositeFilter:{op:o_(e.op),filters:t}}}(e):yv()}function c_(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function u_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t,n,r,i=Rv.min(),o=Rv.min(),a=lb.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new d_(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new d_(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new d_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new d_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.ct=e}}function f_(e){const t=t_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gw(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.un=new m_}addToCollectionParentIndex(e,t){return this.un.add(t),Kv.resolve()}getCollectionParents(e,t){return Kv.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Kv.resolve()}deleteFieldIndex(e,t){return Kv.resolve()}deleteAllFieldIndexes(e){return Kv.resolve()}createTargetIndexes(e,t){return Kv.resolve()}getDocumentsMatchingTarget(e,t){return Kv.resolve(null)}getIndexType(e,t){return Kv.resolve(0)}getFieldIndexes(e,t){return Kv.resolve([])}getNextCollectionGroupToUpdate(e){return Kv.resolve(null)}getMinOffset(e,t){return Kv.resolve(Vv.min())}getMinOffsetFromCollectionGroup(e,t){return Kv.resolve(Vv.min())}updateCollectionGroup(e,t,n){return Kv.resolve()}updateIndexEntries(e,t){return Kv.resolve()}}class m_{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ib(Uv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ib(Uv.comparator)).toArray()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new g_(0)}static kn(){return new g_(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.changes=new Sw((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rb.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Kv.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ix(n.mutation,e,ab.empty(),Dv.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Mw()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Mw()){const r=Cw();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ow();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Cw();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Mw())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ew();const o=Pw(),a=Pw();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof lx)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),ix(a.mutation,t,a.mutation.getFieldMask(),Dv.now())):o.set(t.key,ab.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new v_(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Pw();let r=new tb(((e,t)=>e-t)),i=Mw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||ab.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Mw()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Nw();l.forEach((e=>{if(!i.has(e)){const r=nx(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Kv.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return i=t,$v.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):hw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Kv.resolve(Cw());let a=-1,s=i;return o.next((t=>Kv.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Kv.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Mw()))).next((e=>({batchId:a,changes:Tw(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $v(t)).next((e=>{let t=Ow();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Ow();return this.indexManager.getCollectionParents(e,i).next((a=>Kv.forEach(a,(a=>{const s=(l=t,c=a.child(i),new cw(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Rb.newInvalidDocument(r)))}));let n=Ow();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&ix(o.mutation,r,ab.empty(),Dv.now()),ww(t,r)&&(n=n.insert(e,r))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Kv.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(n=t).id,version:n.version,createTime:Vx(n.createTime)}),Kv.resolve();var n}getNamedQuery(e,t){return Kv.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(n=t).name,query:f_(n.bundledQuery),readTime:Vx(n.readTime)}),Kv.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.overlays=new tb($v.comparator),this.Ir=new Map}getOverlay(e,t){return Kv.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Cw();return Kv.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Kv.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),Kv.resolve()}getOverlaysForCollection(e,t,n){const r=Cw(),i=t.length+1,o=new $v(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Kv.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new tb(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Cw(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Cw(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Kv.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new gx(t,n));let i=this.Ir.get(t);void 0===i&&(i=Mw(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.sessionToken=lb.EMPTY_BYTE_STRING}getSessionToken(e){return Kv.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Kv.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.Tr=new ib(k_.Er),this.dr=new ib(k_.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new k_(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new k_(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new $v(new Uv([])),n=new k_(t,e),r=new k_(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new $v(new Uv([])),n=new k_(t,e),r=new k_(t,e+1);let i=Mw();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new k_(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class k_{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return $v.comparator(e.key,t.key)||Iv(e.wr,t.wr)}static Ar(e,t){return Iv(e.wr,t.wr)||$v.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ib(k_.Er)}checkEmpty(e){return Kv.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new px(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new k_(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Kv.resolve(o)}lookupMutationBatch(e,t){return Kv.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Kv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Kv.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Kv.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new k_(t,0),r=new k_(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),Kv.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ib(Iv);return t.forEach((e=>{const t=new k_(e,0),r=new k_(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),Kv.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;$v.isDocumentKey(i)||(i=i.child(""));const o=new k_(new $v(i),0);let a=new ib(Iv);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),o),Kv.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){vv(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Kv.forEach(t.mutations,(r=>{const i=new k_(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new k_(t,0),r=this.br.firstAfterOrEqual(n);return Kv.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Kv.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.Mr=e,this.docs=new tb($v.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Kv.resolve(n?n.document.mutableCopy():Rb.newInvalidDocument(t))}getEntries(e,t){let n=Ew();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Rb.newInvalidDocument(e))})),Kv.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ew();const o=t.path,a=new $v(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||qv(Bv(a),n)<=0||(r.has(a.key)||ww(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Kv.resolve(i)}getAllFromCollectionGroup(e,t,n,r){yv()}Or(e,t){return Kv.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new O_(this)}getSize(e){return Kv.resolve(this.size)}}class O_ extends y_{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),Kv.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.persistence=e,this.Nr=new Sw((e=>aw(e)),sw),this.lastRemoteSnapshotVersion=Rv.min(),this.highestTargetId=0,this.Lr=0,this.Br=new S_,this.targetCount=0,this.kr=g_.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),Kv.resolve()}getLastRemoteSnapshotVersion(e){return Kv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Kv.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Kv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Kv.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new g_(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Kv.resolve()}updateTargetData(e,t){return this.Kn(t),Kv.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Kv.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Kv.waitFor(i).next((()=>r))}getTargetCount(e){return Kv.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Kv.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Kv.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Kv.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Kv.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Kv.resolve(n)}containsKey(e,t){return Kv.resolve(this.Br.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Yv(0),this.Kr=!1,this.Kr=!0,this.$r=new __,this.referenceDelegate=e(this),this.Ur=new T_(this),this.indexManager=new p_,this.remoteDocumentCache=new j_((e=>this.referenceDelegate.Wr(e))),this.serializer=new h_(t),this.Gr=new w_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new x_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new E_(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){fv("MemoryPersistence","Starting transaction:",e);const r=new N_(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return Kv.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class N_ extends Wv{constructor(e){super(),this.currentSequenceNumber=e}}class P_{constructor(e){this.persistence=e,this.Jr=new S_,this.Yr=null}static Zr(e){return new P_(e)}get Xr(){if(this.Yr)return this.Yr;throw yv()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Kv.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Kv.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Kv.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kv.forEach(this.Xr,(n=>{const r=$v.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Rv.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Kv.or([()=>Kv.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Mw(),r=Mw();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new A_(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=ef()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Zh())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new I_;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(hv()<=yf.DEBUG&&fv("QueryEngine","SDK will not create cache indexes for query:",bw(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Kv.resolve()):(hv()<=yf.DEBUG&&fv("QueryEngine","Query:",bw(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(hv()<=yf.DEBUG&&fv("QueryEngine","The SDK decides to create cache indexes for query:",bw(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pw(t))):Kv.resolve())}Yi(e,t){if(dw(t))return Kv.resolve(null);let n=pw(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=gw(t,null,"F"),n=pw(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Mw(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ts(t,r);return this.ns(t,o,i,n.readTime)?this.Yi(e,gw(t,null,"F")):this.rs(e,o,t,n)}))))})))))}Zi(e,t,n,r){return dw(t)||r.isEqual(Rv.min())?Kv.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const o=this.ts(t,i);return this.ns(t,o,n,r)?Kv.resolve(null):(hv()<=yf.DEBUG&&fv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bw(t)),this.rs(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Rv.fromTimestamp(1e9===r?new Dv(n+1,0):new Dv(n,r));return new Vv(i,$v.empty(),t)}(r,-1)).next((e=>e)))}))}ts(e,t){let n=new ib(xw(e));return t.forEach(((t,r)=>{ww(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return hv()<=yf.DEBUG&&fv("QueryEngine","Using full collection scan to execute query:",bw(t)),this.Ji.getDocumentsMatchingQuery(e,t,Vv.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new tb(Iv),this._s=new Sw((e=>aw(e)),sw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}async function R_(e,t){const n=bv(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=Mw();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function L_(e){const t=bv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function U_(e,t){const n=bv(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Ur.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);var u,d,h;null!==t.targetMismatches.get(s)?c=c.withResumeToken(lb.EMPTY_BYTE_STRING,Rv.min()).withLastLimboFreeSnapshotVersion(Rv.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),d=c,h=o,(0===(u=l).resumeToken.approximateByteSize()||d.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(e,c))}));let s=Ew(),l=Mw();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(function(e,t,n){let r=Mw(),i=Mw();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ew();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Rv.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):fv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Ps:r,Is:i}}))}(e,o,t.documentUpdates).next((e=>{s=e.Ps,l=e.Is}))),!r.isEqual(Rv.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Kv.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.os=i,e)))}function F_(e,t){const n=bv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function z_(e,t,n){const r=bv(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(a){if(!Gv(a))throw a;fv("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function $_(e,t,n){const r=bv(e);let i=Rv.min(),o=Mw();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=bv(e),i=r._s.get(n);return void 0!==i?Kv.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,pw(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Rv.min(),n?o:Mw()))).next((e=>(function(e,t,n){let r=e.us.get(t)||Rv.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ts:o})))))}class B_{constructor(){this.activeTargetIds=Dw}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V_{constructor(){this.so=new B_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new B_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{_o(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H_=null;function K_(){return null===H_?H_=268435456+Math.round(2147483648*Math.random()):H_++,"0x"+H_.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const G_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="WebChannelConnection";class X_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const o=K_(),a=this.xo(e,t.toUriEncodedString());fv("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,a,s,n).then((t=>(fv("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw mv("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,o){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+uv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=G_[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=K_();return new Promise(((o,a)=>{const s=new Zy;s.setWithCredentials(!0),s.listenOnce(tv.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case nv.NO_ERROR:const t=s.getResponseJson();fv(Q_,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case nv.TIMEOUT:fv(Q_,`RPC '${e}' ${i} timed out`),a(new xv(wv.DEADLINE_EXCEEDED,"Request time out"));break;case nv.HTTP_ERROR:const n=s.getStatus();if(fv(Q_,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(wv).indexOf(t)>=0?t:wv.UNKNOWN}(t.status);a(new xv(e,t.message))}else a(new xv(wv.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new xv(wv.UNAVAILABLE,"Connection failed."));break;default:yv()}}finally{fv(Q_,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);fv(Q_,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=K_(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=av(),a=ov(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");fv(Q_,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new Y_({Io:t=>{h?fv(Q_,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(fv(Q_,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),fv(Q_,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,ev.EventType.OPEN,(()=>{h||(fv(Q_,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(u,ev.EventType.CLOSE,(()=>{h||(h=!0,fv(Q_,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(u,ev.EventType.ERROR,(t=>{h||(h=!0,mv(Q_,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new xv(wv.UNAVAILABLE,"The operation could not be completed")))})),p(u,ev.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];vv(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){fv(Q_,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=vx[e];if(void 0!==t)return wx(t)}(t),i=a.message;void 0===n&&(n=wv.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new xv(n,i)),u.close()}else fv(Q_,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(a,iv.STAT_EVENT,(t=>{t.stat===rv.PROXY?fv(Q_,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===rv.NOPROXY&&fv(Q_,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function J_(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(e){return new Ux(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&fv("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,n,r,i,o,a,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eS(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===wv.RESOURCE_EXHAUSTED?(pv(t.toString()),pv("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===wv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Yo===t&&this.P_(e,n)}),(t=>{e((()=>{const e=new xv(wv.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return fv("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(fv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nS extends tS{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:yv(),o=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(vv(void 0===t||"string"==typeof t),lb.fromBase64String(t||"")):(vv(void 0===t||t instanceof Buffer||t instanceof Uint8Array),lb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,l=s&&function(e){const t=void 0===e.code?wv.UNKNOWN:wx(e.code);return new xv(t,e.message||"")}(s);n=new Nx(i,o,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gx(e,r.document.name),o=Vx(r.document.updateTime),a=r.document.createTime?Vx(r.document.createTime):Rv.min(),s=new Mb({mapValue:{fields:r.document.fields}}),l=Rb.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Tx(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gx(e,r.document),o=r.readTime?Vx(r.readTime):Rv.min(),a=Rb.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Tx([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gx(e,r.document),o=r.removedTargetIds||[];n=new Tx([],o,i,null)}else{if(!("filter"in t))return yv();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new yx(r,i),a=e.targetId;n=new Cx(a,o)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Rv.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Rv.min():t.readTime?Vx(t.readTime):Rv.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Qx(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=lw(r)?{documents:Zx(e,r)}:{query:e_(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$x(e,t.resumeToken);const r=Fx(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Rv.min())>0){n.readTime=zx(e,t.snapshotVersion.toTimestamp());const r=Fx(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Qx(this.serializer),t.removeTarget=e,this.a_(t)}}class rS extends tS{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return vv(!!e.streamToken),this.lastStreamToken=e.streamToken,vv(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){vv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(vv(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Vx(e.updateTime):Vx(t);return n.isEqual(Rv.min())&&(n=Vx(t)),new Jw(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Vx(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Qx(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof sx)n={update:Jx(e,t.key,t.value)};else if(t instanceof hx)n={delete:Kx(e,t.key)};else if(t instanceof lx)n={update:Jx(e,t.key,t.data),updateMask:c_(t.fieldMask)};else{if(!(t instanceof fx))return yv();n={verify:Kx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Vw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Gw)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw yv()}(0,e)))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:Bx(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:yv())),n;var r,i}(this.serializer,e)))};this.a_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new xv(wv.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Mo(e,Wx(t,n),r,i,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===wv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new xv(wv.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Lo(e,Wx(t,n),r,o,a,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===wv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new xv(wv.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class oS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pv(t),this.D_=!1):fv("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{mS(this)&&(fv("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=bv(e);t.L_.add(4),await lS(t),t.q_.set("Unknown"),t.L_.delete(4),await sS(t)}(this))}))})),this.q_=new oS(n,r)}}async function sS(e){if(mS(e))for(const t of e.B_)await t(!0)}async function lS(e){for(const t of e.B_)await t(!1)}function cS(e,t){const n=bv(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),pS(n)?fS(n):IS(n).r_()&&dS(n,t))}function uS(e,t){const n=bv(e),r=IS(n);n.N_.delete(t),r.r_()&&hS(n,t),0===n.N_.size&&(r.r_()?r.o_():mS(n)&&n.q_.set("Unknown"))}function dS(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rv.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}IS(e).A_(t)}function hS(e,t){e.Q_.xe(t),IS(e).R_(t)}function fS(e){e.Q_=new Ax({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),IS(e).start(),e.q_.v_()}function pS(e){return mS(e)&&!IS(e).n_()&&e.N_.size>0}function mS(e){return 0===bv(e).L_.size}function gS(e){e.Q_=void 0}async function yS(e){e.q_.set("Online")}async function vS(e){e.N_.forEach(((t,n)=>{dS(e,t)}))}async function bS(e,t){gS(e),pS(e)?(e.q_.M_(t),fS(e)):e.q_.set("Unknown")}async function wS(e,t,n){if(e.q_.set("Online"),t instanceof Nx&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(r){fv("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await xS(e,r)}else if(t instanceof Tx?e.Q_.Ke(t):t instanceof Cx?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Rv.min()))try{const t=await L_(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(lb.EMPTY_BYTE_STRING,r.snapshotVersion)),hS(e,t);const i=new d_(r.target,t,n,r.sequenceNumber);dS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){fv("RemoteStore","Failed to raise snapshot:",i),await xS(e,i)}}async function xS(e,t,n){if(!Gv(t))throw t;e.L_.add(1),await lS(e),e.q_.set("Offline"),n||(n=()=>L_(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{fv("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await sS(e)}))}function _S(e,t){return t().catch((n=>xS(e,n,t)))}async function SS(e){const t=bv(e),n=MS(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;kS(t);)try{const e=await F_(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,ES(t,e)}catch(i){await xS(t,i)}jS(t)&&OS(t)}function kS(e){return mS(e)&&e.O_.length<10}function ES(e,t){e.O_.push(t);const n=MS(e);n.r_()&&n.V_&&n.m_(t.mutations)}function jS(e){return mS(e)&&!MS(e).n_()&&e.O_.length>0}function OS(e){MS(e).start()}async function TS(e){MS(e).p_()}async function CS(e){const t=MS(e);for(const n of e.O_)t.m_(n.mutations)}async function NS(e,t,n){const r=e.O_.shift(),i=mx.from(r,t,n);await _S(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await SS(e)}async function PS(e,t){t&&MS(e).V_&&await async function(e,t){if(function(e){switch(e){default:return yv();case wv.CANCELLED:case wv.UNKNOWN:case wv.DEADLINE_EXCEEDED:case wv.RESOURCE_EXHAUSTED:case wv.INTERNAL:case wv.UNAVAILABLE:case wv.UNAUTHENTICATED:return!1;case wv.INVALID_ARGUMENT:case wv.NOT_FOUND:case wv.ALREADY_EXISTS:case wv.PERMISSION_DENIED:case wv.FAILED_PRECONDITION:case wv.ABORTED:case wv.OUT_OF_RANGE:case wv.UNIMPLEMENTED:case wv.DATA_LOSS:return!0}}(n=t.code)&&n!==wv.ABORTED){const n=e.O_.shift();MS(e).s_(),await _S(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await SS(e)}var n}(e,t),jS(e)&&OS(e)}async function AS(e,t){const n=bv(e);n.asyncQueue.verifyOperationInProgress(),fv("RemoteStore","RemoteStore received new credentials");const r=mS(n);n.L_.add(3),await lS(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await sS(n)}function IS(e){return e.K_||(e.K_=function(e,t,n){const r=bv(e);return r.w_(),new nS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:yS.bind(null,e),Ro:vS.bind(null,e),mo:bS.bind(null,e),d_:wS.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),pS(e)?fS(e):e.q_.set("Unknown")):(await e.K_.stop(),gS(e))}))),e.K_}function MS(e){return e.U_||(e.U_=function(e,t,n){const r=bv(e);return r.w_(),new rS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TS.bind(null,e),mo:PS.bind(null,e),f_:CS.bind(null,e),g_:NS.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await SS(e)):(await e.U_.stop(),e.O_.length>0&&(fv("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class DS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new _v,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new DS(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xv(wv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RS(e,t){if(pv("AsyncQueue",`${t}: ${e}`),Gv(e))return new xv(wv.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||$v.comparator(t.key,n.key):(e,t)=>$v.comparator(e.key,t.key),this.keyedMap=Ow(),this.sortedSet=new tb(this.comparator)}static emptySet(e){return new LS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof LS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new LS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.W_=new tb($v.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):yv():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class FS{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new FS(e,t,LS.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class $S{constructor(){this.queries=BS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=bv(e),r=n.queries;n.queries=BS(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new xv(wv.ABORTED,"Firestore shutting down"))}}function BS(){return new Sw((e=>vw(e)),yw)}async function VS(e,t){const n=bv(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new zS,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const e=RS(a,`Initialization of query '${bw(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&KS(n)}async function qS(e,t){const n=bv(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.j_.indexOf(t);e>=0&&(o.j_.splice(e,1),0===o.j_.length?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WS(e,t){const n=bv(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&KS(n)}function HS(e,t,n){const r=bv(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function KS(e){e.Y_.forEach((e=>{e.next()}))}var GS,YS;(YS=GS||(GS={})).ea="default",YS.Cache="cache";class QS{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new FS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=FS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==GS.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.key=e}}class JS{constructor(e){this.key=e}}class ZS{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Mw(),this.mutatedKeys=Mw(),this.Aa=xw(e),this.Ra=new LS(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new US,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=ww(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Aa(u,s)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yv()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],s=0===this.da.size&&this.current&&!r?1:0,l=s!==this.Ea;return this.Ea=s,0!==o.length||l?{snapshot:new FS(this.query,e.Ra,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new US,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Mw(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new JS(e))})),this.da.forEach((n=>{e.has(n)||t.push(new XS(n))})),t}ba(e){this.Ta=e.Ts,this.da=Mw();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return FS.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class ek{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class tk{constructor(e){this.key=e,this.va=!1}}class nk{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Sw((e=>vw(e)),yw),this.Ma=new Map,this.xa=new Set,this.Oa=new tb($v.comparator),this.Na=new Map,this.La=new S_,this.Ba={},this.ka=new Map,this.qa=g_.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function rk(e,t,n=!0){const r=kk(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await ok(r,t,n,!0),i}async function ik(e,t){const n=kk(e);await ok(n,t,!0,!1)}async function ok(e,t,n,r){const i=await function(e,t){const n=bv(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,Kv.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new d_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}(e.localStore,pw(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await async function(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await $_(e.localStore,t.query,!1).then((({documents:e})=>t.view.ma(e,i))));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return vk(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);const o=await $_(e.localStore,t,!0),a=new ZS(t,o.Ts),s=a.ma(o.documents),l=Ox.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);vk(e,n,c.wa);const u=new ek(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&cS(e.remoteStore,i),s}async function ak(e,t,n){const r=bv(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter((e=>!yw(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await z_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uS(r.remoteStore,i.targetId),gk(r,i.targetId)})).catch(Hv)):(gk(r,i.targetId),await z_(r.localStore,i.targetId,!0))}async function sk(e,t){const n=bv(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uS(n.remoteStore,r.targetId))}async function lk(e,t,n){const r=function(e){const t=bv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fk.bind(null,t),t}(e);try{const e=await function(e,t){const n=bv(e),r=Dv.now(),i=t.reduce(((e,t)=>e.add(t.key)),Mw());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Ew(),l=Mw();return n.cs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=ox(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new lx(e.key,t,Db(t.value.mapValue),Zw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Tw(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new tb(Iv)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await xk(r,e.changes),await SS(r.remoteStore)}catch(i){const e=RS(i,"Failed to persist write");n.reject(e)}}async function ck(e,t){const n=bv(e);try{const e=await U_(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(vv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?vv(r.va):e.removedDocuments.size>0&&(vv(r.va),r.va=!1))})),await xk(n,e,t)}catch(r){await Hv(r)}}function uk(e,t,n){const r=bv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=bv(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&KS(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dk(e,t,n){const r=bv(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let e=new tb($v.comparator);e=e.insert(o,Rb.newNoDocument(o,Rv.min()));const n=Mw().add(o),i=new jx(Rv.min(),new Map,new tb(Iv),e,n);await ck(r,i),r.Oa=r.Oa.remove(o),r.Na.delete(t),wk(r)}else await z_(r.localStore,t,!1).then((()=>gk(r,t,n))).catch(Hv)}async function hk(e,t){const n=bv(e),r=t.batch.batchId;try{const e=await function(e,t){const n=bv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Kv.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);vv(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Mw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);mk(n,r,null),pk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xk(n,e)}catch(i){await Hv(i)}}async function fk(e,t,n){const r=bv(e);try{const e=await function(e,t){const n=bv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(vv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);mk(r,t,n),pk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await xk(r,e)}catch(i){await Hv(i)}}function pk(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function mk(e,t,n){const r=bv(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function gk(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||yk(e,t)}))}function yk(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(uS(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),wk(e))}function vk(e,t,n){for(const r of n)r instanceof XS?(e.La.addReference(r.key,t),bk(e,r)):r instanceof JS?(fv("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||yk(e,r.key)):yv()}function bk(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(fv("SyncEngine","New document in limbo: "+n),e.xa.add(r),wk(e))}function wk(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new $v(Uv.fromString(t)),r=e.qa.next();e.Na.set(r,new tk(n)),e.Oa=e.Oa.insert(n,r),cS(e.remoteStore,new d_(pw(uw(n.path)),r,"TargetPurposeLimboResolution",Yv.oe))}}async function xk(e,t,n){const r=bv(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,s)=>{a.push(r.Ka(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=A_.Wi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=bv(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Kv.forEach(t,(t=>Kv.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Kv.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(r){if(!Gv(r))throw r;fv("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,o))}async function _k(e,t){const n=bv(e);if(!n.currentUser.isEqual(t)){fv("SyncEngine","User change. New user:",t.toKey());const e=await R_(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).ka.forEach((e=>{e.forEach((e=>{e.reject(new xv(wv.CANCELLED,i))}))})),r.ka.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await xk(n,e.hs)}var r,i}function Sk(e,t){const n=bv(e),r=n.Na.get(t);if(r&&r.va)return Mw().add(r.key);{let e=Mw();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function kk(e){const t=bv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ck.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dk.bind(null,t),t.Ca.d_=WS.bind(null,t.eventManager),t.Ca.$a=HS.bind(null,t.eventManager),t}class Ek{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Z_(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return function(e,t,n,r){return new D_(e,t,n,r)}(this.persistence,new M_,e.initialUser,this.serializer)}Ga(e){return new C_(P_.Zr,this.serializer)}Wa(e){return new V_}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ek.provider={build:()=>new Ek};class jk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>uk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_k.bind(null,this.syncEngine),await async function(e,t){const n=bv(e);t?(n.L_.delete(2),await sS(n)):t||(n.L_.add(2),await lS(n),n.q_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $S}createDatastore(e){const t=Z_(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new X_(r));var r;return function(e,t,n,r){return new iS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>uk(this.syncEngine,e,0),o=W_.D()?new W_:new q_,new aS(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new nk(e,t,n,r,i,o);return a&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=bv(e);fv("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await lS(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}jk.provider={build:()=>new jk};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ok{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pv("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=cv.UNAUTHENTICATED,this.clientId=Av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{fv("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(fv("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _v;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Bj){const n=RS(Bj,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ck(e,t){e.asyncQueue.verifyOperationInProgress(),fv("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await R_(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Nk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fv("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ck(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===wv.FAILED_PRECONDITION||n.code===wv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;mv("Error using user provided cache. Falling back to memory cache: "+i),await Ck(e,new Ek)}}else fv("FirestoreClient","Using default OfflineComponentProvider"),await Ck(e,new Ek);var n;return e._offlineComponents}(e);fv("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>AS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>AS(t.remoteStore,n))),e._onlineComponents=t}async function Pk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fv("FirestoreClient","Using user provided OnlineComponentProvider"),await Nk(e,e._uninitializedComponentsProvider._online)):(fv("FirestoreClient","Using default OnlineComponentProvider"),await Nk(e,new jk))),e._onlineComponents}async function Ak(e){const t=await Pk(e),n=t.eventManager;return n.onListen=rk.bind(null,t.syncEngine),n.onUnlisten=ak.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ik.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sk.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ik(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Mk=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(e,t,n){if(!n)throw new xv(wv.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Rk(e){if(!$v.isDocumentKey(e))throw new xv(wv.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Lk(e){if($v.isDocumentKey(e))throw new xv(wv.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Uk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":yv()}function Fk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xv(wv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uk(e);throw new xv(wv.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new xv(wv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xv(wv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new xv(wv.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ik(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new xv(wv.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new xv(wv.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new xv(wv.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class $k{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xv(wv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xv(wv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new kv;switch(e.type){case"firstParty":return new Tv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new xv(wv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mk.get(e);t&&(fv("ComponentProvider","Removing Datastore"),Mk.delete(e),t.terminate())}(this),Promise.resolve()}}function Bk(e,t,n,r={}){var i;const o=(e=Fk(e,$k))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&mv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=cv.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wh(JSON.stringify({alg:"none",type:"JWT"})),Wh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new xv(wv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new cv(o)}e._authCredentials=new Ev(new Sv(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Vk(this.firestore,e,this._query)}}class qk{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qk(this.firestore,e,this._key)}}class Wk extends Vk{constructor(e,t,n){super(e,t,uw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qk(this.firestore,null,new $v(e))}withConverter(e){return new Wk(this.firestore,e,this._path)}}function Hk(e,t,...n){if(e=hf(e),Dk("collection","path",t),e instanceof $k){const r=Uv.fromString(t,...n);return Lk(r),new Wk(e,null,r)}{if(!(e instanceof qk||e instanceof Wk))throw new xv(wv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Uv.fromString(t,...n));return Lk(r),new Wk(e.firestore,null,r)}}function Kk(e,t,...n){if(e=hf(e),1===arguments.length&&(t=Av.newId()),Dk("doc","path",t),e instanceof $k){const r=Uv.fromString(t,...n);return Rk(r),new qk(e,null,new $v(r))}{if(!(e instanceof qk||e instanceof Wk))throw new xv(wv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Uv.fromString(t,...n));return Rk(r),new qk(e.firestore,e instanceof Wk?e.converter:null,new $v(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new eS(this,"async_queue_retry"),this.Vu=()=>{const e=J_();e&&fv("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=J_();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=J_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new _v;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch($j){if(!Gv($j))throw $j;fv("AsyncQueue","Operation failed with retryable error: "+$j)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;throw pv("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=DS.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&yv()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Yk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Qk extends $k{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Gk,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gk(e),this._firestoreClient=void 0,await e}}}function Xk(e){if(e._terminated)throw new xv(wv.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),o=(a=e._databaseId,s=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,c=i,new gb(a,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Ik(c.experimentalLongPollingOptions),c.useFetchStreams));var a,s,l,c;e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Tk(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class Jk{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jk(lb.fromBase64String(e))}catch(t){throw new xv(wv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jk(lb.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xv(wv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zv(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xv(wv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xv(wv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Iv(this._lat,e._lat)||Iv(this._long,e._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=/^__.*__$/;class iE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new lx(e,this.data,this.fieldMask,t,this.fieldTransforms):new sx(e,this.data,t,this.fieldTransforms)}}class oE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new lx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yv()}}class sE{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _E(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(aE(this.Cu)&&rE.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Z_(e)}Qu(e,t,n,r=!1){return new sE({Cu:e,methodName:t,qu:n,path:zv.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cE(e){const t=e._freezeSettings(),n=Z_(e._databaseId);return new lE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uE(e,t,n,r,i,o={}){const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);vE("Data must be an object, but it was:",a,r);const s=gE(r,a);let l,c;if(o.merge)l=new ab(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=bE(t,r,n);if(!a.contains(i))throw new xv(wv.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);SE(e,i)||e.push(i)}l=new ab(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new iE(new Mb(s),l,c)}class dE extends eE{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dE}}class hE extends eE{_toFieldTransform(e){return new Xw(e.path,new Vw)}isEqual(e){return e instanceof hE}}function fE(e,t,n,r){const i=e.Qu(1,t,n);vE("Data must be an object, but it was:",i,r);const o=[],a=Mb.empty();Zv(r,((e,r)=>{const s=xE(t,e,n);r=hf(r);const l=i.Nu(s);if(r instanceof dE)o.push(s);else{const e=mE(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new ab(o);return new oE(a,s,i.fieldTransforms)}function pE(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[bE(t,r,n)],l=[i];if(o.length%2!=0)throw new xv(wv.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(bE(t,o[h])),l.push(o[h+1]);const c=[],u=Mb.empty();for(let h=s.length-1;h>=0;--h)if(!SE(c,s[h])){const e=s[h];let t=l[h];t=hf(t);const n=a.Nu(e);if(t instanceof dE)c.push(e);else{const r=mE(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ab(c);return new oE(u,d,a.fieldTransforms)}function mE(e,t){if(yE(e=hf(e)))return vE("Unsupported field value:",t,e),gE(e,t);if(e instanceof eE)return function(e,t){if(!aE(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=mE(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=hf(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Uw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Dv.fromDate(e);return{timestampValue:zx(t.serializer,n)}}if(e instanceof Dv){const n=new Dv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zx(t.serializer,n)}}if(e instanceof tE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jk)return{bytesValue:$x(t.serializer,e._byteString)};if(e instanceof qk){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:qx(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof nE)return n=t,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw n.Bu("VectorValues must only contain numeric values.");return Rw(n.serializer,e)}))}}}}};var n;throw t.Bu(`Unsupported field value: ${Uk(e)}`)}(e,t)}function gE(e,t){const n={};return eb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zv(e,((e,r)=>{const i=mE(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dv||e instanceof tE||e instanceof Jk||e instanceof qk||e instanceof eE||e instanceof nE)}function vE(e,t,n){if(!yE(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=Uk(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}var r}function bE(e,t,n){if((t=hf(t))instanceof Zk)return t._internalPath;if("string"==typeof t)return xE(e,t);throw _E("Field path arguments must be of type string or ",e,!1,void 0,n)}const wE=new RegExp("[~\\*/\\[\\]]");function xE(e,t,n){if(t.search(wE)>=0)throw _E(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Zk(...t.split("."))._internalPath}catch(Vj){throw _E(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function _E(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new xv(wv.INVALID_ARGUMENT,s+e+l)}function SE(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new EE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class EE extends kE{data(){return super.data()}}function jE(e,t){return"string"==typeof t?xE(e,t):t instanceof Zk?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new xv(wv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TE{}class CE extends TE{}function NE(e,t,...n){let r=[];t instanceof TE&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof IE)).length,n=e.filter((e=>e instanceof PE)).length;if(t>1||t>0&&n>0)throw new xv(wv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class PE extends CE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new PE(e,t,n)}_apply(e){const t=this._parse(e);return UE(e._query,t),new Vk(e.firestore,e.converter,mw(e._query,t))}_parse(e){const t=cE(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new xv(wv.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){LE(a,o);const t=[];for(const n of a)t.push(RE(r,e,n));s={arrayValue:{values:t}}}else s=RE(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||LE(a,o),s=function(e,t,n,r=!1){return mE(n,e.Qu(r?4:3,t))}(n,t,a,"in"===o||"not-in"===o);return Vb.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function AE(e,t,n){const r=t,i=jE("where",e);return PE._create(i,r,n)}class IE extends TE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new IE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:qb.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)UE(n,i),n=mw(n,i)}(e._query,t),new Vk(e.firestore,e.converter,mw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ME extends CE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ME(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new xv(wv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xv(wv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zb(t,n)}(e._query,this._field,this._direction);return new Vk(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new cw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function DE(e,t="asc"){const n=t,r=jE("orderBy",e);return ME._create(r,n)}function RE(e,t,n){if("string"==typeof(n=hf(n))){if(""===n)throw new xv(wv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hw(t)&&-1!==n.indexOf("/"))throw new xv(wv.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Uv.fromString(n));if(!$v.isDocumentKey(r))throw new xv(wv.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ob(e,new $v(r))}if(n instanceof qk)return Ob(e,n._key);throw new xv(wv.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uk(n)}.`)}function LE(e,t){if(!Array.isArray(e)||0===e.length)throw new xv(wv.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function UE(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new xv(wv.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new xv(wv.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class FE{convertValue(e,t="none"){switch(bb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return db(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yv()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Zv(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>db(e.doubleValue)));return new nE(i)}convertGeoPoint(e){return new tE(db(e.latitude),db(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=pb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mb(e));default:return null}}convertTimestamp(e){const t=ub(e);return new Dv(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Uv.fromString(e);vv(u_(n));const r=new yb(n.get(1),n.get(3)),i=new $v(n.popFirst(5));return r.isEqual(t)||pv(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class $E{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BE extends kE{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new VE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(jE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class VE extends BE{data(e={}){return super.data(e)}}class qE{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $E(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new VE(this._firestore,this._userDataWriter,n.key,n,new $E(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xv(wv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new VE(e._firestore,e._userDataWriter,n.doc.key,n.doc,new $E(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new VE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $E(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:WE(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yv()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(e){e=Fk(e,qk);const t=Fk(e.firestore,Qk);return function(e,t,n={}){const r=new _v;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ok({next:s=>{o.Za(),t.enqueueAndForget((()=>qS(e,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new xv(wv.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new xv(wv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new QS(uw(n.path),o,{includeMetadataChanges:!0,_a:!0});return VS(e,a)}(await Ak(e),e.asyncQueue,t,n,r))),r.promise}(Xk(t),e._key).then((n=>ej(t,e,n)))}class KE extends FE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qk(this.firestore,null,t)}}function GE(e){e=Fk(e,Vk);const t=Fk(e.firestore,Qk),n=Xk(t),r=new KE(t);return OE(e._query),function(e,t,n={}){const r=new _v;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ok({next:n=>{o.Za(),t.enqueueAndForget((()=>qS(e,a))),n.fromCache&&"server"===r.source?i.reject(new xv(wv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new QS(n,o,{includeMetadataChanges:!0,_a:!0});return VS(e,a)}(await Ak(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new qE(t,r,e,n)))}function YE(e,t,n,...r){e=Fk(e,qk);const i=Fk(e.firestore,Qk),o=cE(i);let a;return a="string"==typeof(t=hf(t))||t instanceof Zk?pE(o,"updateDoc",e._key,t,n,r):fE(o,"updateDoc",e._key,t),ZE(i,[a.toMutation(e._key,Zw.exists(!0))])}function QE(e){return ZE(Fk(e.firestore,Qk),[new hx(e._key,Zw.none())])}function XE(e,t){const n=Fk(e.firestore,Qk),r=Kk(e),i=zE(e.converter,t);return ZE(n,[uE(cE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zw.exists(!1))]).then((()=>r))}function JE(e,...t){var n,r,i;e=hf(e);let o={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[a]||Yk(t[a])||(o=t[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Yk(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,c,u;if(e instanceof qk)c=Fk(e.firestore,Qk),u=uw(e._key.path),l={next:n=>{t[a]&&t[a](ej(c,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Fk(e,Vk);c=Fk(n.firestore,Qk),u=n._query;const r=new KE(c);l={next:e=>{t[a]&&t[a](new qE(c,r,n,e))},error:t[a+1],complete:t[a+2]},OE(e._query)}return function(e,t,n,r){const i=new Ok(r),o=new QS(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>VS(await Ak(e),o))),()=>{i.Za(),e.asyncQueue.enqueueAndForget((async()=>qS(await Ak(e),o)))}}(Xk(c),u,s,l)}function ZE(e,t){return function(e,t){const n=new _v;return e.asyncQueue.enqueueAndForget((async()=>lk(await function(e){return Pk(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(Xk(e),t)}function ej(e,t,n){const r=n.docs.get(t._key),i=new KE(e);return new BE(e,i,t._key,r,new $E(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cE(e)}set(e,t,n){this._verifyNotCommitted();const r=nj(e,this._firestore),i=zE(r.converter,t,n),o=uE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Zw.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=nj(e,this._firestore);let o;return o="string"==typeof(t=hf(t))||t instanceof Zk?pE(this._dataReader,"WriteBatch.update",i._key,t,n,r):fE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Zw.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nj(e,this._firestore);return this._mutations=this._mutations.concat(new hx(t._key,Zw.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xv(wv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nj(e,t){if((e=hf(e)).firestore!==t)throw new xv(wv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function rj(){return new hE("serverTimestamp")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(e){return Xk(e=Fk(e,Qk)),new tj(e,(t=>ZE(e,t)))}!function(e,t=!0){uv=Op,_p(new ff("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Qk(new jv(e.getProvider("auth-internal")),new Nv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xv(wv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yb(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),Np(lv,"4.7.3",e),Np(lv,"4.7.3","esm2017")}();const oj=Tp({apiKey:"AIzaSyBYSW8hld83rMuUp2QGrbNzghVtZn4C-4U",authDomain:"novopixel-21feb.firebaseapp.com",projectId:"novopixel-21feb",storageBucket:"novopixel-21feb.firebasestorage.app",messagingSenderId:"54425792702",appId:"1:54425792702:web:96091c37e1294f8206eeef"}),aj=Ky(oj),sj=function(e){const t="string"==typeof e?e:"(default)",n=Sp("object"==typeof e?e:Cp(),"firestore").getImmediate({identifier:t});if(!n._initialized){const e=(e=>{const t=Yh(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Bk(n,...e)}return n}(oj),lj=W.createContext({});function cj(){return W.useContext(lj)}function uj({children:e}){const[t,n]=W.useState(null),[r,i]=W.useState(!1),[o,a]=W.useState(!0),[s,l]=W.useState(localStorage.getItem("lastRoute")||""),c=oh(),u=async e=>{if(console.log("Checking admin status for:",e.email),"felipebdias98@gmail.com"===e.email)return console.log("Main admin email detected"),!0;const t=NE(Hk(sj,"users"),AE("uid","==",e.uid)),n=await GE(t);if(!n.empty){const e=n.docs[0].data();return console.log("User data from Firestore:",e),"admin"===e.role}return console.log("No user data found in Firestore"),!1};W.useEffect((()=>{console.log("Setting up auth listener"),Lg(aj,$g).then((()=>{var e,t,r;return e=async e=>{if(console.log("Auth state changed. User:",null==e?void 0:e.email),e){n(e);const t=await u(e);console.log("Admin status determined:",t),i(t),localStorage.setItem("authUser",JSON.stringify(e)),localStorage.setItem("isAdmin",JSON.stringify(t));const r=localStorage.getItem("lastRoute");c(r||(t?"/admin":"/user"))}else{const e=localStorage.getItem("authUser"),r=localStorage.getItem("isAdmin");if(e){const o=JSON.parse(e);n(o),i("true"===r);try{await Lg(aj,$g),await aj.signInWithCustomToken(o.stsTokenManager.accessToken)}catch(t){console.log("Failed to reauth:",t),localStorage.removeItem("authUser"),localStorage.removeItem("isAdmin"),localStorage.removeItem("lastRoute"),n(null),i(!1),c("/login")}}else console.log("No user logged in"),n(null),i(!1),localStorage.removeItem("authUser"),localStorage.removeItem("isAdmin"),localStorage.removeItem("lastRoute"),"/login"!==window.location.pathname&&c("/login")}a(!1)},hf(aj).onAuthStateChanged(e,t,r)})).catch((e=>{console.error("Error setting persistence:",e)}))}),[c]);const d={user:t,isAdmin:r,loading:o,signIn:async(e,t)=>{try{console.log("Attempting sign in for:",e);const r=await Ig(aj,e,t);n(r.user);const o=await u(r.user);return console.log("Sign in successful. Admin status:",o),i(o),localStorage.setItem("authUser",JSON.stringify(r.user)),localStorage.setItem("isAdmin",JSON.stringify(o)),o}catch(r){switch(console.error("Sign in error:",r),n(null),i(!1),r.code){case"auth/invalid-email":throw new Error("Email inválido");case"auth/user-disabled":throw new Error("Esta conta foi desativada");case"auth/user-not-found":throw new Error("Usuário não encontrado");case"auth/wrong-password":throw new Error("Senha incorreta");case"auth/too-many-requests":throw new Error("Muitas tentativas de login. Tente novamente mais tarde");case"auth/network-request-failed":throw new Error("Erro de conexão. Verifique sua internet");default:throw new Error("Erro ao fazer login. Tente novamente")}}},signOut:async()=>{try{console.log("Attempting to sign out"),await(e=aj,hf(e).signOut()),console.log("Firebase sign out successful"),n(null),i(!1),localStorage.removeItem("authUser"),localStorage.removeItem("isAdmin"),localStorage.removeItem("lastRoute"),console.log("Local state and storage cleared"),c("/login"),console.log("Redirected to login page")}catch(t){throw console.error("Sign out error:",t),new Error("Erro ao fazer logout. Tente novamente.")}var e},lastRoute:s,setLastRoute:e=>{localStorage.setItem("lastRoute",e),l(e)}};return te.jsx(lj.Provider,{value:d,children:!o&&e})}const dj=W.createContext(void 0);function hj({children:e}){const[t,n]=W.useState(0),[r,i]=W.useState([]),[o,a]=W.useState(0),[s,l]=W.useState([]),[c,u]=W.useState(0),{isAdmin:d,user:h}=cj();return W.useEffect((()=>{if(!d||!h)return;const e=JE(NE(Hk(sj,"messages"),AE("isAdmin","==",!1),AE("read","==",!1),DE("createdAt","desc")),(e=>{n(e.size);const t=new Map;e.docs.forEach((e=>{const n=e.data(),r=n.chatId;if(t.has(r)){const e=t.get(r);e.count++,t.set(r,e)}else t.set(r,{senderName:n.senderName||"Usuário",count:1,chatId:r})}));const r=Array.from(t.values());i(r)}));return()=>e()}),[d,h]),W.useEffect((()=>{if(d||!h)return;const e=JE(NE(Hk(sj,"messages"),AE("chatId","==",h.uid),AE("isAdmin","==",!0),AE("read","==",!1)),(e=>{console.log("User unread messages:",e.size),u(e.size)}));return()=>e()}),[d,h]),W.useEffect((()=>{if(!d||!h)return;const e=JE(NE(Hk(sj,"requests"),AE("read","==",!1),DE("createdAt","desc")),(e=>{a(e.size)}));return()=>e()}),[d,h]),te.jsx(dj.Provider,{value:{unreadMessages:t,unreadByUser:r,unreadRequests:o,unreadRequestsByUser:s,unreadAdminMessages:c},children:e})}function fj(){const e=W.useContext(dj);if(void 0===e)throw new Error("useNotification must be used within a NotificationProvider");return e}const pj=W.createContext(void 0);function mj({children:e}){const[t,n]=W.useState((()=>{const e=localStorage.getItem("theme");return"dark"===e||null===e&&window.matchMedia("(prefers-color-scheme: dark)").matches}));W.useEffect((()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))}),[t]);return te.jsx(pj.Provider,{value:{isDarkMode:t,toggleTheme:()=>{n((e=>!e))}},children:e})}let gj,yj,vj,bj={data:""},wj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xj=/\/\*[^]*?\*\/|  +/g,_j=/\n+/g,Sj=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?Sj(a,o):o+"{"+Sj(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=Sj(a,t?t.replace(/([^,])+/g,(e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Sj.p?Sj.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},kj={},Ej=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Ej(e[n]);return t}return e};function jj(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,r,i)=>{let o=Ej(e),a=kj[o]||(kj[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!kj[a]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=wj.exec(e.replace(xj,""));)t[4]?r.shift():t[3]?(n=t[3].replace(_j," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(_j," ").trim();return r[0]})(e);kj[a]=Sj(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let s=n&&kj.g?kj.g:null;return n&&(kj.g=kj[a]),l=kj[a],c=t,u=r,(d=s)?c.data=c.data.replace(d,l):-1===c.data.indexOf(l)&&(c.data=u?l+c.data:c.data+l),a;var l,c,u,d})(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":Sj(e,""):!1===e?"":e}return e+r+(null==o?"":o)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,(r=t.target,"object"==typeof window?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||bj),t.g,t.o,t.k);var r}jj.bind({g:1});let Oj=jj.bind({k:1});function Tj(e,t){let n=this||{};return function(){let t=arguments;return function r(i,o){let a=Object.assign({},i),s=a.className||r.className;n.p=Object.assign({theme:yj&&yj()},a),n.o=/ *go\d+/.test(s),a.className=jj.apply(n,t)+(s?" "+s:"");let l=e;return e[0]&&(l=a.as||e,delete a.as),vj&&l[0]&&vj(a),gj(l,a)}}}var Cj=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Nj=(()=>{let e=0;return()=>(++e).toString()})(),Pj=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Aj=new Map,Ij=e=>{if(Aj.has(e))return;let t=setTimeout((()=>{Aj.delete(e),Lj({type:4,toastId:e})}),1e3);Aj.set(e,t)},Mj=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=Aj.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?Mj(e,{type:1,toast:n}):Mj(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Ij(r):e.toasts.forEach((e=>{Ij(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},Dj=[],Rj={toasts:[],pausedAt:void 0},Lj=e=>{Rj=Mj(Rj,e),Dj.forEach((e=>{e(Rj)}))},Uj={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fj=e=>(t,n)=>{let r=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||Nj()}))(t,e,n);return Lj({type:2,toast:r}),r.id},zj=(e,t)=>Fj("blank")(e,t);zj.error=Fj("error"),zj.success=Fj("success"),zj.loading=Fj("loading"),zj.custom=Fj("custom"),zj.dismiss=e=>{Lj({type:3,toastId:e})},zj.remove=e=>Lj({type:4,toastId:e}),zj.promise=(e,t,n)=>{let r=zj.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(zj.success(Cj(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{zj.error(Cj(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var $j,Bj,Vj,qj,Wj=(e,t)=>{Lj({type:1,toast:{id:e,height:t}})},Hj=()=>{Lj({type:5,time:Date.now()})},Kj=e=>{let{toasts:t,pausedAt:n}=((e={})=>{let[t,n]=W.useState(Rj);W.useEffect((()=>(Dj.push(n),()=>{let e=Dj.indexOf(n);e>-1&&Dj.splice(e,1)})),[t]);let r=t.toasts.map((t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||Uj[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}}));return{...t,toasts:r}})(e);W.useEffect((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>zj.dismiss(t.id)),n);t.visible&&zj.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=W.useCallback((()=>{n&&Lj({type:6,time:Date.now()})}),[n]),i=W.useCallback(((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=n||{},a=t.filter((t=>(t.position||o)===(e.position||o)&&t.height)),s=a.findIndex((t=>t.id===e.id)),l=a.filter(((e,t)=>t<s&&e.visible)).length;return a.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[t]);return{toasts:t,handlers:{updateHeight:Wj,startPause:Hj,endPause:r,calculateOffset:i}}},Gj=Oj`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Yj=Oj`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qj=Oj`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Xj=Tj("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Gj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Yj} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Qj} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Jj=Oj`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Zj=Tj("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Jj} 1s linear infinite;
`,eO=Oj`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,tO=Oj`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,nO=Tj("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${tO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,rO=Tj("div")`
  position: absolute;
`,iO=Tj("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,oO=Oj`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aO=Tj("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${oO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sO=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return void 0!==t?"string"==typeof t?W.createElement(aO,null,t):t:"blank"===n?null:W.createElement(iO,null,W.createElement(Zj,{...r}),"loading"!==n&&W.createElement(rO,null,"error"===n?W.createElement(Xj,{...r}):W.createElement(nO,{...r})))},lO=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,cO=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,uO=Tj("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,dO=Tj("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hO=W.memo((({toast:e,position:t,style:n,children:r})=>{let i=e.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=Pj()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[lO(n),cO(n)];return{animation:t?`${Oj(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Oj(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},o=W.createElement(sO,{toast:e}),a=W.createElement(dO,{...e.ariaProps},Cj(e.message,e));return W.createElement(uO,{className:e.className,style:{...i,...n,...e.style}},"function"==typeof r?r({icon:o,message:a}):W.createElement(W.Fragment,null,o,a))}));$j=W.createElement,Sj.p=Bj,gj=$j,yj=Vj,vj=qj;var fO=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=W.useCallback((t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;r(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}}),[e,r]);return W.createElement("div",{ref:o,className:t,style:n},i)},pO=jj`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mO=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:a})=>{let{toasts:s,handlers:l}=Kj(n);return W.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map((n=>{let o=n.position||t,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Pj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(o,l.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t}));return W.createElement(fO,{id:n.id,key:n.id,onHeightUpdate:l.updateHeight,className:n.visible?pO:"",style:a},"custom"===n.type?Cj(n.message,n):i?i(n):W.createElement(hO,{toast:n,position:o}))})))},gO=zj;const yO=W.createContext(void 0);function vO({children:e}){const[t,n]=W.useState(null),[r,i]=W.useState(!1),[o,a]=W.useState(!1);return W.useEffect((()=>{const e=()=>{const e=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");i(e),console.log("[PWA] Is Standalone:",e)},t=window.matchMedia("(display-mode: standalone)");t.addListener(e);const r=e=>{console.log("[PWA] Before Install Prompt Event triggered"),e.preventDefault(),n(e),a(!0)};return e(),window.addEventListener("beforeinstallprompt",r),window.addEventListener("appinstalled",(()=>{console.log("[PWA] App installed"),i(!0),n(null)})),(async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});console.log("[PWA] Service Worker registered:",e),e.addEventListener("updatefound",(()=>{const t=e.installing;t&&t.addEventListener("statechange",(()=>{"installed"===t.state&&navigator.serviceWorker.controller&&zj.success("Nova versão disponível! Recarregue a página.",{duration:5e3,icon:"🔄"})}))}))}catch(e){console.error("[PWA] Service Worker registration failed:",e)}})(),()=>{t.removeListener(e),window.removeEventListener("beforeinstallprompt",r)}}),[]),te.jsx(yO.Provider,{value:{deferredPrompt:t,setDeferredPrompt:n,isStandalone:r,isInstallable:o},children:e})}
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var bO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=(e,t)=>{const n=W.forwardRef((({color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:s,...l},c)=>{return W.createElement("svg",{ref:c,...bO,width:r,height:r,stroke:n,strokeWidth:o?24*Number(i)/Number(r):i,className:["lucide",`lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,a].join(" "),...l},[...t.map((([e,t])=>W.createElement(e,t))),...Array.isArray(s)?s:[s]]);var u}));return n.displayName=`${e}`,n},xO=wO("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),_O=wO("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),SO=wO("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),kO=wO("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),EO=wO("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),jO=wO("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),OO=wO("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),TO=wO("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),CO=wO("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),NO=wO("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),PO=wO("FolderGit2",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5",key:"1w6njk"}],["circle",{cx:"13",cy:"12",r:"2",key:"1j92g6"}],["path",{d:"M18 19c-2.8 0-5-2.2-5-5v8",key:"pkpw2h"}],["circle",{cx:"20",cy:"19",r:"2",key:"1obnsp"}]]),AO=wO("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),IO=wO("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),MO=wO("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),DO=wO("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),RO=wO("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),LO=wO("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),UO=wO("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),FO=wO("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),zO=wO("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),$O=wO("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),BO=wO("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),VO=wO("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qO=wO("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),WO=wO("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),HO=wO("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),KO=wO("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),GO=wO("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),YO=wO("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),QO=wO("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),XO=wO("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),JO=wO("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ZO(){const[e,t]=W.useState(""),[n,r]=W.useState(""),[i,o]=W.useState(!1),[a,s]=W.useState(!1),{signIn:l}=cj(),c=oh();return te.jsxs(te.Fragment,{children:[te.jsx("style",{children:"\n  @keyframes gradientBG {\n    0% {\n      background-position: 0% 50%;\n    }\n    50% {\n      background-position: 100% 50%;\n    }\n    100% {\n      background-position: 0% 50%;\n    }\n  }\n"}),te.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[te.jsx("div",{className:"w-full md:w-1/3 bg-[#1a1a2e] p-6 md:p-8 flex flex-col justify-center order-2 md:order-1",children:te.jsxs("div",{className:"max-w-md w-full mx-auto",children:[te.jsxs("div",{className:"flex flex-col items-center mb-8",children:[te.jsx("div",{className:"w-32 h-32 flex items-center justify-center mb-4",children:te.jsx("img",{src:"/Logo.png",alt:"Logo",className:"w-full h-full object-contain"})}),te.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pixel Art"})]}),te.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Login"}),te.jsx("p",{className:"text-gray-300 mb-8",children:"Bem-vindo de volta! Por favor, faça login na sua conta."}),te.jsxs("form",{onSubmit:async t=>{t.preventDefault(),o(!0);try{const t=await l(e,n);!localStorage.getItem("hasLoggedInBefore")&&(localStorage.setItem("hasLoggedInBefore","true"),zj.success("Instale nosso app para uma melhor experiência!",{duration:5e3,icon:"📱"}));const r=localStorage.getItem("lastRoute");c(r||(t?"/admin":"/user"),{replace:!0})}catch(r){console.error("Error signing in:",r),zj.error(r.message)}finally{o(!1)}},className:"space-y-6",children:[te.jsxs("div",{children:[te.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-200",children:"Email"}),te.jsx("div",{className:"mt-1",children:te.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm bg-[#16162a] text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",placeholder:"seu@email.com"})})]}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200",children:"Senha"}),te.jsx("div",{className:"mt-1",children:te.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:e=>r(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm bg-[#16162a] text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",placeholder:"********"})})]}),te.jsx("div",{className:"text-right",children:te.jsx("button",{type:"button",onClick:()=>s(!0),className:"text-[#3b82f6] text-sm hover:text-[#60a5fa] hover:underline",children:"Esqueceu sua senha?"})}),te.jsx("button",{type:"submit",disabled:i,className:"w-full bg-[#2563eb] text-white p-3 rounded-lg hover:bg-[#3b82f6] transition-colors flex items-center justify-center",children:i?te.jsx(RO,{className:"h-5 w-5 animate-spin"}):"Entrar"})]})]})}),te.jsxs("div",{className:"w-full md:w-2/3 p-8 flex flex-col justify-center items-center order-1 md:order-2 text-white relative overflow-hidden",style:{background:"linear-gradient(-45deg, #0f2b63, #1e3c72, #2563eb, #3b82f6)",backgroundSize:"400% 400%",animation:"gradientBG 15s ease infinite"},children:[te.jsxs("div",{className:"relative z-10",children:[te.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 drop-shadow-lg",children:"Bem Vindo"}),te.jsx("p",{className:"text-xl md:text-2xl drop-shadow-lg",children:"Gerencie seus pedidos de forma simples e eficiente."})]}),te.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-black/30",style:{mixBlendMode:"multiply"}}),te.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 25px 25px, rgba(255,255,255,0.2) 2%, transparent 0%)",backgroundSize:"50px 50px"}})]}),a&&te.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:te.jsxs("div",{className:"bg-[#1a1a2e] rounded-lg p-6 max-w-md w-full mx-4",children:[te.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Recuperação de Senha"}),te.jsxs("div",{className:"space-y-4",children:[te.jsx("p",{className:"text-gray-300",children:"Para recuperar sua senha, por favor, entre em contato com o administrador via WhatsApp. O administrador verificará sua identidade e ajudará a redefinir sua senha."}),te.jsxs("button",{onClick:()=>{window.open("https://wa.me/5514981181568","_blank")},className:"w-full bg-[#2563eb] text-white p-3 rounded hover:bg-[#3b82f6] transition-colors flex items-center justify-center gap-2",children:[te.jsx(zO,{className:"h-5 w-5"}),"Contatar via WhatsApp"]}),te.jsx("div",{className:"flex justify-end",children:te.jsx("button",{onClick:()=>s(!1),className:"text-gray-300 hover:text-white",children:"Fechar"})})]})]})})]})]})}function eT(){const{user:e,signOut:t}=cj(),{unreadAdminMessages:n}=fj(),[r,i]=W.useState(!1),o=[{name:"Início",icon:AO,path:"/user"},{name:"Nova Solicitação",icon:IO,path:"/user/new-request"},{name:"Minhas Solicitações",icon:NO,path:"/user/requests"},{name:"Minhas Artes",icon:IO,path:"/user/arts"},{name:"Chat",icon:zO,path:"/user/chat",badge:n>0?n:void 0},{name:"Configurações",icon:HO,path:"/user/settings"}];return te.jsxs(te.Fragment,{children:[te.jsx("button",{onClick:()=>{i(!r)},className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-[#16162a] text-white rounded-lg shadow-lg hover:bg-[#1a1a2e] border border-gray-700",children:r?te.jsx(JO,{className:"w-6 h-6"}):te.jsx(FO,{className:"w-6 h-6"})}),te.jsx("div",{onClick:()=>i(!1),className:`\n          fixed inset-0 bg-black bg-opacity-50\n          md:hidden\n          transition-opacity duration-300\n          ${r?"opacity-100 visible":"opacity-0 invisible"}\n          z-30\n        `}),te.jsxs("aside",{className:`\n        fixed md:static\n        w-64 h-screen\n        bg-[#16162a] border-r border-gray-700\n        flex flex-col\n        transition-transform duration-300 ease-in-out\n        ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}\n        z-40\n      `,children:[te.jsxs("div",{className:"p-6 border-b border-gray-700",children:[te.jsx("h1",{className:"text-xl font-bold text-white",children:"Pixel Art"}),te.jsx("p",{className:"text-sm text-gray-400",children:null==e?void 0:e.email})]}),te.jsx("nav",{className:"mt-6 flex-1",children:o.map((e=>te.jsxs(Dh,{to:e.path,onClick:()=>i(!1),className:({isActive:e})=>"flex items-center gap-3 px-6 py-3 text-gray-300 hover:bg-[#2563eb]/80 hover:text-white transition-colors "+(e?"bg-[#2563eb] text-white":""),children:[te.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[te.jsx(e.icon,{className:"w-5 h-5"}),te.jsx("span",{children:e.name})]}),e.badge&&te.jsx("span",{className:"bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full",children:e.badge})]},e.path)))}),te.jsx("div",{className:"p-4 border-t border-gray-700",children:te.jsxs("button",{onClick:async()=>{window.confirm("Tem certeza que deseja sair?")&&await t()},className:"flex items-center gap-3 px-6 py-3 text-gray-300 hover:bg-[#2563eb]/80 hover:text-white transition-colors w-full rounded-lg",children:[te.jsx(UO,{className:"w-5 h-5"}),te.jsx("span",{children:"Sair"})]})})]})]})}function tT(){const{user:e}=cj(),t=oh();return W.useEffect((()=>{e||t("/login")}),[e,t]),e?te.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[te.jsx(eT,{}),te.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-x-hidden mt-16 md:mt-0",children:te.jsx(bh,{})})]}):null}function nT(){const[e,t]=W.useState(!1),n=oh(),r=rh(),{signOut:i}=cj(),{unreadMessages:o,unreadRequests:a}=fj(),s=[{path:"/admin",name:"Dashboard",icon:te.jsx(DO,{className:"w-6 h-6"})},{path:"/admin/users",name:"Usuários",icon:te.jsx(XO,{className:"w-6 h-6"})},{path:"/admin/upload-art",name:"Upload de Artes",icon:te.jsx(GO,{className:"w-6 h-6"})},{path:"/admin/messages",name:"Mensagens",icon:te.jsx($O,{className:"w-6 h-6"}),badge:o>0?o:void 0},{path:"/admin/requests",name:"Solicitações",icon:te.jsx(jO,{className:"w-6 h-6"}),badge:a>0?a:void 0},{path:"/admin/settings",name:"Configurações",icon:te.jsx(HO,{className:"w-6 h-6"})}];return te.jsxs(te.Fragment,{children:[te.jsx("button",{onClick:()=>t(!e),className:"fixed top-4 left-4 z-50 md:hidden text-white hover:text-[#2563eb] transition-colors","aria-label":e?"Fechar menu":"Abrir menu",children:e?te.jsx(JO,{className:"h-6 w-6"}):te.jsx(FO,{className:"h-6 w-6"})}),e&&te.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>t(!1),"aria-hidden":"true"}),te.jsx("aside",{className:(e?"translate-x-0":"-translate-x-full")+" fixed md:translate-x-0 w-64 h-full bg-[#16162a] border-r border-gray-700 z-50 transition-transform duration-200 ease-in-out overflow-hidden",children:te.jsxs("div",{className:"flex flex-col h-full",children:[te.jsx("div",{className:"flex items-center justify-center h-16 border-b border-gray-700",children:te.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Panel"})}),te.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:s.map((e=>te.jsxs("button",{onClick:()=>{n(e.path),t(!1)},className:(r.pathname===e.path?"bg-[#2563eb] text-white":"text-gray-300 hover:bg-[#2563eb]/80 hover:text-white")+" flex items-center justify-between w-full px-4 py-2 text-sm font-medium rounded-lg transition-colors",children:[te.jsxs("div",{className:"flex items-center gap-3",children:[e.icon,te.jsx("span",{children:e.name})]}),e.badge&&te.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:e.badge})]},e.path)))}),te.jsx("div",{className:"p-4 border-t border-gray-700",children:te.jsxs("button",{onClick:async()=>{try{await i(),zj.success("Logout realizado com sucesso!"),n("/login")}catch(e){console.error("Erro no logout:",e),zj.error("Erro ao fazer logout. Tente novamente.")}},className:"flex items-center gap-3 w-full px-4 py-2 text-sm font-medium text-gray-300 hover:bg-red-500/10 hover:text-red-500 rounded-lg transition-colors",children:[te.jsx(UO,{className:"w-6 h-6"}),te.jsx("span",{children:"Logout"})]})})]})})]})}function rT(){const{user:e,isAdmin:t}=cj(),n=oh();return W.useEffect((()=>{e&&t||n("/login")}),[e,t,n]),t?te.jsxs("div",{className:"flex min-h-screen bg-[#1a1a2e]",children:[te.jsx(nT,{}),te.jsx("div",{className:"flex-1 md:ml-64 transition-all duration-200",children:te.jsx("main",{className:"p-4 md:p-6",children:te.jsx(bh,{})})})]}):null}function iT(){var e;const{user:t}=cj(),[n,r]=W.useState([]),[i,o]=W.useState(!0),[a,s]=W.useState(!1),[l,c]=W.useState(null),[u,d]=W.useState(null),[h,f]=W.useState({total:0,completed:0,inProgress:0,pending:0}),[p,m]=W.useState([]);W.useEffect((()=>{(async()=>{if(t)try{const e=await HE(Kk(sj,"users",t.uid));e.exists()&&d(e.data());const n=NE(Hk(sj,"requests"),AE("userId","==",t.uid)),i=(await GE(n)).docs.map((e=>({id:e.id,...e.data()}))).sort(((e,t)=>{var n,r,i,o;return(null==(r=null==(n=t.createdAt)?void 0:n.toDate)?void 0:r.call(n))-(null==(o=null==(i=e.createdAt)?void 0:i.toDate)?void 0:o.call(i))||0}));r(i);const o=i.filter((e=>"completed"===e.status)).length,a=i.filter((e=>"in-progress"===e.status)).length,s=i.filter((e=>"pending"===e.status)).length;f({total:i.length,completed:o,inProgress:a,pending:s}),m(i.slice(0,5))}catch(e){console.error("Error fetching data:",e),zj.error("Erro ao carregar dados")}finally{o(!1)}})()}),[t]);const g=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},y=e=>{switch(e){case"completed":return"Concluído";case"in-progress":return"Em Andamento";case"pending":return"Pendente";default:return e}},v=e=>{switch(e){case"social_media":return"Arte para Redes Sociais";case"logo":return"Identidade Visual e Logo";case"video_edit":return"Edição de Vídeo";case"video_ads":return"Vídeos para Anúncios";default:return e}};return i?te.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:te.jsx(RO,{className:"w-8 h-8 text-primary animate-spin"})}):te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),te.jsxs("div",{className:"flex gap-3",children:[(null==u?void 0:u.driveUrl)&&te.jsxs("a",{href:u.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all\n                bg-[#2563eb] hover:bg-[#3b82f6]\n                text-white font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[te.jsx(PO,{className:"w-4 h-4"}),te.jsx("span",{children:"Acessar Google Drive"})]}),!1!==(null==u?void 0:u.isActive)?te.jsx(Mh,{to:"/user/new-request",className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all\n                bg-[#2563eb] hover:bg-[#3b82f6]\n                text-white font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Nova Solicitação"}):te.jsxs("div",{className:"relative group",children:[te.jsx("button",{disabled:!0,className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg\n                  bg-[#2563eb] text-white opacity-50 cursor-not-allowed",children:"Nova Solicitação"}),te.jsx("div",{className:"absolute bottom-full mb-2 right-0 w-64 bg-[#1a1a2e] text-sm p-2 rounded-lg shadow-lg hidden group-hover:block border border-gray-700",children:te.jsxs("p",{className:"text-red-400",children:["Sua conta está desativada. Motivo: ",u.deactivationReason]})})]})]})]}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[te.jsx(IO,{className:"w-5 h-5 text-[#2563eb]"}),te.jsx("span",{className:"text-gray-400",children:"Total de Solicitações"})]}),te.jsx("p",{className:"text-2xl font-bold text-white",children:h.total})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[te.jsx(kO,{className:"w-5 h-5 text-green-500"}),te.jsx("span",{className:"text-gray-400",children:"Concluídas"})]}),te.jsx("p",{className:"text-2xl font-bold text-green-500",children:h.completed})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[te.jsx(OO,{className:"w-5 h-5 text-yellow-500"}),te.jsx("span",{className:"text-gray-400",children:"Em Andamento"})]}),te.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:h.inProgress})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[te.jsx(xO,{className:"w-5 h-5 text-blue-500"}),te.jsx("span",{className:"text-gray-400",children:"Pendentes"})]}),te.jsx("p",{className:"text-2xl font-bold text-blue-500",children:h.pending})]})]}),te.jsxs("div",{className:"bg-[#1a1a2e] rounded-lg p-6",children:[te.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Atividade Recente"}),te.jsx("div",{className:"space-y-4",children:p.map((e=>{var t;return te.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#16162a] rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center gap-4",children:[te.jsx("div",{className:"w-10 h-10 rounded-full bg-[#2563eb]/10 flex items-center justify-center",children:te.jsx(IO,{className:"w-5 h-5 text-[#2563eb]"})}),te.jsxs("div",{children:[te.jsx("h3",{className:"font-medium text-white",children:v(e.type)}),te.jsx("p",{className:"text-sm text-gray-400",children:new Date(null==(t=e.createdAt)?void 0:t.toDate()).toLocaleDateString()})]})]}),te.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${g(e.status)}`,children:y(e.status)})]},e.id)}))})]}),te.jsxs("div",{className:"bg-[#1a1a2e] rounded-lg overflow-hidden",children:[te.jsx("div",{className:"p-4 border-b border-gray-700",children:te.jsx("h2",{className:"text-xl font-bold text-white",children:"Todas as Solicitações"})}),te.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[te.jsx("thead",{className:"bg-[#16162a]",children:te.jsxs("tr",{children:[te.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Tipo"}),te.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),te.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Data"}),te.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Prazo"}),te.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Ações"})]})}),te.jsx("tbody",{className:"divide-y divide-gray-700",children:n.map((e=>{var t;return te.jsxs("tr",{children:[te.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:v(e.type)}),te.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g(e.status)}`,children:y(e.status)})}),te.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:new Date(null==(t=e.createdAt)?void 0:t.toDate()).toLocaleDateString()}),te.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:e.deadline}),te.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:te.jsxs("button",{onClick:()=>(e=>{c(e),s(!0)})(e),className:"text-[#2563eb] hover:text-[#3b82f6] flex items-center gap-1",children:[te.jsx(CO,{className:"h-4 w-4"}),"Ver Detalhes"]})})]},e.id)}))})]})]}),a&&l&&te.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 overflow-y-auto",children:te.jsxs("div",{className:"bg-[#1a1a2e] rounded-lg p-6 max-w-2xl w-full my-8 relative",children:[te.jsxs("div",{className:"flex justify-between items-start sticky top-0 bg-[#1a1a2e] pb-4 mb-4 border-b border-gray-700 z-10",children:[te.jsx("h2",{className:"text-xl font-bold text-white",children:"Detalhes da Solicitação"}),te.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white",children:te.jsx(JO,{className:"h-5 w-5"})})]}),te.jsxs("div",{className:"space-y-6 mt-2",children:[te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Tipo de Serviço"}),te.jsx("p",{className:"mt-1 text-white",children:v(l.type)})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Descrição do Projeto"}),te.jsx("div",{className:"mt-1 bg-[#16162a] p-4 rounded-lg max-h-60 overflow-y-auto",children:te.jsx("p",{className:"whitespace-pre-wrap text-white",children:l.description})})]}),l.reference&&te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Referência"}),te.jsx("a",{href:l.reference,target:"_blank",rel:"noopener noreferrer",className:"mt-1 text-[#2563eb] hover:text-[#3b82f6] block",children:"Ver Referência"})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Data de Entrega Desejada"}),te.jsx("p",{className:"mt-1 text-white",children:l.deadline})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Status"}),te.jsx("span",{className:`mt-1 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g(l.status)}`,children:y(l.status)})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Data da Solicitação"}),te.jsx("p",{className:"mt-1 text-white",children:new Date(null==(e=l.createdAt)?void 0:e.toDate()).toLocaleDateString()})]})]}),te.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700 flex justify-end",children:te.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-gray-300 hover:text-white",children:"Fechar"})})]})})]})}function oT(){const{user:e}=cj(),{unreadAdminMessages:t}=fj(),[n,r]=W.useState([]),[i,o]=W.useState(""),[a,s]=W.useState(!0),[l,c]=W.useState(!1),u=W.useRef(null);console.log("Chat component rendered, user:",e);const d=()=>{var e;null==(e=u.current)||e.scrollIntoView({behavior:"smooth"})};W.useEffect((()=>{if(!e)return;(async()=>{try{console.log("Marking messages as read for user:",e.uid);const t=NE(Hk(sj,"messages"),AE("chatId","==",e.uid),AE("isAdmin","==",!0),AE("read","==",!1)),n=await GE(t);if(console.log("Found",n.size,"unread messages to mark as read"),n.size>0){const e=ij(sj);n.docs.forEach((t=>{e.update(t.ref,{read:!0})})),await e.commit(),console.log("Messages marked as read")}}catch(t){console.error("Error marking messages as read:",t)}})()}),[e,n]),W.useEffect((()=>{if(!e)return;const t=JE(NE(Hk(sj,"messages"),AE("chatId","==",e.uid),DE("createdAt","desc")),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));r(t.reverse()),s(!1),setTimeout(d,100)}));return()=>t()}),[e]);return console.log("Current loading state:",a),console.log("Current messages:",n),a?te.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:te.jsx(RO,{className:"w-8 h-8 text-[#2563eb] animate-spin"})}):te.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)]",children:[te.jsxs("div",{className:"p-4 border-b border-gray-700 bg-[#16162a] flex justify-between items-center",children:[te.jsx("h2",{className:"font-medium text-white",children:"Chat com Administrador"}),te.jsxs("div",{className:"flex items-center gap-4",children:[t>0&&te.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[t," ",1===t?"nova mensagem":"novas mensagens"]}),te.jsx("button",{onClick:async()=>{if(e&&window.confirm("Tem certeza que deseja excluir todas as mensagens?"))try{const t=NE(Hk(sj,"messages"),AE("chatId","==",e.uid)),n=await GE(t),i=ij(sj);n.docs.forEach((e=>{i.delete(e.ref)})),await i.commit(),gO.success("Chat excluído com sucesso!"),r([])}catch(t){console.error("Error deleting chat:",t),gO.error("Erro ao excluir o chat. Tente novamente.")}},className:"text-gray-400 hover:text-red-500 focus:outline-none transition-colors",title:"Excluir chat",children:te.jsx(KO,{size:20})})]})]}),te.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#1a1a2e]",children:[0===n.length?te.jsx("div",{className:"text-center text-gray-400",children:"Nenhuma mensagem ainda. Comece uma conversa!"}):n.map((e=>{var t;return te.jsx("div",{className:"flex "+(e.isAdmin?"justify-start":"justify-end"),children:te.jsxs("div",{className:"max-w-[70%] rounded-lg px-4 py-2 "+(e.isAdmin?"bg-[#16162a] text-white border border-gray-700":"bg-[#2563eb] text-white"),children:[te.jsx("p",{children:e.text}),te.jsx("span",{className:"text-xs text-gray-400 mt-1 block",children:null==(t=e.createdAt)?void 0:t.toDate().toLocaleTimeString()})]})},e.id)})),te.jsx("div",{ref:u})]}),te.jsx("form",{onSubmit:async t=>{if(t.preventDefault(),i.trim()&&e){c(!0);try{console.log("Attempting to send message");const t={chatId:e.uid,text:i.trim(),senderId:e.uid,senderName:e.displayName||e.email,isAdmin:!1,createdAt:rj(),read:!1};console.log("Message data to send:",t),await XE(Hk(sj,"messages"),t),console.log("Message sent successfully"),o(""),d()}catch(n){console.error("Error sending message:",n),gO.error("Erro ao enviar mensagem. Tente novamente.")}finally{c(!1)}}},className:"p-4 bg-[#16162a] border-t border-gray-700",children:te.jsxs("div",{className:"flex gap-2",children:[te.jsx("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 bg-[#1a1a2e] text-white border border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent placeholder-gray-400"}),te.jsx("button",{type:"submit",disabled:l,className:"bg-[#2563eb] text-white px-4 py-2 rounded-lg hover:bg-[#2563eb]/90 focus:outline-none focus:ring-2 focus:ring-[#2563eb] flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?te.jsx(RO,{className:"w-5 h-5 animate-spin"}):te.jsx(qO,{size:20})})]})})]})}const aT={},sT=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in aT)return;aT[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,n&&i.setAttribute("nonce",n),document.head.appendChild(i),t?new Promise(((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)}))};class lT extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class cT extends lT{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uT extends lT{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dT extends lT{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hT,fT;(fT=hT||(hT={})).Any="any",fT.ApNortheast1="ap-northeast-1",fT.ApNortheast2="ap-northeast-2",fT.ApSouth1="ap-south-1",fT.ApSoutheast1="ap-southeast-1",fT.ApSoutheast2="ap-southeast-2",fT.CaCentral1="ca-central-1",fT.EuCentral1="eu-central-1",fT.EuWest1="eu-west-1",fT.EuWest2="eu-west-2",fT.EuWest3="eu-west-3",fT.SaEast1="sa-east-1",fT.UsEast1="us-east-1",fT.UsWest1="us-west-1",fT.UsWest2="us-west-2";var pT=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch($j){o($j)}}function s(e){try{l(r.throw(e))}catch($j){o($j)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class mT{constructor(e,{headers:t={},customFetch:n,region:r=hT.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>sT((async()=>{const{default:e}=await Promise.resolve().then((()=>TT));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return pT(this,void 0,void 0,(function*(){try{const{headers:r,method:i,body:o}=t;let a,s={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(s["x-region"]=l),o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",a=o):"string"==typeof o?(s["Content-Type"]="text/plain",a=o):"undefined"!=typeof FormData&&o instanceof FormData?a=o:(s["Content-Type"]="application/json",a=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),r),body:a}).catch((e=>{throw new cT(e)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new uT(c);if(!c.ok)throw new dT(c);let d,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}}))}}var gT={},yT={},vT={},bT={},wT={},xT={},_T=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const ST=_T.fetch,kT=_T.fetch.bind(_T),ET=_T.Headers,jT=_T.Request,OT=_T.Response,TT=Object.freeze(Object.defineProperty({__proto__:null,Headers:ET,Request:jT,Response:OT,default:kT,fetch:ST},Symbol.toStringTag,{value:"Module"})),CT=a(TT);var NT={};Object.defineProperty(NT,"__esModule",{value:!0});class PT extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}NT.default=PT;var AT=i&&i.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xT,"__esModule",{value:!0});const IT=AT(CT),MT=AT(NT);xT.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=IT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let i=null,o=null,a=null,s=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&c&&c.length>1&&(a=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,a=null,s=406,l="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,s=200,l="OK")}catch(c){404===e.status&&""===t?(s=204,l="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(r=null==i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,s=200,l="OK"),i&&this.shouldThrowOnError)throw new MT.default(i)}return{error:i,data:o,count:a,status:s,statusText:l}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}};var DT=i&&i.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wT,"__esModule",{value:!0});const RT=DT(xT);let LT=class extends RT.default{select(e){let t=!1;const n=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=void 0===r?"offset":`${r}.offset`,o=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.Accept)&&void 0!==a?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wT.default=LT;var UT=i&&i.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bT,"__esModule",{value:!0});const FT=UT(wT);let zT=class extends FT.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const o=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};bT.default=zT;var $T=i&&i.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vT,"__esModule",{value:!0});const BT=$T(bT);vT.default=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let i=!1;const o=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e))).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new BT.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new BT.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new BT.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new BT.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new BT.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var VT={},qT={};Object.defineProperty(qT,"__esModule",{value:!0}),qT.version=void 0,qT.version="0.0.0-automated",Object.defineProperty(VT,"__esModule",{value:!0}),VT.DEFAULT_HEADERS=void 0;const WT=qT;VT.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${WT.version}`};var HT=i&&i.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yT,"__esModule",{value:!0});const KT=HT(vT),GT=HT(bT),YT=VT;yT.default=class e{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},YT.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new KT.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:r=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let s;n||r?(o=n?"HEAD":"GET",Object.entries(t).filter((([e,t])=>void 0!==t)).map((([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`])).forEach((([e,t])=>{a.searchParams.append(e,t)}))):(o="POST",s=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new GT.default({method:o,url:a,headers:l,schema:this.schemaName,body:s,fetch:this.fetch,allowEmpty:!1})}};var QT=i&&i.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gT,"__esModule",{value:!0}),gT.PostgrestError=gT.PostgrestBuilder=gT.PostgrestTransformBuilder=gT.PostgrestFilterBuilder=gT.PostgrestQueryBuilder=gT.PostgrestClient=void 0;const XT=QT(yT);gT.PostgrestClient=XT.default;const JT=QT(vT);gT.PostgrestQueryBuilder=JT.default;const ZT=QT(bT);gT.PostgrestFilterBuilder=ZT.default;const eC=QT(wT);gT.PostgrestTransformBuilder=eC.default;const tC=QT(xT);gT.PostgrestBuilder=tC.default;const nC=QT(NT);gT.PostgrestError=nC.default;var rC=gT.default={PostgrestClient:XT.default,PostgrestQueryBuilder:JT.default,PostgrestFilterBuilder:ZT.default,PostgrestTransformBuilder:eC.default,PostgrestBuilder:tC.default,PostgrestError:nC.default};const{PostgrestClient:iC,PostgrestQueryBuilder:oC,PostgrestFilterBuilder:aC,PostgrestTransformBuilder:sC,PostgrestBuilder:lC}=rC,cC={"X-Client-Info":"realtime-js/2.11.2"};var uC,dC,hC,fC,pC,mC,gC,yC,vC,bC,wC;(dC=uC||(uC={}))[dC.connecting=0]="connecting",dC[dC.open=1]="open",dC[dC.closing=2]="closing",dC[dC.closed=3]="closed",(fC=hC||(hC={})).closed="closed",fC.errored="errored",fC.joined="joined",fC.joining="joining",fC.leaving="leaving",(mC=pC||(pC={})).close="phx_close",mC.error="phx_error",mC.join="phx_join",mC.reply="phx_reply",mC.leave="phx_leave",mC.access_token="access_token",(gC||(gC={})).websocket="websocket",(vC=yC||(yC={})).Connecting="connecting",vC.Open="open",vC.Closing="closing",vC.Closed="closed";class xC{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o+=r;const s=n.decode(e.slice(o,o+i));o+=i;return{ref:null,topic:a,event:s,payload:JSON.parse(n.decode(e.slice(o,e.byteLength)))}}}class _C{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}(wC=bC||(bC={})).abstime="abstime",wC.bool="bool",wC.date="date",wC.daterange="daterange",wC.float4="float4",wC.float8="float8",wC.int2="int2",wC.int4="int4",wC.int4range="int4range",wC.int8="int8",wC.int8range="int8range",wC.json="json",wC.jsonb="jsonb",wC.money="money",wC.numeric="numeric",wC.oid="oid",wC.reltime="reltime",wC.text="text",wC.time="time",wC.timestamp="timestamp",wC.timestamptz="timestamptz",wC.timetz="timetz",wC.tsrange="tsrange",wC.tstzrange="tstzrange";const SC=(e,t,n={})=>{var r;const i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((n,r)=>(n[r]=kC(r,e,t,i),n)),{})},kC=(e,t,n,r)=>{const i=t.find((t=>t.name===e)),o=null==i?void 0:i.type,a=n[e];return o&&!r.includes(o)?EC(o,a):jC(a)},EC=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return NC(t,n)}switch(e){case bC.bool:return OC(t);case bC.float4:case bC.float8:case bC.int2:case bC.int4:case bC.int8:case bC.numeric:case bC.oid:return TC(t);case bC.json:case bC.jsonb:return CC(t);case bC.timestamp:return PC(t);case bC.abstime:case bC.date:case bC.daterange:case bC.int4range:case bC.int8range:case bC.money:case bC.reltime:case bC.text:case bC.time:case bC.timestamptz:case bC.timetz:case bC.tsrange:case bC.tstzrange:default:return jC(t)}},jC=e=>e,OC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TC=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},CC=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},NC=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const o=e.slice(1,n);try{r=JSON.parse("["+o+"]")}catch(i){r=o?o.split(","):[]}return r.map((e=>EC(t,e)))}return e},PC=e=>"string"==typeof e?e.replace(" ","T"):e,AC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class IC{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var MC,DC,RC,LC,UC,FC,zC,$C;(DC=MC||(MC={})).SYNC="sync",DC.JOIN="join",DC.LEAVE="leave";class BC{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=BC.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=BC.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=BC.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const i=this.cloneDeep(e),o=this.transformState(t),a={},s={};return this.map(i,((e,t)=>{o[e]||(s[e]=t)})),this.map(o,((e,t)=>{const n=i[e];if(n){const r=t.map((e=>e.presence_ref)),i=n.map((e=>e.presence_ref)),o=t.filter((e=>i.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));o.length>0&&(a[e]=o),l.length>0&&(s[e]=l)}else a[e]=t})),this.syncDiff(i,{joins:a,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,((t,r)=>{var i;const o=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),o.length>0){const n=e[t].map((e=>e.presence_ref)),r=o.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,o,r)})),this.map(o,((t,n)=>{let i=e[t];if(!i)return;const o=n.map((e=>e.presence_ref));i=i.filter((e=>o.indexOf(e.presence_ref)<0)),e[t]=i,r(t,i,n),0===i.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(LC=RC||(RC={})).ALL="*",LC.INSERT="INSERT",LC.UPDATE="UPDATE",LC.DELETE="DELETE",(FC=UC||(UC={})).BROADCAST="broadcast",FC.PRESENCE="presence",FC.POSTGRES_CHANGES="postgres_changes",FC.SYSTEM="system",($C=zC||(zC={})).SUBSCRIBED="SUBSCRIBED",$C.TIMED_OUT="TIMED_OUT",$C.CLOSED="CLOSED",$C.CHANNEL_ERROR="CHANNEL_ERROR";class VC{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=hC.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new IC(this,pC.join,this.params,this.timeout),this.rejoinTimer=new _C((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=hC.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hC.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=hC.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hC.errored,this.rejoinTimer.scheduleTimeout())})),this._on(pC.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new BC(this),this.broadcastEndpointURL=AC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError((t=>null==e?void 0:e(zC.CHANNEL_ERROR,t))),this._onClose((()=>null==e?void 0:e(zC.CLOSED)));const s={},l={broadcast:i,presence:o,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:a};this.socket.accessTokenValue&&(s.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},s)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async({postgres_changes:t})=>{var n;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,i=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,o=[];for(let n=0;n<i;n++){const i=r[n],{filter:{event:a,schema:s,table:l,filter:c}}=i,u=t&&t[n];if(!u||u.event!==a||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null==e||e(zC.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=o,void(e&&e(zC.SUBSCRIBED))}null==e||e(zC.SUBSCRIBED)})).receive("error",(t=>{null==e||e(zC.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null==e||e(zC.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,i,o;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===o?void 0:o.ack)||n("ok"),a.receive("ok",(()=>n("ok"))),a.receive("error",(()=>n("error"))),a.receive("timeout",(()=>n("timed out")))}));{const{event:o,payload:a}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=hC.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pC.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new IC(this,pC.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout((()=>r.abort()),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new IC(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:s,leave:l,join:c}=pC;if(n&&[a,s,l,c].indexOf(o)>=0&&n!==this._joinRef())return;let u=this._onMessage(o,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o})).map((e=>e.callback(u,n))):null===(i=this.bindings[o])||void 0===i||i.filter((e=>{var n,r,i,a,s,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,a=null===(n=e.filter)||void 0===n?void 0:n.event;return o&&(null===(r=t.ids)||void 0===r?void 0:r.includes(o))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(s=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o})).map((e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:o}=e,a={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:o};u=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===hC.closed}_isJoined(){return this.state===hC.joined}_isJoining(){return this.state===hC.joining}_isLeaving(){return this.state===hC.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&VC.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pC.close,{},e)}_onError(e){this._on(pC.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hC.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=SC(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=SC(e.columns,e.old_record)),t}}const qC=()=>{},WC="undefined"!=typeof WebSocket;class HC{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=cC,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=qC,this.conn=null,this.sendBuffer=[],this.serializer=new xC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>sT((async()=>{const{default:e}=await Promise.resolve().then((()=>TT));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${gC.websocket}`,this.httpEndpoint=AC(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _C((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(WC)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new KC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),sT((async()=>{const{default:e}=await import("./browser-pqal_Ufz.js").then((e=>e.b));return{default:e}}),[]).then((({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case uC.connecting:return yC.Connecting;case uC.open:return yC.Open;case uC.closing:return yC.Closing;default:return yC.Closed}}isConnected(){return this.connectionState()===yC.Open}channel(e,t={config:{}}){const n=new VC(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let e=null;try{e=JSON.parse(atob(t.split(".")[1]))}catch(n){}if(e&&e.exp){if(!(Math.floor(Date.now()/1e3)-e.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`)}this.accessTokenValue=t,this.channels.forEach((e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(pC.access_token,{access_token:t})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:i}=e;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,i))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(pC.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class KC{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=uC.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class GC extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function YC(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class QC extends GC{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class XC extends GC{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var JC=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch($j){o($j)}}function s(e){try{l(r.throw(e))}catch($j){o($j)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const ZC=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>sT((async()=>{const{default:e}=await Promise.resolve().then((()=>TT));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},eN=e=>{if(Array.isArray(e))return e.map((e=>eN(e)));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((([e,n])=>{const r=e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[r]=eN(n)})),t};var tN=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch($j){o($j)}}function s(e){try{l(r.throw(e))}catch($j){o($j)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const nN=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rN=(e,t,n)=>tN(void 0,void 0,void 0,(function*(){const r=yield JC(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield sT((()=>Promise.resolve().then((()=>TT))),void 0)).Response:Response}));e instanceof r&&!(null==n?void 0:n.noResolveJson)?e.json().then((n=>{t(new QC(nN(n),e.status||500))})).catch((e=>{t(new XC(nN(e),e))})):t(new XC(nN(e),e))}));function iN(e,t,n,r,i,o){return tN(this,void 0,void 0,(function*(){return new Promise(((a,s)=>{e(n,((e,t,n,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))})(t,r,i,o)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()})).then((e=>a(e))).catch((e=>rN(e,s,r)))}))}))}function oN(e,t,n,r){return tN(this,void 0,void 0,(function*(){return iN(e,"GET",t,n,r)}))}function aN(e,t,n,r,i){return tN(this,void 0,void 0,(function*(){return iN(e,"POST",t,r,i,n)}))}function sN(e,t,n,r,i){return tN(this,void 0,void 0,(function*(){return iN(e,"DELETE",t,r,i,n)}))}var lN=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch($j){o($j)}}function s(e){try{l(r.throw(e))}catch($j){o($j)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const cN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dN{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=ZC(r)}uploadOrUpdate(e,t,n,r){return lN(this,void 0,void 0,(function*(){try{let i;const o=Object.assign(Object.assign({},uN),r);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const s=o.metadata;"undefined"!=typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s)),i.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,s&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null==r?void 0:r.headers)&&(a=Object.assign(Object.assign({},a),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},(null==o?void 0:o.duplex)?{duplex:o.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(i){if(YC(i))return{data:null,error:i};throw i}}))}upload(e,t,n){return lN(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return lN(this,void 0,void 0,(function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:uN.upsert},r),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,o["cache-control"]=`max-age=${t.cacheControl}`,o["content-type"]=t.contentType);const s=yield this.fetch(a.toString(),{method:"PUT",body:e,headers:o}),l=yield s.json();if(s.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(s){if(YC(s))return{data:null,error:s};throw s}}))}createSignedUploadUrl(e,t){return lN(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const i=yield aN(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new GC("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(YC(n))return{data:null,error:n};throw n}}))}update(e,t,n){return lN(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return lN(this,void 0,void 0,(function*(){try{return{data:yield aN(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(YC(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return lN(this,void 0,void 0,(function*(){try{return{data:{path:(yield aN(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(YC(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return lN(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),i=yield aN(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const o=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(YC(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return lN(this,void 0,void 0,(function*(){try{const r=yield aN(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null}))),error:null}}catch(r){if(YC(r))return{data:null,error:r};throw r}}))}download(e,t){return lN(this,void 0,void 0,(function*(){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield oN(this.fetch,`${this.url}/${n}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(o){if(YC(o))return{data:null,error:o};throw o}}))}info(e){return lN(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield oN(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:eN(e),error:null}}catch(n){if(YC(n))return{data:null,error:n};throw n}}))}exists(e){return lN(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return tN(this,void 0,void 0,(function*(){return iN(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(YC(n)&&n instanceof XC){const e=n.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);const o=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&r.push(a);let s=r.join("&");return""!==s&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}remove(e){return lN(this,void 0,void 0,(function*(){try{return{data:yield sN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(YC(t))return{data:null,error:t};throw t}}))}list(e,t,n){return lN(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},cN),t),{prefix:e||""});return{data:yield aN(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(YC(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const hN={"X-Client-Info":"storage-js/2.7.1"};var fN=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch($j){o($j)}}function s(e){try{l(r.throw(e))}catch($j){o($j)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class pN{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},hN),t),this.fetch=ZC(n)}listBuckets(){return fN(this,void 0,void 0,(function*(){try{return{data:yield oN(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(YC(e))return{data:null,error:e};throw e}}))}getBucket(e){return fN(this,void 0,void 0,(function*(){try{return{data:yield oN(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(YC(t))return{data:null,error:t};throw t}}))}createBucket(e,t={public:!1}){return fN(this,void 0,void 0,(function*(){try{return{data:yield aN(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(YC(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return fN(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,i){return tN(this,void 0,void 0,(function*(){return iN(e,"PUT",t,r,i,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(YC(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return fN(this,void 0,void 0,(function*(){try{return{data:yield aN(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(YC(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return fN(this,void 0,void 0,(function*(){try{return{data:yield sN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(YC(t))return{data:null,error:t};throw t}}))}}class mN extends pN{constructor(e,t={},n){super(e,t,n)}from(e){return new dN(this.url,this.headers,e,this.fetch)}}let gN="";gN="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const yN={headers:{"X-Client-Info":`supabase-js-${gN}/2.47.7`}},vN={schema:"public"},bN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wN={};var xN=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch($j){o($j)}}function s(e){try{l(r.throw(e))}catch($j){o($j)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const _N=(e,t,n)=>{const r=(e=>{let t;return t=e||("undefined"==typeof fetch?kT:fetch),(...e)=>t(...e)})(n),i="undefined"==typeof Headers?ET:Headers;return(n,o)=>xN(void 0,void 0,void 0,(function*(){var a;const s=null!==(a=yield t())&&void 0!==a?a:e;let l=new i(null==o?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${s}`),r(n,Object.assign(Object.assign({},o),{headers:l}))}))};var SN=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch($j){o($j)}}function s(e){try{l(r.throw(e))}catch($j){o($j)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const kN="2.67.1",EN={"X-Client-Info":`gotrue-js/${kN}`},jN="X-Supabase-Api-Version",ON={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"};const TN=()=>"undefined"!=typeof document,CN={tested:!1,writable:!1},NN=()=>{if(!TN())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch($j){return!1}if(CN.tested)return CN.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),CN.tested=!0,CN.writable=!0}catch($j){CN.tested=!0,CN.writable=!1}return CN.writable};function PN(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch($j){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}const AN=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>sT((async()=>{const{default:e}=await Promise.resolve().then((()=>TT));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},IN=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},MN=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},DN=async(e,t)=>{await e.removeItem(t)};class RN{constructor(){this.promise=new RN.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function LN(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,i,o,a,s,l,c="",u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),s=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),n=o<<2|a>>4,r=(15&a)<<4|s>>2,i=(3&s)<<6|l,c+=String.fromCharCode(n),64!=s&&0!=r&&(c+=String.fromCharCode(r)),64!=l&&0!=i&&(c+=String.fromCharCode(i));return c}(n))}function UN(e){return("0"+e.toString(16)).substr(-2)}async function FN(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zN(e,t,n=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,UN).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await IN(e,`${t}-code-verifier`,i);const o=await FN(r);return[o,r===o?"plain":"s256"]}RN.promiseConstructor=Promise;const $N=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class BN extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function VN(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class qN extends BN{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class WN extends BN{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class HN extends BN{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class KN extends HN{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class GN extends HN{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class YN extends HN{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class QN extends HN{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XN extends HN{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JN extends HN{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ZN(e){return VN(e)&&"AuthRetryableFetchError"===e.name}class eP extends HN{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}const tP=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nP=[502,503,504];async function rP(e){var t,n;if(!("object"==typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new JN(tP(e),0);if(nP.includes(e.status))throw new JN(tP(e),e.status);let r,i;try{r=await e.json()}catch($j){throw new WN(tP($j),$j)}const o=function(e){const t=e.headers.get(jN);if(!t)return null;if(!t.match($N))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch($j){return null}}(e);if(o&&o.getTime()>=ON.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?i=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new eP(tP(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new KN}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0))throw new eP(tP(r),e.status,r.weak_password.reasons);throw new qN(tP(r),e.status||500,i)}async function iP(e,t,n,r){var i;const o=Object.assign({},null==r?void 0:r.headers);o[jN]||(o[jN]=ON.name),(null==r?void 0:r.jwt)&&(o.Authorization=`Bearer ${r.jwt}`);const a=null!==(i=null==r?void 0:r.query)&&void 0!==i?i:{};(null==r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,n,r,i,o){const a=((e,t,n,r)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,o);let s;try{s=await e(n,Object.assign({},a))}catch($j){throw console.error($j),new JN(tP($j),0)}s.ok||await rP(s);if(null==r?void 0:r.noResolveJson)return s;try{return await s.json()}catch($j){await rP($j)}}(e,t,n+s,{headers:o,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function oP(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function aP(e){const t=oP(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function sP(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function lP(e){return{data:e,error:null}}function cP(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},a)},error:null}}function uP(e){return e}class dP{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=AN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await iP(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(VN(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await iP(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:sP})}catch(n){if(VN(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await iP(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:cP,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(VN(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await iP(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:sP})}catch(t){if(VN(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,o,a,s;try{const l={nextPage:null,lastPage:0,total:0},c=await iP(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:uP});if(c.error)throw c.error;const u=await c.json(),d=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(s=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(VN(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await iP(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:sP})}catch(t){if(VN(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await iP(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:sP})}catch(n){if(VN(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await iP(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:sP})}catch(n){if(VN(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await iP(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(VN(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await iP(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(VN(t))return{data:null,error:t};throw t}}}const hP={getItem:e=>NN()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{NN()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{NN()&&globalThis.localStorage.removeItem(e)}};function fP(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const pP=!!(globalThis&&NN()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class mP extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gP extends mP{}async function yP(e,t,n){pP&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),pP&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw pP&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(pP)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch($j){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",$j)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}pP&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{pP&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch($j){"undefined"!=typeof self&&(self.globalThis=self)}}();const vP={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},bP=3e4;async function wP(e,t,n){return await n()}class xP{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xP.nextInstanceID,xP.nextInstanceID+=1,this.instanceID>0&&TN()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},vP),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new dP({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=AN(r.fetch),this.lock=r.lock||wP,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:TN()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=yP:this.lock=wP,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:NN()?this.storage=hP:(this.memoryStorage={},this.storage=fP(this.memoryStorage)):(this.memoryStorage={},this.storage=fP(this.memoryStorage)),TN()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch($j){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",$j)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kN}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=!!TN()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),function(e){return VN(e)&&"AuthImplicitGrantRedirectError"===e.name}(r)){const t=null===(e=r.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:r}}return await this._removeSession(),{error:r}}const{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout((async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return VN(t)?{error:t}:{error:new WN("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await iP(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:oP}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const s=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(i){if(VN(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:o}=e;let a=null,s=null;"pkce"===this.flowType&&([a,s]=await zN(this.storage,this.storageKey)),i=await iP(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==o?void 0:o.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken},code_challenge:a,code_challenge_method:s},xform:oP})}else{if(!("phone"in e))throw new YN("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:a}=e;i=await iP(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:o,data:null!==(n=null==a?void 0:a.data)&&void 0!==n?n:{},channel:null!==(r=null==a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:oP})}}const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const s=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(i){if(VN(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=await iP(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:aP})}else{if(!("phone"in e))throw new YN("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=await iP(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:aP})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new GN}}catch(t){if(VN(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await MN(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/");try{const{data:t,error:i}=await iP(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:oP});if(await DN(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new GN}}catch(i){if(VN(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:o}=e,a=await iP(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:oP}),{data:s,error:l}=a;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new GN}}catch(t){if(VN(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,i,o;try{if("email"in e){const{email:r,options:i}=e;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await zN(this.storage,this.storageKey));const{error:s}=await iP(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null==i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:a},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:a,error:s}=await iP(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null==n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(o=null==n?void 0:n.channel)&&void 0!==o?o:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:s}}throw new YN("You must provide either an email or phone number.")}catch(a){if(VN(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:o,error:a}=await iP(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:oP});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const s=o.session,l=o.user;return(null==s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(VN(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let i=null,o=null;return"pkce"===this.flowType&&([i,o]=await zN(this.storage,this.storageKey)),await iP(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:lP})}catch(i){if(VN(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new KN;const{error:r}=await iP(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(VN(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await iP(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await iP(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new YN("You must provide either an email or phone number and a type")}catch(t){if(VN(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch($j){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch($j){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await MN(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await iP(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:sP}):await this._useSession((async e=>{var t,n,r;const{data:i,error:o}=e;if(o)throw o;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await iP(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:sP}):{data:{user:null},error:new KN}}))}catch(t){if(VN(t))return function(e){return VN(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await DN(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new KN;const o=r.session;let a=null,s=null;"pkce"===this.flowType&&null!=e.email&&([a,s]=await zN(this.storage,this.storageKey));const{data:l,error:c}=await iP(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:s}),jwt:o.access_token,xform:sP});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(n){if(VN(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return LN(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new KN;const t=Date.now()/1e3;let n=t,r=!0,i=null;const o=LN(e.access_token);if(o.exp&&(n=o.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:o}=await this._getUser(e.access_token);if(o)throw o;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(VN(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new KN;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(VN(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!TN())throw new QN("No browser detected.");if("implicit"===this.flowType&&!this._isImplicitGrantFlow())throw new QN("Not a valid implicit grant flow url.");if("pkce"==this.flowType&&!e)throw new XN("Not a valid PKCE flow url.");const t=PN(window.location.href);if(e){if(!t.code)throw new XN("No code detected.");const{data:e,error:n}=await this._exchangeCodeForSession(t.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new QN(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:s,token_type:l}=t;if(!(i&&a&&o&&l))throw new QN("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(a);let d=c+u;s&&(d=parseInt(s));const h=d-c;1e3*h<=bP&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(i);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:o,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(t){if(VN(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=PN(window.location.href);return!(!TN()||!e.access_token&&!e.error_description)}async _isPKCEFlow(){const e=PN(window.location.href),t=await MN(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var n;const{data:r,error:i}=t;if(i)return{error:i};const o=null===(n=r.session)||void 0===n?void 0:n.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!function(e){return VN(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await DN(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}}))}async resetPasswordForEmail(e,t={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await zN(this.storage,this.storageKey,!0));try{return await iP(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(VN(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(VN(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,i,o,a;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await iP(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(o=s.session)||void 0===o?void 0:o.access_token)&&void 0!==a?a:void 0})}));if(r)throw r;return TN()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),{data:{provider:e.provider,url:null==n?void 0:n.url},error:null}}catch(n){if(VN(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:i,error:o}=t;if(o)throw o;return await iP(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(VN(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await function(e,t){const n=new Promise(((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const r=await e(i);if(!t(i,null,r))return void n(r)}catch($j){if(!t(i,$j))return void r($j)}})()}));return n}((async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await iP(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:oP}))),((e,t)=>{const r=200*Math.pow(2,e);return t&&ZN(t)&&Date.now()+r-n<bP}))}catch(n){if(this._debug(t,"error",n),VN(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),TN()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await MN(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=Math.round(Date.now()/1e3),i=(null!==(e=n.expires_at)&&void 0!==e?e:1/0)<r+10;if(this._debug(t,`session has${i?"":" not"} expired with margin of 10s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),ZN(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new KN;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new RN;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new KN;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),VN(i)){const e={session:null,error:i};return ZN(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch($j){r.push($j)}}));if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await IN(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await DN(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&TN()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch($j){console.error("removing visibilitychange callback failed",$j)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),bP);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/bP);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch($j){console.error("Auto refresh tick failed with error. This is likely a transient error.",$j)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch($j){if(!($j.isAcquireTimeout||$j instanceof mP))throw $j;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!TN()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await zN(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await iP(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(VN(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:i,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await iP(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(n=null==i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null==s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})}))}catch(t){if(VN(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await iP(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})}))}catch(t){if(VN(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await iP(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(VN(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null==e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),i=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:o.amr||[]},error:null}}))))}}xP.nextInstanceID=0;const _P=xP;class SP extends _P{constructor(e){super(e)}}var kP=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch($j){o($j)}}function s(e){try{l(r.throw(e))}catch($j){o($j)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class EP{constructor(e,t,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=e.replace(/\/$/,"");this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const s=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:n,auth:r,realtime:i,global:o}=e,{db:a,auth:s,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},a),n),auth:Object.assign(Object.assign({},s),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>SN(this,void 0,void 0,(function*(){return""}))};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!=n?n:{},{db:vN,realtime:wN,auth:Object.assign(Object.assign({},bN),{storageKey:s}),global:yN});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(o=l.auth)&&void 0!==o?o:{},this.headers,l.global.fetch),this.fetch=_N(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new iC(`${a}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new mT(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mN(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return kP(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:s},l,c){var u;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SP({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:s,fetch:c,hasCustomAuthorizationHeader:null!==(u="Authorization"in this.headers)&&void 0!==u&&u})}_initRealtimeClient(e){return new HC(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const jP=((e,t,n)=>new EP(e,t,n))("https://sdvnwfxixdasbeotxmyn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNkdm53ZnhpeGRhc2Jlb3R4bXluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczNDIxNzQ5NSwiZXhwIjoyMDQ5NzkzNDk1fQ.QBq0jPZD_QmsPOPNeJD440_tvaaM2zGzNL5OLY8fRTE",{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}});async function OP(e,t){var n;try{if(!(await(null==(n=aj.currentUser)?void 0:n.getIdToken())))throw new Error("Usuário não autenticado");const r=e.name.split(".").pop(),i=`${t}-${Date.now()}.${r}`,o=`requests/${function(){const e=new Date;return`${e.getFullYear()}/${(e.getMonth()+1).toString().padStart(2,"0")}`}()}/${i}`,{data:a,error:s}=await jP.storage.from("PixelArt").upload(o,e,{cacheControl:"3600",upsert:!0,contentType:e.type});if(s)throw s;const{data:{publicUrl:l}}=jP.storage.from("PixelArt").getPublicUrl(o);return l}catch(r){throw console.error("Erro ao fazer upload:",r),r}}async function TP(e,t,n,r,i){var o,a;try{if(!(await(null==(o=aj.currentUser)?void 0:o.getIdToken())))throw new Error("Usuário não autenticado");const s=null==(a=e.name.split(".").pop())?void 0:a.toLowerCase(),l=n.toLowerCase().replace(/[^a-z0-9]+/g,"-"),c=`${l}.${s}`,u=`users/${t}/artworks/${i}/${c}`;console.log("Fazendo upload:",{title:n,sanitizedTitle:l,fileName:c,filePath:u,fileType:e.type,size:e.size,userName:i});const{data:d,error:h}=await jP.storage.from("PixelArt").upload(u,e,{cacheControl:"3600",upsert:!0,contentType:e.type,duplex:"half",metadata:{title:n,description:r,userId:t,uploadedAt:(new Date).toISOString(),fileType:e.type,fileSize:e.size}});if(h)throw console.error("Erro detalhado:",h),h;const{data:{publicUrl:f}}=jP.storage.from("PixelArt").getPublicUrl(u);return{url:f,path:u,metadata:{title:n,description:r,userId:t,filePath:u,publicUrl:f,uploadedAt:(new Date).toISOString(),fileType:e.type,fileSize:e.size,originalTitle:n}}}catch(s){throw console.error("Erro ao fazer upload da arte:",s),s}}async function CP(e,t){try{const{data:n,error:r}=await jP.storage.from("PixelArt").download(e);if(r)throw console.error("Erro ao baixar arquivo:",r),r;if(!n)throw new Error("Arquivo não encontrado");const i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i);const{error:a}=await jP.storage.from("PixelArt").remove([e]);if(a)throw console.error("Erro ao deletar arquivo:",a),a;return!0}catch(n){throw console.error("Erro ao fazer download e deletar:",n),n}}function NP(){const{user:e}=cj(),t=oh(),[n,r]=W.useState({type:"",description:"",referenceUrls:[""],driveUrl:""}),[i,o]=W.useState(!0),[a,s]=W.useState(null),[l,c]=W.useState(!1);if(W.useEffect((()=>{(async()=>{if(e)try{const n=await HE(Kk(sj,"users",e.uid));n.exists()&&!1===n.data().isActive&&(zj.error("Sua conta está desativada. Você não pode fazer novas solicitações."),t("/user"))}catch(n){console.error("Error checking user status:",n)}finally{o(!1)}})()}),[e,t]),i)return te.jsx("div",{children:"Loading..."});return te.jsxs("div",{className:"max-w-2xl mx-auto",children:[te.jsx("h1",{className:"text-3xl font-bold mb-6 text-white",children:"Nova Solicitação"}),te.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),n.description.trim()){c(!0);try{let r=null;a&&(r=await OP(a,e.uid));await XE(Hk(sj,"requests"),{userId:e.uid,userName:e.email,imageUrl:r,description:n.description.trim(),status:"pending",createdAt:rj(),read:!1});zj.success("Pedido enviado com sucesso!"),t("/user/requests")}catch(i){console.error("Erro ao enviar pedido:",i),zj.error("Erro ao enviar pedido. Tente novamente.")}finally{c(!1)}}else zj.error("Por favor, adicione uma descrição")},className:"space-y-6",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium mb-2 text-white",children:"Tipo de Arte"}),te.jsxs("select",{value:n.type,onChange:e=>r({...n,type:e.target.value}),className:"w-full p-2 bg-[#16162a] text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",required:!0,children:[te.jsx("option",{value:"",className:"bg-[#16162a]",children:"Selecione o tipo"}),te.jsx("option",{value:"feed",className:"bg-[#16162a]",children:"Arte para Feed (Instagram/Facebook)"}),te.jsx("option",{value:"stories",className:"bg-[#16162a]",children:"Arte para Stories (Instagram/Facebook)"}),te.jsx("option",{value:"feed-stories",className:"bg-[#16162a]",children:"Arte para Feed + Stories (Instagram/Facebook)"}),te.jsx("option",{value:"motion",className:"bg-[#16162a]",children:"Motion Design (Arte Animada)"})]}),te.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:["feed"===n.type&&"Arte estática para publicações no feed do Instagram e Facebook. Ideal para posts informativos, promocionais ou conteúdo que ficará permanente nos seus perfis.","stories"===n.type&&"Arte vertical otimizada para stories do Instagram e Facebook. Perfeita para conteúdo temporário, promoções rápidas ou interações com seus seguidores.","feed-stories"===n.type&&"Pacote completo com arte para feed e stories do Instagram e Facebook. Ideal para campanhas que precisam de presença em todos os formatos das redes sociais.","motion"===n.type&&"Artes animadas que dão vida ao seu conteúdo. Ótimo para chamar atenção e aumentar o engajamento em todas as redes sociais (Instagram e Facebook)."]})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium mb-2 text-white",children:"Descrição"}),te.jsx("textarea",{value:n.description,onChange:e=>r({...n,description:e.target.value}),className:"w-full p-2 bg-[#16162a] text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent min-h-[100px]",placeholder:"Descreva o que você precisa...",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium mb-2 text-white",children:"Imagens de Referência"}),n.referenceUrls.map(((e,t)=>te.jsxs("div",{className:"flex gap-2 mb-2",children:[te.jsx("input",{type:"text",value:e,onChange:e=>((e,t)=>{r((n=>{const r=[...n.referenceUrls];return r[e]=t,{...n,referenceUrls:r}}))})(t,e.target.value),className:"flex-1 p-2 bg-[#16162a] text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",placeholder:"URL da imagem de referência"}),n.referenceUrls.length>1&&te.jsx("button",{type:"button",onClick:()=>(e=>{r((t=>({...t,referenceUrls:t.referenceUrls.filter(((t,n)=>n!==e))})))})(t),className:"p-2 text-red-500 hover:text-red-400 transition-colors",title:"Remover URL",children:te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:te.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},t))),te.jsxs("button",{type:"button",onClick:()=>{r((e=>({...e,referenceUrls:[...e.referenceUrls,""]})))},className:"mt-2 text-[#2563eb] hover:text-[#3b82f6] flex items-center gap-1 text-sm transition-colors",children:[te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:te.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Adicionar outra URL"]})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium mb-2 text-white",children:"URL do Google Drive"}),te.jsx("input",{type:"text",value:n.driveUrl,onChange:e=>r({...n,driveUrl:e.target.value}),className:"w-full p-2 bg-[#16162a] text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",placeholder:"Cole aqui o link da sua pasta no Google Drive"}),te.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Compartilhe uma pasta do Google Drive com seus arquivos e referências"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium mb-2 text-white",children:"Imagem"}),te.jsx("input",{type:"file",onChange:e=>s(e.target.files[0]),className:"w-full p-2 bg-[#16162a] text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-[#2563eb] file:text-white hover:file:bg-[#3b82f6]"})]}),te.jsx("button",{type:"submit",disabled:l,className:"w-full py-2 px-4 rounded-lg flex items-center justify-center gap-2 text-white font-medium transition-colors\n            "+(l?"bg-[#2563eb]/50 cursor-not-allowed":"bg-[#2563eb] hover:bg-[#3b82f6]"),children:l?te.jsxs(te.Fragment,{children:[te.jsx(RO,{className:"w-4 h-4 animate-spin"}),"Enviando..."]}):"Enviar Solicitação"})]})]})}function PP(e){return(PP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AP(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function IP(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function MP(e){IP(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===PP(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}var DP={};function RP(){return DP}function LP(e){IP(1,arguments);var t=MP(e);return t.setHours(0,0,0,0),t}function UP(e){if(IP(1,arguments),!function(e){return IP(1,arguments),e instanceof Date||"object"===PP(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var t=MP(e);return!isNaN(Number(t))}function FP(e,t){return IP(2,arguments),function(e,t){IP(2,arguments);var n=MP(e).getTime(),r=AP(t);return new Date(n+r)}(e,-AP(t))}function zP(e){IP(1,arguments);var t=MP(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function $P(e){IP(1,arguments);var t=MP(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=zP(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=zP(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function BP(e){IP(1,arguments);var t=MP(e),n=zP(t).getTime()-function(e){IP(1,arguments);var t=$P(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),zP(n)}(t).getTime();return Math.round(n/6048e5)+1}function VP(e,t){var n,r,i,o,a,s,l,c;IP(1,arguments);var u=RP(),d=AP(null!==(n=null!==(r=null!==(i=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=MP(e),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function qP(e,t){var n,r,i,o,a,s,l,c;IP(1,arguments);var u=MP(e),d=u.getUTCFullYear(),h=RP(),f=AP(null!==(n=null!==(r=null!==(i=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=VP(p,t),g=new Date(0);g.setUTCFullYear(d,0,f),g.setUTCHours(0,0,0,0);var y=VP(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function WP(e,t){IP(1,arguments);var n=MP(e),r=VP(n,t).getTime()-function(e,t){var n,r,i,o,a,s,l,c;IP(1,arguments);var u=RP(),d=AP(null!==(n=null!==(r=null!==(i=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=qP(e,t),f=new Date(0);return f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0),VP(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function HP(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var KP=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return HP("yy"===t?r%100:r,t.length)},GP=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):HP(n+1,2)},YP=function(e,t){return HP(e.getUTCDate(),t.length)},QP=function(e,t){return HP(e.getUTCHours()%12||12,t.length)},XP=function(e,t){return HP(e.getUTCHours(),t.length)},JP=function(e,t){return HP(e.getUTCMinutes(),t.length)},ZP=function(e,t){return HP(e.getUTCSeconds(),t.length)},eA=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return HP(Math.floor(r*Math.pow(10,n-3)),t.length)},tA="midnight",nA="noon",rA="morning",iA="afternoon",oA="evening",aA="night",sA={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return KP(e,t)},Y:function(e,t,n,r){var i=qP(e,r),o=i>0?i:1-i;return"YY"===t?HP(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):HP(o,t.length)},R:function(e,t){return HP($P(e),t.length)},u:function(e,t){return HP(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return HP(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return HP(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return GP(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return HP(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=WP(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):HP(i,t.length)},I:function(e,t,n){var r=BP(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):HP(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):YP(e,t)},D:function(e,t,n){var r=function(e){IP(1,arguments);var t=MP(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):HP(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return HP(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return HP(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return HP(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?nA:0===i?tA:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?oA:i>=12?iA:i>=4?rA:aA,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return QP(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):XP(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):HP(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):HP(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):JP(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ZP(e,t)},S:function(e,t){return eA(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return cA(i);case"XXXX":case"XX":return uA(i);default:return uA(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return cA(i);case"xxxx":case"xx":return uA(i);default:return uA(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+lA(i,":");default:return"GMT"+uA(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+lA(i,":");default:return"GMT"+uA(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return HP(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return HP((r._originalDate||e).getTime(),t.length)}};function lA(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t;return n+String(i)+a+HP(o,2)}function cA(e,t){return e%60==0?(e>0?"-":"+")+HP(Math.abs(e)/60,2):uA(e,t)}function uA(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+HP(Math.floor(i/60),2)+n+HP(i%60,2)}var dA=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},hA=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},fA={p:hA,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return dA(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",dA(i,t)).replace("{{time}}",hA(o,t))}},pA=["D","DD"],mA=["YY","YYYY"];function gA(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var yA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function vA(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var bA={date:vA({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:vA({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:vA({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},wA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function xA(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function _A(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(s)}));return a=e.valueCallback?e.valueCallback(c):c,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}}function SA(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(i.length)}}}var kA={code:"en-US",formatDistance:function(e,t,n){var r,i=yA[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:bA,formatRelative:function(e,t,n,r){return wA[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:xA({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:xA({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:xA({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:xA({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:xA({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:SA({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:_A({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:_A({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:_A({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:_A({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:_A({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},EA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OA=/^'([^]*?)'?$/,TA=/''/g,CA=/[a-zA-Z]/;function NA(e,t,n){var r,i,o,a,s,l,c,u,d,h,f,p,m,g,y,v,b,w;IP(2,arguments);var x=String(t),_=RP(),S=null!==(r=null!==(i=null==n?void 0:n.locale)&&void 0!==i?i:_.locale)&&void 0!==r?r:kA,k=AP(null!==(o=null!==(a=null!==(s=null!==(l=null==n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null==n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:_.firstWeekContainsDate)&&void 0!==a?a:null===(d=_.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==o?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=AP(null!==(f=null!==(p=null!==(m=null!==(g=null==n?void 0:n.weekStartsOn)&&void 0!==g?g:null==n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:_.weekStartsOn)&&void 0!==p?p:null===(b=_.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var j=MP(e);if(!UP(j))throw new RangeError("Invalid time value");var O=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(j),T=FP(j,O),C={firstWeekContainsDate:k,weekStartsOn:E,locale:S,_originalDate:j};return x.match(jA).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,fA[t])(e,S.formatLong):e})).join("").match(EA).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(OA);if(!t)return e;return t[1].replace(TA,"'")}(r);var o,a=sA[i];if(a)return null!=n&&n.useAdditionalWeekYearTokens||(o=r,-1===mA.indexOf(o))||gA(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==pA.indexOf(e)}(r)||gA(r,t,String(e)),a(T,r,S.localize,C);if(i.match(CA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}function PA(e,t){return IP(2,arguments),function(e,t){IP(2,arguments);var n=MP(e),r=AP(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}(e,-AP(t))}var AA={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},IA={date:vA({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:vA({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:vA({formats:{full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},MA={lastWeek:function(e){var t=e.getUTCDay();return"'"+(0===t||6===t?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},DA={ordinalNumber:function(e,t){var n=Number(e);return"week"===(null==t?void 0:t.unit)?n+"ª":n+"º"},era:xA({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:xA({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:xA({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:xA({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},defaultWidth:"wide"}),dayPeriod:xA({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},RA={code:"pt-BR",formatDistance:function(e,t,n){var r,i=AA[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",String(t)),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"há "+r:r},formatLong:IA,formatRelative:function(e,t,n,r){var i=MA[e];return"function"==typeof i?i(t):i},localize:DA,match:{ordinalNumber:SA({matchPattern:/^(\d+)[ºªo]?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:_A({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:_A({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:_A({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:_A({matchPatterns:{narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},defaultParseWidth:"any"}),dayPeriod:_A({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};const LA=H.createContext({}),UA=!0;function FA({baseColor:e,highlightColor:t,width:n,height:r,borderRadius:i,circle:o,direction:a,duration:s,enableAnimation:l=true,customHighlightBackground:c}){const u={};return"rtl"===a&&(u["--animation-direction"]="reverse"),"number"==typeof s&&(u["--animation-duration"]=`${s}s`),l||(u["--pseudo-element-display"]="none"),"string"!=typeof n&&"number"!=typeof n||(u.width=n),"string"!=typeof r&&"number"!=typeof r||(u.height=r),"string"!=typeof i&&"number"!=typeof i||(u.borderRadius=i),o&&(u.borderRadius="50%"),void 0!==e&&(u["--base-color"]=e),void 0!==t&&(u["--highlight-color"]=t),"string"==typeof c&&(u["--custom-highlight-background"]=c),u}function zA({count:e=1,wrapper:t,className:n,containerClassName:r,containerTestId:i,circle:o=!1,style:a,...s}){var l,c,u;const d=H.useContext(LA),h={...s};for(const[b,w]of Object.entries(s))void 0===w&&delete h[b];const f={...d,...h,circle:o},p={...a,...FA(f)};let m="react-loading-skeleton";n&&(m+=` ${n}`);const g=null!==(l=f.inline)&&void 0!==l&&l,y=[],v=Math.ceil(e);for(let b=0;b<v;b++){let t=p;if(v>e&&b===v-1){const n=null!==(c=t.width)&&void 0!==c?c:"100%",r=e%1,i="number"==typeof n?n*r:`calc(${n} * ${r})`;t={...t,width:i}}const n=H.createElement("span",{className:m,style:t,key:b},"‌");g?y.push(n):y.push(H.createElement(H.Fragment,{key:b},n,H.createElement("br",null)))}return H.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":null!==(u=f.enableAnimation)&&void 0!==u?u:UA},t?y.map(((e,n)=>H.createElement(t,{key:n},e))):y)}function $A(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$A(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function BA(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$A(e))&&(r&&(r+=" "),r+=t);return r}var VA=Array.isArray,qA="object"==typeof i&&i&&i.Object===Object&&i,WA=qA,HA="object"==typeof self&&self&&self.Object===Object&&self,KA=WA||HA||Function("return this")(),GA=KA.Symbol,YA=GA,QA=Object.prototype,XA=QA.hasOwnProperty,JA=QA.toString,ZA=YA?YA.toStringTag:void 0;var eI=function(e){var t=XA.call(e,ZA),n=e[ZA];try{e[ZA]=void 0;var r=!0}catch($j){}var i=JA.call(e);return r&&(t?e[ZA]=n:delete e[ZA]),i},tI=Object.prototype.toString;var nI=eI,rI=function(e){return tI.call(e)},iI=GA?GA.toStringTag:void 0;var oI=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":iI&&iI in Object(e)?nI(e):rI(e)};var aI=function(e){return null!=e&&"object"==typeof e},sI=oI,lI=aI;var cI=function(e){return"symbol"==typeof e||lI(e)&&"[object Symbol]"==sI(e)},uI=VA,dI=cI,hI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fI=/^\w*$/;var pI=function(e,t){if(uI(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!dI(e))||(fI.test(e)||!hI.test(e)||null!=t&&e in Object(t))};var mI=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const gI=o(mI);var yI=oI,vI=mI;var bI=function(e){if(!vI(e))return!1;var t=yI(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const wI=o(bI);var xI,_I=KA["__core-js_shared__"],SI=(xI=/[^.]+$/.exec(_I&&_I.keys&&_I.keys.IE_PROTO||""))?"Symbol(src)_1."+xI:"";var kI=function(e){return!!SI&&SI in e},EI=Function.prototype.toString;var jI=function(e){if(null!=e){try{return EI.call(e)}catch($j){}try{return e+""}catch($j){}}return""},OI=bI,TI=kI,CI=mI,NI=jI,PI=/^\[object .+?Constructor\]$/,AI=Function.prototype,II=Object.prototype,MI=AI.toString,DI=II.hasOwnProperty,RI=RegExp("^"+MI.call(DI).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var LI=function(e){return!(!CI(e)||TI(e))&&(OI(e)?RI:PI).test(NI(e))},UI=function(e,t){return null==e?void 0:e[t]};var FI=function(e,t){var n=UI(e,t);return LI(n)?n:void 0},zI=FI(Object,"create"),$I=zI;var BI=function(){this.__data__=$I?$I(null):{},this.size=0};var VI=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qI=zI,WI=Object.prototype.hasOwnProperty;var HI=function(e){var t=this.__data__;if(qI){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return WI.call(t,e)?t[e]:void 0},KI=zI,GI=Object.prototype.hasOwnProperty;var YI=zI;var QI=BI,XI=VI,JI=HI,ZI=function(e){var t=this.__data__;return KI?void 0!==t[e]:GI.call(t,e)},eM=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=YI&&void 0===t?"__lodash_hash_undefined__":t,this};function tM(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tM.prototype.clear=QI,tM.prototype.delete=XI,tM.prototype.get=JI,tM.prototype.has=ZI,tM.prototype.set=eM;var nM=tM;var rM=function(){this.__data__=[],this.size=0};var iM=function(e,t){return e===t||e!=e&&t!=t},oM=iM;var aM=function(e,t){for(var n=e.length;n--;)if(oM(e[n][0],t))return n;return-1},sM=aM,lM=Array.prototype.splice;var cM=aM;var uM=aM;var dM=aM;var hM=rM,fM=function(e){var t=this.__data__,n=sM(t,e);return!(n<0)&&(n==t.length-1?t.pop():lM.call(t,n,1),--this.size,!0)},pM=function(e){var t=this.__data__,n=cM(t,e);return n<0?void 0:t[n][1]},mM=function(e){return uM(this.__data__,e)>-1},gM=function(e,t){var n=this.__data__,r=dM(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function yM(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yM.prototype.clear=hM,yM.prototype.delete=fM,yM.prototype.get=pM,yM.prototype.has=mM,yM.prototype.set=gM;var vM=yM,bM=FI(KA,"Map"),wM=nM,xM=vM,_M=bM;var SM=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var kM=function(e,t){var n=e.__data__;return SM(t)?n["string"==typeof t?"string":"hash"]:n.map},EM=kM;var jM=kM;var OM=kM;var TM=kM;var CM=function(){this.size=0,this.__data__={hash:new wM,map:new(_M||xM),string:new wM}},NM=function(e){var t=EM(this,e).delete(e);return this.size-=t?1:0,t},PM=function(e){return jM(this,e).get(e)},AM=function(e){return OM(this,e).has(e)},IM=function(e,t){var n=TM(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function MM(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}MM.prototype.clear=CM,MM.prototype.delete=NM,MM.prototype.get=PM,MM.prototype.has=AM,MM.prototype.set=IM;var DM=MM,RM=DM;function LM(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(LM.Cache||RM),n}LM.Cache=RM;var UM=LM;const FM=o(UM);var zM=UM;var $M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BM=/\\(\\)?/g,VM=function(e){var t=zM(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($M,(function(e,n,r,i){t.push(r?i.replace(BM,"$1"):n||e)})),t}));var qM=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},WM=qM,HM=VA,KM=cI,GM=GA?GA.prototype:void 0,YM=GM?GM.toString:void 0;var QM=function e(t){if("string"==typeof t)return t;if(HM(t))return WM(t,e)+"";if(KM(t))return YM?YM.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},XM=QM;var JM=function(e){return null==e?"":XM(e)},ZM=VA,eD=pI,tD=VM,nD=JM;var rD=function(e,t){return ZM(e)?e:eD(e,t)?[e]:tD(nD(e))},iD=cI;var oD=function(e){if("string"==typeof e||iD(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},aD=rD,sD=oD;var lD=function(e,t){for(var n=0,r=(t=aD(t,e)).length;null!=e&&n<r;)e=e[sD(t[n++])];return n&&n==r?e:void 0},cD=lD;var uD=function(e,t,n){var r=null==e?void 0:cD(e,t);return void 0===r?n:r};const dD=o(uD);const hD=o((function(e){return null==e}));var fD=oI,pD=VA,mD=aI;const gD=o((function(e){return"string"==typeof e||!pD(e)&&mD(e)&&"[object String]"==fD(e)}));var yD,vD={exports:{}},bD={},wD=Symbol.for("react.element"),xD=Symbol.for("react.portal"),_D=Symbol.for("react.fragment"),SD=Symbol.for("react.strict_mode"),kD=Symbol.for("react.profiler"),ED=Symbol.for("react.provider"),jD=Symbol.for("react.context"),OD=Symbol.for("react.server_context"),TD=Symbol.for("react.forward_ref"),CD=Symbol.for("react.suspense"),ND=Symbol.for("react.suspense_list"),PD=Symbol.for("react.memo"),AD=Symbol.for("react.lazy"),ID=Symbol.for("react.offscreen");function MD(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case wD:switch(e=e.type){case _D:case kD:case SD:case CD:case ND:return e;default:switch(e=e&&e.$$typeof){case OD:case jD:case TD:case AD:case PD:case ED:return e;default:return t}}case xD:return t}}}yD=Symbol.for("react.module.reference"),bD.ContextConsumer=jD,bD.ContextProvider=ED,bD.Element=wD,bD.ForwardRef=TD,bD.Fragment=_D,bD.Lazy=AD,bD.Memo=PD,bD.Portal=xD,bD.Profiler=kD,bD.StrictMode=SD,bD.Suspense=CD,bD.SuspenseList=ND,bD.isAsyncMode=function(){return!1},bD.isConcurrentMode=function(){return!1},bD.isContextConsumer=function(e){return MD(e)===jD},bD.isContextProvider=function(e){return MD(e)===ED},bD.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===wD},bD.isForwardRef=function(e){return MD(e)===TD},bD.isFragment=function(e){return MD(e)===_D},bD.isLazy=function(e){return MD(e)===AD},bD.isMemo=function(e){return MD(e)===PD},bD.isPortal=function(e){return MD(e)===xD},bD.isProfiler=function(e){return MD(e)===kD},bD.isStrictMode=function(e){return MD(e)===SD},bD.isSuspense=function(e){return MD(e)===CD},bD.isSuspenseList=function(e){return MD(e)===ND},bD.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===_D||e===kD||e===SD||e===CD||e===ND||e===ID||"object"==typeof e&&null!==e&&(e.$$typeof===AD||e.$$typeof===PD||e.$$typeof===ED||e.$$typeof===jD||e.$$typeof===TD||e.$$typeof===yD||void 0!==e.getModuleId)},bD.typeOf=MD,vD.exports=bD;var DD=vD.exports,RD=oI,LD=aI;var UD=function(e){return"number"==typeof e||LD(e)&&"[object Number]"==RD(e)};const FD=o(UD);var zD=UD;const $D=o((function(e){return zD(e)&&e!=+e}));var BD=function(e){return 0===e?0:e>0?1:-1},VD=function(e){return gD(e)&&e.indexOf("%")===e.length-1},qD=function(e){return FD(e)&&!$D(e)},WD=function(e){return qD(e)||gD(e)},HD=0,KD=function(e){var t=++HD;return"".concat(e||"").concat(t)},GD=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!qD(e)&&!gD(e))return r;if(VD(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return $D(n)&&(n=r),i&&n>t&&(n=t),n},YD=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},QD=function(e,t){return qD(e)&&qD(t)?function(n){return e+n*(t-e)}:function(){return t}};function XD(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):dD(e,t))===n})):null}function JD(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function ZD(e){return(ZD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tR=["points","pathLength"],nR={svg:["viewBox","children"],polygon:tR,polyline:tR},rR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iR=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(W.isValidElement(e)&&(n=e.props),!gI(n))return null;var r={};return Object.keys(n).forEach((function(e){rR.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},oR=function(e,t,n){if(!gI(e)||"object"!==ZD(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];rR.includes(i)&&"function"==typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},aR=["children"],sR=["children"];function lR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cR(e){return(cR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var uR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},dR=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},hR=null,fR=null,pR=function e(t){if(t===hR&&Array.isArray(fR))return fR;var n=[];return W.Children.forEach(t,(function(t){hD(t)||(DD.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))})),fR=n,hR=t,n};function mR(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return dR(e)})):[dR(t)],pR(e).forEach((function(e){var t=dD(e,"type.displayName")||dD(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function gR(e,t){var n=mR(e,t);return n&&n[0]}var yR=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!qD(n)||n<=0||!qD(r)||r<=0)},vR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bR=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(W.isValidElement(e)&&(r=e.props),!gI(r))return null;var i={};return Object.keys(r).forEach((function(e){var o;(function(e,t,n,r){var i,o=null!==(i=null==nR?void 0:nR[r])&&void 0!==i?i:[];return!wI(e)&&(r&&o.includes(t)||eR.includes(t))||n&&rR.includes(t)})(null===(o=r)||void 0===o?void 0:o[e],e,t,n)&&(i[e]=r[e])})),i},wR=function e(t,n){if(t===n)return!0;var r=W.Children.count(t);if(r!==W.Children.count(n))return!1;if(0===r)return!0;if(1===r)return xR(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!xR(o,a))return!1}return!0},xR=function(e,t){if(hD(e)&&hD(t))return!0;if(!hD(e)&&!hD(t)){var n=e.props||{},r=n.children,i=lR(n,aR),o=t.props||{},a=o.children,s=lR(o,sR);return r&&a?JD(i,s)&&wR(r,a):!r&&!a&&JD(i,s)}return!1},_R=function(e,t){var n=[],r={};return pR(e).forEach((function(e,i){if(function(e){return e&&e.type&&gD(e.type)&&vR.indexOf(e.type)>=0}(e))n.push(e);else if(e){var o=dR(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}})),n},SR=["children","width","height","viewBox","className","style","title","desc"];function kR(){return kR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kR.apply(this,arguments)}function ER(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jR(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,c=ER(e,SR),u=i||{width:n,height:r,x:0,y:0},d=BA("recharts-surface",o);return H.createElement("svg",kR({},bR(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),H.createElement("title",null,s),H.createElement("desc",null,l),t)}var OR=["children","className"];function TR(){return TR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TR.apply(this,arguments)}function CR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var NR=H.forwardRef((function(e,t){var n=e.children,r=e.className,i=CR(e,OR),o=BA("recharts-layer",r);return H.createElement("g",TR({className:o},bR(i,!0),{ref:t}),n)})),PR=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};var AR=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var IR=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:AR(e,t,n)},MR=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var DR=function(e){return MR.test(e)};var RR=function(e){return e.split("")},LR="\\ud800-\\udfff",UR="["+LR+"]",FR="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",zR="\\ud83c[\\udffb-\\udfff]",$R="[^"+LR+"]",BR="(?:\\ud83c[\\udde6-\\uddff]){2}",VR="[\\ud800-\\udbff][\\udc00-\\udfff]",qR="(?:"+FR+"|"+zR+")"+"?",WR="[\\ufe0e\\ufe0f]?",HR=WR+qR+("(?:\\u200d(?:"+[$R,BR,VR].join("|")+")"+WR+qR+")*"),KR="(?:"+[$R+FR+"?",FR,BR,VR,UR].join("|")+")",GR=RegExp(zR+"(?="+zR+")|"+KR+HR,"g");var YR=RR,QR=DR,XR=function(e){return e.match(GR)||[]};var JR=IR,ZR=DR,eL=function(e){return QR(e)?XR(e):YR(e)},tL=JM;const nL=o(function(e){return function(t){t=tL(t);var n=ZR(t)?eL(t):void 0,r=n?n[0]:t.charAt(0),i=n?JR(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"));function rL(e){return function(){return e}}const iL=Math.cos,oL=Math.sin,aL=Math.sqrt,sL=Math.PI,lL=2*sL,cL=Math.PI,uL=2*cL,dL=1e-6,hL=uL-dL;function fL(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class pL{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?fL:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fL;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>dL)if(Math.abs(u*s-l*c)>dL&&i){let h=n-o,f=r-a,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((cL-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>dL&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+w*s},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>dL||Math.abs(this._y1-c)>dL)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%uL+uL),d>hL?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>dL&&this._append`A${n},${n},0,${+(d>=cL)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function mL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new pL(t)}function gL(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function yL(e){this._context=e}function vL(e){return new yL(e)}function bL(e){return e[0]}function wL(e){return e[1]}function xL(e,t){var n=rL(!0),r=null,i=vL,o=null,a=mL(s);function s(s){var l,c,u,d=(s=gL(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?bL:rL(e),t="function"==typeof t?t:void 0===t?wL:rL(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:rL(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:rL(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:rL(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function _L(e,t,n){var r=null,i=rL(!0),o=null,a=vL,s=null,l=mL(c);function c(c){var u,d,h,f,p,m=(c=gL(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return xL().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?bL:rL(+e),t="function"==typeof t?t:rL(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?wL:rL(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:rL(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:rL(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:rL(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:rL(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:rL(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:rL(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:rL(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}yL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class SL{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const kL={draw(e,t){const n=aL(t/sL);e.moveTo(n,0),e.arc(0,0,n,0,lL)}},EL={draw(e,t){const n=aL(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},jL=aL(1/3),OL=2*jL,TL={draw(e,t){const n=aL(t/OL),r=n*jL;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},CL={draw(e,t){const n=aL(t),r=-n/2;e.rect(r,r,n,n)}},NL=oL(sL/10)/oL(7*sL/10),PL=oL(lL/10)*NL,AL=-iL(lL/10)*NL,IL={draw(e,t){const n=aL(.8908130915292852*t),r=PL*n,i=AL*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=lL*o/5,a=iL(t),s=oL(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},ML=aL(3),DL={draw(e,t){const n=-aL(t/(3*ML));e.moveTo(0,2*n),e.lineTo(-ML*n,-n),e.lineTo(ML*n,-n),e.closePath()}},RL=-.5,LL=aL(3)/2,UL=1/aL(12),FL=3*(UL/2+1),zL={draw(e,t){const n=aL(t/FL),r=n/2,i=n*UL,o=r,a=n*UL+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(RL*r-LL*i,LL*r+RL*i),e.lineTo(RL*o-LL*a,LL*o+RL*a),e.lineTo(RL*s-LL*l,LL*s+RL*l),e.lineTo(RL*r+LL*i,RL*i-LL*r),e.lineTo(RL*o+LL*a,RL*a-LL*o),e.lineTo(RL*s+LL*l,RL*l-LL*s),e.closePath()}};function $L(){}function BL(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function VL(e){this._context=e}function qL(e){this._context=e}function WL(e){this._context=e}function HL(e){this._context=e}function KL(e){return e<0?-1:1}function GL(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(KL(o)+KL(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function YL(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function QL(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function XL(e){this._context=e}function JL(e){this._context=new ZL(e)}function ZL(e){this._context=e}function eU(e){this._context=e}function tU(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function nU(e,t){this._context=e,this._t=t}function rU(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function iU(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function oU(e,t){return e[t]}function aU(e){const t=[];return t.key=e,t}function sU(e){return(sU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}VL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:BL(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:BL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},qL.prototype={areaStart:$L,areaEnd:$L,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:BL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},WL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:BL(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},HL.prototype={areaStart:$L,areaEnd:$L,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},XL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:QL(this,this._t0,YL(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,QL(this,YL(this,n=GL(this,e,t)),n);break;default:QL(this,this._t0,n=GL(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(JL.prototype=Object.create(XL.prototype)).point=function(e,t){XL.prototype.point.call(this,t,e)},ZL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},eU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=tU(e),i=tU(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},nU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var lU=["type","size","sizeType"];function cU(){return cU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cU.apply(this,arguments)}function uU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uU(Object(n),!0).forEach((function(t){hU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pU={symbolCircle:kL,symbolCross:EL,symbolDiamond:TL,symbolSquare:CL,symbolStar:IL,symbolTriangle:DL,symbolWye:zL},mU=Math.PI/180,gU=function(e){var t,n,r=e.type,i=void 0===r?"circle":r,o=e.size,a=void 0===o?64:o,s=e.sizeType,l=void 0===s?"area":s,c=dU(dU({},fU(e,lU)),{},{type:i,size:a,sizeType:l}),u=c.className,d=c.cx,h=c.cy,f=bR(c,!0);return d===+d&&h===+h&&a===+a?H.createElement("path",cU({},f,{className:BA("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(h,")"),d:(t=function(e){var t="symbol".concat(nL(e));return pU[t]||kL}(i),n=function(e,t){let n=null,r=mL(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:rL(e||kL),t="function"==typeof t?t:rL(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:rL(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:rL(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*mU;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,l,i)),n())})):null};function yU(e){return(yU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vU(){return vU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vU.apply(this,arguments)}function bU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wU(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jU(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xU(e,t,n){return t=SU(t),function(e,t){if(t&&("object"===yU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_U()?Reflect.construct(t,n||[],SU(e).constructor):t.apply(e,n))}function _U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_U=function(){return!!e})()}function SU(e){return(SU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kU(e,t){return(kU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function EU(e,t,n){return(t=jU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jU(e){var t=function(e,t){if("object"!=yU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yU(t)?t:t+""}gU.registerSymbol=function(e,t){pU["symbol".concat(nL(e))]=t};var OU=32,TU=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xU(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kU(e,t)}(e,W.PureComponent),wU(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=OU/6,i=OU/3,o=e.inactive?t:e.color;if("plainline"===e.type)return H.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:OU,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return H.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(OU,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return H.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(OU,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(H.isValidElement(e.legendIcon)){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bU(Object(n),!0).forEach((function(t){EU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete a.legendIcon,H.cloneElement(e.legendIcon,a)}return H.createElement(gU,{fill:o,cx:n,cy:n,size:OU,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,i=t.layout,o=t.formatter,a=t.inactiveColor,s={x:0,y:0,width:OU,height:OU},l={display:"horizontal"===i?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var i=t.formatter||o,u=BA(EU(EU({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=wI(t.value)?null:t.value;PR(!wI(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?a:t.color;return H.createElement("li",vU({className:u,style:l,key:"legend-item-".concat(n)},oR(e.props,t,n)),H.createElement(jR,{width:r,height:r,viewBox:s,style:c},e.renderIcon(t)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},i?i(d,t,n):d))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}])}();EU(TU,"displayName","Legend"),EU(TU,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var CU=vM;var NU=vM,PU=bM,AU=DM;var IU=vM,MU=function(){this.__data__=new CU,this.size=0},DU=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},RU=function(e){return this.__data__.get(e)},LU=function(e){return this.__data__.has(e)},UU=function(e,t){var n=this.__data__;if(n instanceof NU){var r=n.__data__;if(!PU||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new AU(r)}return n.set(e,t),this.size=n.size,this};function FU(e){var t=this.__data__=new IU(e);this.size=t.size}FU.prototype.clear=MU,FU.prototype.delete=DU,FU.prototype.get=RU,FU.prototype.has=LU,FU.prototype.set=UU;var zU=FU;var $U=DM,BU=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},VU=function(e){return this.__data__.has(e)};function qU(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new $U;++t<n;)this.add(e[t])}qU.prototype.add=qU.prototype.push=BU,qU.prototype.has=VU;var WU=qU;var HU=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var KU=function(e,t){return e.has(t)},GU=WU,YU=HU,QU=KU;var XU=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new GU:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=a?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!YU(t,(function(e,t){if(!QU(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};var JU=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},ZU=KA.Uint8Array,eF=iM,tF=XU,nF=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},rF=JU,iF=GA?GA.prototype:void 0,oF=iF?iF.valueOf:void 0;var aF=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new ZU(e),new ZU(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eF(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=nF;case"[object Set]":var l=1&r;if(s||(s=rF),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=tF(s(e),s(t),r,i,o,a);return a.delete(e),u;case"[object Symbol]":if(oF)return oF.call(e)==oF.call(t)}return!1};var sF=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},lF=sF,cF=VA;var uF=function(e,t,n){var r=t(e);return cF(e)?r:lF(r,n(e))};var dF=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},hF=function(){return[]},fF=Object.prototype.propertyIsEnumerable,pF=Object.getOwnPropertySymbols,mF=pF?function(e){return null==e?[]:(e=Object(e),dF(pF(e),(function(t){return fF.call(e,t)})))}:hF;var gF=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},yF=oI,vF=aI;var bF,wF,xF,_F,SF,kF,EF,jF,OF=function(e){return vF(e)&&"[object Arguments]"==yF(e)},TF=aI,CF=Object.prototype,NF=CF.hasOwnProperty,PF=CF.propertyIsEnumerable,AF=OF(function(){return arguments}())?OF:function(e){return TF(e)&&NF.call(e,"callee")&&!PF.call(e,"callee")},IF={exports:{}};bF=IF,xF=KA,_F=function(){return!1},SF=(wF=IF.exports)&&!wF.nodeType&&wF,kF=SF&&bF&&!bF.nodeType&&bF,EF=kF&&kF.exports===SF?xF.Buffer:void 0,jF=(EF?EF.isBuffer:void 0)||_F,bF.exports=jF;var MF=IF.exports,DF=/^(?:0|[1-9]\d*)$/;var RF=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&DF.test(e))&&e>-1&&e%1==0&&e<t};var LF=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},UF=oI,FF=LF,zF=aI,$F={};$F["[object Float32Array]"]=$F["[object Float64Array]"]=$F["[object Int8Array]"]=$F["[object Int16Array]"]=$F["[object Int32Array]"]=$F["[object Uint8Array]"]=$F["[object Uint8ClampedArray]"]=$F["[object Uint16Array]"]=$F["[object Uint32Array]"]=!0,$F["[object Arguments]"]=$F["[object Array]"]=$F["[object ArrayBuffer]"]=$F["[object Boolean]"]=$F["[object DataView]"]=$F["[object Date]"]=$F["[object Error]"]=$F["[object Function]"]=$F["[object Map]"]=$F["[object Number]"]=$F["[object Object]"]=$F["[object RegExp]"]=$F["[object Set]"]=$F["[object String]"]=$F["[object WeakMap]"]=!1;var BF=function(e){return zF(e)&&FF(e.length)&&!!$F[UF(e)]};var VF=function(e){return function(t){return e(t)}},qF={exports:{}};!function(e,t){var n=qA,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch($j){}}();e.exports=a}(qF,qF.exports);var WF=qF.exports,HF=BF,KF=VF,GF=WF&&WF.isTypedArray,YF=GF?KF(GF):HF,QF=gF,XF=AF,JF=VA,ZF=MF,ez=RF,tz=YF,nz=Object.prototype.hasOwnProperty;var rz=function(e,t){var n=JF(e),r=!n&&XF(e),i=!n&&!r&&ZF(e),o=!n&&!r&&!i&&tz(e),a=n||r||i||o,s=a?QF(e.length,String):[],l=s.length;for(var c in e)!t&&!nz.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ez(c,l))||s.push(c);return s},iz=Object.prototype;var oz=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||iz)};var az=function(e,t){return function(n){return e(t(n))}},sz=az(Object.keys,Object),lz=oz,cz=sz,uz=Object.prototype.hasOwnProperty;var dz=bI,hz=LF;var fz=function(e){return null!=e&&hz(e.length)&&!dz(e)},pz=rz,mz=function(e){if(!lz(e))return cz(e);var t=[];for(var n in Object(e))uz.call(e,n)&&"constructor"!=n&&t.push(n);return t},gz=fz;var yz=function(e){return gz(e)?pz(e):mz(e)},vz=uF,bz=mF,wz=yz;var xz=function(e){return vz(e,wz,bz)},_z=Object.prototype.hasOwnProperty;var Sz=function(e,t,n,r,i,o){var a=1&n,s=xz(e),l=s.length;if(l!=xz(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:_z.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<l;){var m=e[u=s[c]],g=t[u];if(r)var y=a?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===y?m===g||i(m,g,n,r,o):y)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f},kz=FI(KA,"DataView"),Ez=FI(KA,"Promise"),jz=FI(KA,"Set"),Oz=kz,Tz=bM,Cz=Ez,Nz=jz,Pz=FI(KA,"WeakMap"),Az=oI,Iz=jI,Mz="[object Map]",Dz="[object Promise]",Rz="[object Set]",Lz="[object WeakMap]",Uz="[object DataView]",Fz=Iz(Oz),zz=Iz(Tz),$z=Iz(Cz),Bz=Iz(Nz),Vz=Iz(Pz),qz=Az;(Oz&&qz(new Oz(new ArrayBuffer(1)))!=Uz||Tz&&qz(new Tz)!=Mz||Cz&&qz(Cz.resolve())!=Dz||Nz&&qz(new Nz)!=Rz||Pz&&qz(new Pz)!=Lz)&&(qz=function(e){var t=Az(e),n="[object Object]"==t?e.constructor:void 0,r=n?Iz(n):"";if(r)switch(r){case Fz:return Uz;case zz:return Mz;case $z:return Dz;case Bz:return Rz;case Vz:return Lz}return t});var Wz=zU,Hz=XU,Kz=aF,Gz=Sz,Yz=qz,Qz=VA,Xz=MF,Jz=YF,Zz="[object Arguments]",e$="[object Array]",t$="[object Object]",n$=Object.prototype.hasOwnProperty;var r$=function(e,t,n,r,i,o){var a=Qz(e),s=Qz(t),l=a?e$:Yz(e),c=s?e$:Yz(t),u=(l=l==Zz?t$:l)==t$,d=(c=c==Zz?t$:c)==t$,h=l==c;if(h&&Xz(e)){if(!Xz(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new Wz),a||Jz(e)?Hz(e,t,n,r,i,o):Kz(e,t,l,n,r,i,o);if(!(1&n)){var f=u&&n$.call(e,"__wrapped__"),p=d&&n$.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new Wz),i(m,g,n,r,o)}}return!!h&&(o||(o=new Wz),Gz(e,t,n,r,i,o))},i$=aI;var o$=function e(t,n,r,i,o){return t===n||(null==t||null==n||!i$(t)&&!i$(n)?t!=t&&n!=n:r$(t,n,r,i,e,o))},a$=zU,s$=o$;var l$=mI;var c$=function(e){return e==e&&!l$(e)},u$=c$,d$=yz;var h$=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},f$=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new a$;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?s$(u,c,3,r,d):h))return!1}}return!0},p$=function(e){for(var t=d$(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,u$(i)]}return t},m$=h$;var g$=rD,y$=AF,v$=VA,b$=RF,w$=LF,x$=oD;var _$=function(e,t){return null!=e&&t in Object(e)},S$=function(e,t,n){for(var r=-1,i=(t=g$(t,e)).length,o=!1;++r<i;){var a=x$(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&w$(i)&&b$(a,i)&&(v$(e)||y$(e))};var k$=o$,E$=uD,j$=function(e,t){return null!=e&&S$(e,t,_$)},O$=pI,T$=c$,C$=h$,N$=oD;var P$=function(e){return e};var A$=lD;var I$=function(e){return function(t){return null==t?void 0:t[e]}},M$=function(e){return function(t){return A$(t,e)}},D$=pI,R$=oD;var L$=function(e){var t=p$(e);return 1==t.length&&t[0][2]?m$(t[0][0],t[0][1]):function(n){return n===e||f$(n,e,t)}},U$=function(e,t){return O$(e)&&T$(t)?C$(N$(e),t):function(n){var r=E$(n,e);return void 0===r&&r===t?j$(n,e):k$(t,r,3)}},F$=P$,z$=VA,$$=function(e){return D$(e)?I$(R$(e)):M$(e)};var B$=function(e){return"function"==typeof e?e:null==e?F$:"object"==typeof e?z$(e)?U$(e[0],e[1]):L$(e):$$(e)};var V$=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var q$=V$,W$=function(e){return e!=e},H$=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var K$=function(e,t,n){return t==t?H$(e,t,n):q$(e,W$,n)};var G$=function(e,t){return!!(null==e?0:e.length)&&K$(e,t,0)>-1};var Y$=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Q$=jz,X$=function(){},J$=Q$&&1/JU(new Q$([,-0]))[1]==1/0?function(e){return new Q$(e)}:X$,Z$=WU,eB=G$,tB=Y$,nB=KU,rB=J$,iB=JU;var oB=B$,aB=function(e,t,n){var r=-1,i=eB,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=tB;else if(o>=200){var c=t?null:rB(e);if(c)return iB(c);a=!1,i=nB,l=new Z$}else l=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s};const sB=o((function(e,t){return e&&e.length?aB(e,oB(t)):[]}));function lB(e,t,n){return!0===t?sB(e,n):wI(t)?sB(e,t):e}function cB(e){return(cB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var uB=["ref"];function dB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dB(Object(n),!0).forEach((function(t){vB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bB(r.key),r)}}function pB(e,t,n){return t=gB(t),function(e,t){if(t&&("object"===cB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mB()?Reflect.construct(t,n||[],gB(e).constructor):t.apply(e,n))}function mB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mB=function(){return!!e})()}function gB(e){return(gB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yB(e,t){return(yB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vB(e,t,n){return(t=bB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bB(e){var t=function(e,t){if("object"!=cB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cB(t)?t:t+""}function wB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xB(e){return e.value}var _B=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return vB(t=pB(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yB(e,t)}(e,W.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=hB(hB({},this.defaultProps),e.props).layout;return"vertical"===n&&qD(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hB({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),hB(hB({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,i=t.height,o=t.wrapperStyle,a=t.payloadUniqBy,s=t.payload,l=hB(hB({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return H.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if("function"==typeof e)return H.createElement(e,t);t.ref;var n=wB(t,uB);return H.createElement(TU,n)}(n,hB(hB({},this.props),{},{payload:lB(s,a,xB)})))}}])&&fB(t.prototype,n),r&&fB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();vB(_B,"displayName","Legend"),vB(_B,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SB=AF,kB=VA,EB=GA?GA.isConcatSpreadable:void 0;var jB=sF,OB=function(e){return kB(e)||SB(e)||!!(EB&&e&&e[EB])};var TB=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=OB),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):jB(o,l):i||(o[o.length]=l)}return o};var CB=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}(),NB=yz;var PB=function(e,t){return e&&CB(e,t,NB)},AB=fz;var IB=function(e,t){return function(n,r){if(null==n)return n;if(!AB(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(PB),MB=IB,DB=fz;var RB=function(e,t){var n=-1,r=DB(e)?Array(e.length):[];return MB(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};var LB=cI;var UB=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=LB(e),a=void 0!==t,s=null===t,l=t==t,c=LB(t);if(!s&&!c&&!o&&e>t||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0};var FB=qM,zB=lD,$B=B$,BB=RB,VB=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},qB=VF,WB=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=UB(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},HB=P$,KB=VA;var GB=function(e,t,n){t=t.length?FB(t,(function(e){return KB(e)?function(t){return zB(t,1===e.length?e[0]:e)}:e})):[HB];var r=-1;t=FB(t,qB($B));var i=BB(e,(function(e,n,i){return{criteria:FB(t,(function(t){return t(e)})),index:++r,value:e}}));return VB(i,(function(e,t){return WB(e,t,n)}))};var YB=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},QB=Math.max;var XB=function(e,t,n){return t=QB(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=QB(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),YB(e,this,s)}};var JB=function(e){return function(){return e}},ZB=FI,eV=function(){try{var e=ZB(Object,"defineProperty");return e({},"",{}),e}catch($j){}}(),tV=JB,nV=eV,rV=nV?function(e,t){return nV(e,"toString",{configurable:!0,enumerable:!1,value:tV(t),writable:!0})}:P$,iV=Date.now;var oV=function(e){var t=0,n=0;return function(){var r=iV(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(rV),aV=P$,sV=XB,lV=oV;var cV=iM,uV=fz,dV=RF,hV=mI;var fV=function(e,t,n){if(!hV(n))return!1;var r=typeof t;return!!("number"==r?uV(n)&&dV(t,n.length):"string"==r&&t in n)&&cV(n[t],e)},pV=TB,mV=GB,gV=fV;const yV=o(function(e,t){return lV(sV(e,t,aV),e+"")}((function(e,t){if(null==e)return[];var n=t.length;return n>1&&gV(e,t[0],t[1])?t=[]:n>2&&gV(t[0],t[1],t[2])&&(t=[t[0]]),mV(e,pV(t,1),[])})));function vV(e){return(vV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bV(){return bV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bV.apply(this,arguments)}function wV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_V(Object(n),!0).forEach((function(t){kV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EV(e){return Array.isArray(e)&&WD(e[0])&&WD(e[1])?e.join(" ~ "):e}var jV=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,i=void 0===r?{}:r,o=e.itemStyle,a=void 0===o?{}:o,s=e.labelStyle,l=void 0===s?{}:s,c=e.payload,u=e.formatter,d=e.itemSorter,h=e.wrapperClassName,f=e.labelClassName,p=e.label,m=e.labelFormatter,g=e.accessibilityLayer,y=void 0!==g&&g,v=SV({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=SV({margin:0},l),w=!hD(p),x=w?p:"",_=BA("recharts-default-tooltip",h),S=BA("recharts-tooltip-label",f);w&&m&&null!=c&&(x=m(p,c));var k=y?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",bV({className:_,style:v},k),H.createElement("p",{className:S,style:b},H.isValidElement(x)?x:"".concat(x)),function(){if(c&&c.length){var e=(d?yV(c,d):c).map((function(e,t){if("none"===e.type)return null;var r=SV({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a),i=e.formatter||u||EV,o=e.value,s=e.name,l=o,d=s;if(i&&null!=l&&null!=d){var h=i(o,s,e,t,c);if(Array.isArray(h)){var f=wV(h,2);l=f[0],d=f[1]}else l=h}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},WD(d)?H.createElement("span",{className:"recharts-tooltip-item-name"},d):null,WD(d)?H.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,H.createElement("span",{className:"recharts-tooltip-item-value"},l),H.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return H.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function OV(e){return(OV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=OV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CV="recharts-tooltip-wrapper",NV={visibility:"hidden"};function PV(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return BA(CV,TV(TV(TV(TV({},"".concat(CV,"-right"),qD(n)&&t&&qD(t.x)&&n>=t.x),"".concat(CV,"-left"),qD(n)&&t&&qD(t.x)&&n<t.x),"".concat(CV,"-bottom"),qD(r)&&t&&qD(t.y)&&r>=t.y),"".concat(CV,"-top"),qD(r)&&t&&qD(t.y)&&r<t.y))}function AV(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&qD(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function IV(e){return(IV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MV(Object(n),!0).forEach((function(t){$V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RV(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BV(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LV(e,t,n){return t=FV(t),function(e,t){if(t&&("object"===IV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UV()?Reflect.construct(t,n||[],FV(e).constructor):t.apply(e,n))}function UV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(UV=function(){return!!e})()}function FV(e){return(FV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zV(e,t){return(zV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $V(e,t,n){return(t=BV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BV(e){var t=function(e,t){if("object"!=IV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IV(t)?t:t+""}var VV=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $V(t=LV(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$V(t,"handleKeyDown",(function(e){var n,r,i,o;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=t.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zV(e,t)}(e,W.PureComponent),RV(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.children,s=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,u=t.offset,d=t.position,h=t.reverseDirection,f=t.useTranslate3d,p=t.viewBox,m=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=AV({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=AV({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):NV,cssClasses:PV({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:p}),y=g.cssClasses,v=g.cssProperties,b=DV(DV({transition:c&&n?"transform ".concat(i,"ms ").concat(o):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},m);return H.createElement("div",{tabIndex:-1,className:y,style:b,ref:function(t){e.wrapperNode=t}},a)}}])}(),qV={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return qV[e]},set:function(e,t){if("string"==typeof e)qV[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){qV[t]=e[t]}))}}};function WV(e){return(WV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HV(Object(n),!0).forEach((function(t){ZV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GV(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eq(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YV(e,t,n){return t=XV(t),function(e,t){if(t&&("object"===WV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QV()?Reflect.construct(t,n||[],XV(e).constructor):t.apply(e,n))}function QV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(QV=function(){return!!e})()}function XV(e){return(XV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JV(e,t){return(JV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ZV(e,t,n){return(t=eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eq(e){var t=function(e,t){if("object"!=WV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WV(t)?t:t+""}function tq(e){return e.dataKey}var nq=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),YV(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JV(e,t)}(e,W.PureComponent),GV(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,a=t.content,s=t.coordinate,l=t.filterNull,c=t.isAnimationActive,u=t.offset,d=t.payload,h=t.payloadUniqBy,f=t.position,p=t.reverseDirection,m=t.useTranslate3d,g=t.viewBox,y=t.wrapperStyle,v=null!=d?d:[];l&&v.length&&(v=lB(d.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),h,tq));var b=v.length>0;return H.createElement(VV,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:n,coordinate:s,hasPayload:b,offset:u,position:f,reverseDirection:p,useTranslate3d:m,viewBox:g,wrapperStyle:y},function(e,t){return H.isValidElement(e)?H.cloneElement(e,t):"function"==typeof e?H.createElement(e,t):H.createElement(jV,t)}(a,KV(KV({},this.props),{},{payload:v})))}}])}();ZV(nq,"displayName","Tooltip"),ZV(nq,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qV.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rq=KA,iq=/\s/;var oq=function(e){for(var t=e.length;t--&&iq.test(e.charAt(t)););return t},aq=/^\s+/;var sq=function(e){return e?e.slice(0,oq(e)+1).replace(aq,""):e},lq=mI,cq=cI,uq=/^[-+]0x[0-9a-f]+$/i,dq=/^0b[01]+$/i,hq=/^0o[0-7]+$/i,fq=parseInt;var pq=function(e){if("number"==typeof e)return e;if(cq(e))return NaN;if(lq(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=lq(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=sq(e);var n=dq.test(e);return n||hq.test(e)?fq(e.slice(2),n?2:8):uq.test(e)?NaN:+e},mq=mI,gq=function(){return rq.Date.now()},yq=pq,vq=Math.max,bq=Math.min;var wq=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function m(){var e=gq();if(p(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?bq(n,o-(e-c)):n}(e))}function g(e){return s=void 0,h&&r?f(e):(r=i=void 0,a)}function y(){var e=gq(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?f(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=yq(t)||0,mq(n)&&(u=!!n.leading,o=(d="maxWait"in n)?vq(yq(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:g(gq())},y},xq=wq,_q=mI;var Sq=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return _q(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xq(e,t,{leading:r,maxWait:t,trailing:i})};const kq=o(Sq);function Eq(e){return(Eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jq(Object(n),!0).forEach((function(t){Tq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Eq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Eq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pq=W.forwardRef((function(e,t){var n=e.aspect,r=e.initialDimension,i=void 0===r?{width:-1,height:-1}:r,o=e.width,a=void 0===o?"100%":o,s=e.height,l=void 0===s?"100%":s,c=e.minWidth,u=void 0===c?0:c,d=e.minHeight,h=e.maxHeight,f=e.children,p=e.debounce,m=void 0===p?0:p,g=e.id,y=e.className,v=e.onResize,b=e.style,w=void 0===b?{}:b,x=W.useRef(null),_=W.useRef();_.current=v,W.useImperativeHandle(t,(function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})}));var S=Cq(W.useState({containerWidth:i.width,containerHeight:i.height}),2),k=S[0],E=S[1],j=W.useCallback((function(e,t){E((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);W.useEffect((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;j(r,i),null===(t=_.current)||void 0===t||t.call(_,r,i)};m>0&&(e=kq(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=x.current.getBoundingClientRect(),r=n.width,i=n.height;return j(r,i),t.observe(x.current),function(){t.disconnect()}}),[j,m]);var O=W.useMemo((function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;PR(VD(a)||VD(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,l),PR(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=VD(a)?e:a,i=VD(l)?t:l;n&&n>0&&(r?i=r/n:i&&(r=i*n),h&&i>h&&(i=h)),PR(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,a,l,u,d,n);var o=!Array.isArray(f)&&dR(f.type).endsWith("Chart");return H.Children.map(f,(function(e){return H.isValidElement(e)?W.cloneElement(e,Oq({width:r,height:i},o?{style:Oq({height:"100%",width:"100%",maxHeight:i,maxWidth:r},e.props.style)}:{})):e}))}),[n,f,l,h,d,u,k,a]);return H.createElement("div",{id:g?"".concat(g):void 0,className:BA("recharts-responsive-container",y),style:Oq(Oq({},w),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:x},O)})),Aq=function(e){return null};function Iq(e){return(Iq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mq(Object(n),!0).forEach((function(t){Rq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Iq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Iq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Iq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Aq.displayName="Cell";var Lq={widthCache:{},cacheCount:0},Uq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Fq="recharts_measurement_span";var zq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||qV.isSsr)return{width:0,height:0};var n,r=(n=Dq({},t),Object.keys(n).forEach((function(e){n[e]||delete n[e]})),n),i=JSON.stringify({text:e,copyStyle:r});if(Lq.widthCache[i])return Lq.widthCache[i];try{var o=document.getElementById(Fq);o||((o=document.createElement("span")).setAttribute("id",Fq),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Dq(Dq({},Uq),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Lq.widthCache[i]=l,++Lq.cacheCount>2e3&&(Lq.cacheCount=0,Lq.widthCache={}),l}catch($j){return{width:0,height:0}}};function $q(e){return($q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wq(r.key),r)}}function Wq(e){var t=function(e,t){if("object"!=$q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=$q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==$q(t)?t:t+""}var Hq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Xq=Object.keys(Qq),Jq="NaN";var Zq=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Gq.test(n)||(this.num=NaN,this.unit=""),Xq.includes(n)&&(this.num=function(e,t){return e*Qq[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Bq(null!==(n=Yq.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!=o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&qq(t.prototype,n),r&&qq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function eW(e){if(e.includes(Jq))return Jq;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Bq(null!==(n=Hq.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=Zq.parse(null!=i?i:""),l=Zq.parse(null!=a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return Jq;t=t.replace(Hq,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Bq(null!==(u=Kq.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=Zq.parse(null!=h?h:""),g=Zq.parse(null!=p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return Jq;t=t.replace(Kq,y.toString())}return t}var tW=/\(([^()]*)\)/;function nW(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Bq(tW.exec(t),2)[1];t=t.replace(tW,eW(n))}return t}(t),t=eW(t)}function rW(e){var t=function(e){try{return nW(e)}catch($j){return Jq}}(e.slice(5,-1));return t===Jq?"":t}var iW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oW=["dx","dy","angle","className","breakAll"];function aW(){return aW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aW.apply(this,arguments)}function sW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uW=/[ \f\n\r\t\v\u2028\u2029]+/,dW=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return hD(t)||(i=n?t.toString().split(""):t.toString().split(uW)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:zq(e,r).width}})),spaceWidth:n?0:zq(" ",r).width}}catch($j){return null}},hW=function(e){return[{words:hD(e)?[]:e.toString().split(uW)}]},fW=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!qV.isSsr){var s=dW({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=qD(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=dW({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=lW(p(v-1),2),w=b[0],x=b[1],_=lW(p(v),1)[0];if(w||_||(m=v+1),w&&_&&(g=v-1),!w&&_){f=x;break}y++}return f||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):hW(r)}return hW(r)},pW="#808080",mW=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.lineHeight,a=void 0===o?"1em":o,s=e.capHeight,l=void 0===s?"0.71em":s,c=e.scaleToFit,u=void 0!==c&&c,d=e.textAnchor,h=void 0===d?"start":d,f=e.verticalAnchor,p=void 0===f?"end":f,m=e.fill,g=void 0===m?pW:m,y=sW(e,iW),v=W.useMemo((function(){return fW({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})}),[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),b=y.dx,w=y.dy,x=y.angle,_=y.className,S=y.breakAll,k=sW(y,oW);if(!WD(n)||!WD(i))return null;var E,j=n+(qD(b)?b:0),O=i+(qD(w)?w:0);switch(p){case"start":E=rW("calc(".concat(l,")"));break;case"middle":E=rW("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:E=rW("calc(".concat(v.length-1," * -").concat(a,")"))}var T=[];if(u){var C=v[0].width,N=y.width;T.push("scale(".concat((qD(N)?N/C:1)/C,")"))}return x&&T.push("rotate(".concat(x,", ").concat(j,", ").concat(O,")")),T.length&&(k.transform=T.join(" ")),H.createElement("text",aW({},bR(k,!0),{x:j,y:O,className:BA("recharts-text",_),textAnchor:h,fill:g.includes("url")?pW:g}),v.map((function(e,t){var n=e.words.join(S?"":" ");return H.createElement("tspan",{x:j,dy:0===t?E:a,key:"".concat(n,"-").concat(t)},n)})))};function gW(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yW(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vW(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=gW,n=(t,n)=>gW(e(t),n),r=(t,n)=>e(t)-n):(t=e===gW||e===yW?e:bW,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function bW(){return 0}function wW(e){return null===e?NaN:+e}const xW=vW(gW).right;vW(wW).center;class _W extends Map{constructor(e,t=kW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(SW(this,e))}has(e){return super.has(SW(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function SW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function kW(e){return null!==e&&"object"==typeof e?e.valueOf():e}function EW(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const jW=Math.sqrt(50),OW=Math.sqrt(10),TW=Math.sqrt(2);function CW(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=jW?10:o>=OW?5:o>=TW?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?CW(e,t,2*n):[s,l,c]}function NW(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?CW(t,e,n):CW(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function PW(e,t,n){return CW(e=+e,t=+t,n=+n)[2]}function AW(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?PW(t,e,n):PW(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function IW(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function MW(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function DW(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?EW:function(e=gW){if(e===gW)return EW;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);DW(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(RW(e,n,t),i(e[r],o)>0&&RW(e,n,r);a<s;){for(RW(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?RW(e,n,s):(++s,RW(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function RW(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function LW(e,t,n=wW){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function UW(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function FW(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const zW=Symbol("implicit");function $W(){var e=new _W,t=[],n=[],r=zW;function i(i){let o=e.get(i);if(void 0===o){if(r!==zW)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new _W;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return $W(t,n).unknown(r)},UW.apply(i,arguments),i}function BW(){var e,t,n=$W().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return h+e*t}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return BW(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},UW.apply(d(),arguments)}function VW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VW(t())},e}function qW(){return VW(BW.apply(null,arguments).paddingInner(1))}function WW(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HW(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function KW(){}var GW=.7,YW=1/GW,QW="\\s*([+-]?\\d+)\\s*",XW="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",JW="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZW=/^#([0-9a-f]{3,8})$/,eH=new RegExp(`^rgb\\(${QW},${QW},${QW}\\)$`),tH=new RegExp(`^rgb\\(${JW},${JW},${JW}\\)$`),nH=new RegExp(`^rgba\\(${QW},${QW},${QW},${XW}\\)$`),rH=new RegExp(`^rgba\\(${JW},${JW},${JW},${XW}\\)$`),iH=new RegExp(`^hsl\\(${XW},${JW},${JW}\\)$`),oH=new RegExp(`^hsla\\(${XW},${JW},${JW},${XW}\\)$`),aH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function sH(){return this.rgb().formatHex()}function lH(){return this.rgb().formatRgb()}function cH(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ZW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?uH(t):3===n?new fH(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?dH(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?dH(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=eH.exec(e))?new fH(t[1],t[2],t[3],1):(t=tH.exec(e))?new fH(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=nH.exec(e))?dH(t[1],t[2],t[3],t[4]):(t=rH.exec(e))?dH(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=iH.exec(e))?bH(t[1],t[2]/100,t[3]/100,1):(t=oH.exec(e))?bH(t[1],t[2]/100,t[3]/100,t[4]):aH.hasOwnProperty(e)?uH(aH[e]):"transparent"===e?new fH(NaN,NaN,NaN,0):null}function uH(e){return new fH(e>>16&255,e>>8&255,255&e,1)}function dH(e,t,n,r){return r<=0&&(e=t=n=NaN),new fH(e,t,n,r)}function hH(e,t,n,r){return 1===arguments.length?((i=e)instanceof KW||(i=cH(i)),i?new fH((i=i.rgb()).r,i.g,i.b,i.opacity):new fH):new fH(e,t,n,null==r?1:r);var i}function fH(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function pH(){return`#${vH(this.r)}${vH(this.g)}${vH(this.b)}`}function mH(){const e=gH(this.opacity);return`${1===e?"rgb(":"rgba("}${yH(this.r)}, ${yH(this.g)}, ${yH(this.b)}${1===e?")":`, ${e})`}`}function gH(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yH(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vH(e){return((e=yH(e))<16?"0":"")+e.toString(16)}function bH(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xH(e,t,n,r)}function wH(e){if(e instanceof xH)return new xH(e.h,e.s,e.l,e.opacity);if(e instanceof KW||(e=cH(e)),!e)return new xH;if(e instanceof xH)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new xH(a,s,l,e.opacity)}function xH(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function _H(e){return(e=(e||0)%360)<0?e+360:e}function SH(e){return Math.max(0,Math.min(1,e||0))}function kH(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}WW(KW,cH,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sH,formatHex:sH,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return wH(this).formatHsl()},formatRgb:lH,toString:lH}),WW(fH,hH,HW(KW,{brighter(e){return e=null==e?YW:Math.pow(YW,e),new fH(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?GW:Math.pow(GW,e),new fH(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fH(yH(this.r),yH(this.g),yH(this.b),gH(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pH,formatHex:pH,formatHex8:function(){return`#${vH(this.r)}${vH(this.g)}${vH(this.b)}${vH(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:mH,toString:mH})),WW(xH,(function(e,t,n,r){return 1===arguments.length?wH(e):new xH(e,t,n,null==r?1:r)}),HW(KW,{brighter(e){return e=null==e?YW:Math.pow(YW,e),new xH(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?GW:Math.pow(GW,e),new xH(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new fH(kH(e>=240?e-240:e+120,i,r),kH(e,i,r),kH(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xH(_H(this.h),SH(this.s),SH(this.l),gH(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gH(this.opacity);return`${1===e?"hsl(":"hsla("}${_H(this.h)}, ${100*SH(this.s)}%, ${100*SH(this.l)}%${1===e?")":`, ${e})`}`}}));const EH=e=>()=>e;function jH(e){return 1==(e=+e)?OH:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):EH(isNaN(t)?n:t)}}function OH(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):EH(isNaN(e)?t:e)}const TH=function e(t){var n=jH(t);function r(e,t){var r=n((e=hH(e)).r,(t=hH(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=OH(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function CH(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function NH(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=LH(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function PH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function AH(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function IH(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=LH(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var MH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DH=new RegExp(MH.source,"g");function RH(e,t){var n,r,i,o=MH.lastIndex=DH.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=MH.exec(e))&&(r=DH.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:AH(n,r)})),o=DH.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function LH(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?EH(t):("number"===i?AH:"string"===i?(n=cH(t))?(t=n,TH):RH:t instanceof cH?TH:t instanceof Date?PH:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?NH:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?IH:AH:CH))(e,t)}function UH(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function FH(e){return+e}var zH=[0,1];function $H(e){return e}function BH(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function VH(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=BH(i,r),o=n(a,o)):(r=BH(r,i),o=n(o,a)),function(e){return o(r(e))}}function qH(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=BH(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=xW(e,t,1,r)-1;return o[n](i[n](t))}}function WH(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function HH(){var e,t,n,r,i,o,a=zH,s=zH,l=LH,c=$H;function u(){var e=Math.min(a.length,s.length);return c!==$H&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?qH:VH,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),AH)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,FH),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=UH,u()},d.clamp=function(e){return arguments.length?(c=!!e||$H,u()):c!==$H},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function KH(){return HH()($H,$H)}function GH(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function YH(e){return(e=GH(Math.abs(e)))?e[1]:NaN}var QH,XH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function JH(e){if(!(t=XH.exec(e)))throw new Error("invalid format: "+e);var t;return new ZH({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ZH(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function eK(e,t){var n=GH(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}JH.prototype=ZH.prototype,ZH.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const tK={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eK(100*e,t),r:eK,s:function(e,t){var n=GH(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(QH=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+GH(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nK(e){return e}var rK,iK,oK,aK=Array.prototype.map,sK=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lK(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?nK:(t=aK.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?nK:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(aK.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=JH(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):tK[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",x=tK[v],_=/[defgprs%]/.test(v);function S(e){var i,o,l,h=b,S=w;if("c"===v)S=x(e)+S,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0==+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===v?sK[8+QH/3]:"")+S+(k&&"("===d?")":""),_)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?a+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var E=h.length+e.length+S.length,j=E<p?new Array(p-E+1).join(t):"";switch(m&&f&&(e=r(j+e,j.length?p-S.length:1/0),j=""),n){case"<":e=h+e+S+j;break;case"=":e=h+j+e+S;break;case"^":e=j.slice(0,E=j.length>>1)+h+e+S+j.slice(E);break;default:e=j+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=JH(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(YH(t)/3))),i=Math.pow(10,-r),o=sK[8+r/3];return function(e){return n(i*e)+o}}}}function cK(e,t,n,r){var i,o=AW(e,t,n);switch((r=JH(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(YH(t)/3)))-YH(Math.abs(e)))}(o,a))||(r.precision=i),oK(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,YH(t)-YH(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-YH(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return iK(r)}function uK(e){var t=e.domain;return e.ticks=function(e){var n=t();return NW(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return cK(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=PW(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function dK(){var e=KH();return e.copy=function(){return WH(e,dK())},UW.apply(e,arguments),uK(e)}function hK(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function fK(e){return Math.log(e)}function pK(e){return Math.exp(e)}function mK(e){return-Math.log(-e)}function gK(e){return-Math.exp(-e)}function yK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vK(e){return(t,n)=>-e(-t,n)}function bK(e){const t=e(fK,pK),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?yK:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=vK(r),i=vK(i),e(mK,gK)):e(fK,pK),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=NW(a,s,f))}else p=NW(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=JH(n)).precision||(n.trim=!0),n=iK(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(hK(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function wK(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xK(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _K(e){var t=1,n=e(wK(t),xK(t));return n.constant=function(n){return arguments.length?e(wK(t=+n),xK(t)):t},uK(n)}function SK(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EK(e){return e<0?-e*e:e*e}function jK(e){var t=e($H,$H),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e($H,$H):.5===n?e(kK,EK):e(SK(n),SK(1/n)):n},uK(t)}function OK(){var e=jK(HH());return e.copy=function(){return WH(e,OK()).exponent(e.exponent())},UW.apply(e,arguments),e}function TK(e){return Math.sign(e)*e*e}rK=lK({thousands:",",grouping:[3],currency:["$",""]}),iK=rK.format,oK=rK.formatPrefix;const CK=new Date,NK=new Date;function PK(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>PK((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(CK.setTime(+t),NK.setTime(+r),e(CK),e(NK),Math.floor(n(CK,NK))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e==0:t=>i.count(0,t)%e==0):i:null)),i}const AK=PK((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));AK.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?PK((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):AK:null),AK.range;const IK=1e3,MK=6e4,DK=36e5,RK=864e5,LK=6048e5,UK=2592e6,FK=31536e6,zK=PK((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*IK)}),((e,t)=>(t-e)/IK),(e=>e.getUTCSeconds()));zK.range;const $K=PK((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*IK)}),((e,t)=>{e.setTime(+e+t*MK)}),((e,t)=>(t-e)/MK),(e=>e.getMinutes()));$K.range;const BK=PK((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*MK)}),((e,t)=>(t-e)/MK),(e=>e.getUTCMinutes()));BK.range;const VK=PK((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*IK-e.getMinutes()*MK)}),((e,t)=>{e.setTime(+e+t*DK)}),((e,t)=>(t-e)/DK),(e=>e.getHours()));VK.range;const qK=PK((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*DK)}),((e,t)=>(t-e)/DK),(e=>e.getUTCHours()));qK.range;const WK=PK((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*MK)/RK),(e=>e.getDate()-1));WK.range;const HK=PK((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/RK),(e=>e.getUTCDate()-1));HK.range;const KK=PK((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/RK),(e=>Math.floor(e/RK)));function GK(e){return PK((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*MK)/LK))}KK.range;const YK=GK(0),QK=GK(1),XK=GK(2),JK=GK(3),ZK=GK(4),eG=GK(5),tG=GK(6);function nG(e){return PK((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/LK))}YK.range,QK.range,XK.range,JK.range,ZK.range,eG.range,tG.range;const rG=nG(0),iG=nG(1),oG=nG(2),aG=nG(3),sG=nG(4),lG=nG(5),cG=nG(6);rG.range,iG.range,oG.range,aG.range,sG.range,lG.range,cG.range;const uG=PK((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));uG.range;const dG=PK((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));dG.range;const hG=PK((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));hG.every=e=>isFinite(e=Math.floor(e))&&e>0?PK((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null,hG.range;const fG=PK((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function pG(e,t,n,r,i,o){const a=[[zK,1,IK],[zK,5,5e3],[zK,15,15e3],[zK,30,3e4],[o,1,MK],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,DK],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,RK],[r,2,1728e5],[n,1,LK],[t,1,UK],[t,3,7776e6],[e,1,FK]];function s(t,n,r){const i=Math.abs(n-t)/r,o=vW((([,,e])=>e)).right(a,i);if(o===a.length)return e.every(AW(t/FK,n/FK,r));if(0===o)return AK.every(Math.max(AW(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}fG.every=e=>isFinite(e=Math.floor(e))&&e>0?PK((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null,fG.range;const[mG,gG]=pG(fG,dG,rG,KK,qK,BK),[yG,vG]=pG(hG,uG,YK,WK,VK,$K);function bG(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wG(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xG(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var _G,SG,kG,EG={"-":"",_:" ",0:"0"},jG=/^\s*\d+/,OG=/^%/,TG=/[\\^$*+?|[\]().{}]/g;function CG(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function NG(e){return e.replace(TG,"\\$&")}function PG(e){return new RegExp("^(?:"+e.map(NG).join("|")+")","i")}function AG(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function IG(e,t,n){var r=jG.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function MG(e,t,n){var r=jG.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function DG(e,t,n){var r=jG.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function RG(e,t,n){var r=jG.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function LG(e,t,n){var r=jG.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function UG(e,t,n){var r=jG.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function FG(e,t,n){var r=jG.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $G(e,t,n){var r=jG.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function BG(e,t,n){var r=jG.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function VG(e,t,n){var r=jG.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function qG(e,t,n){var r=jG.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function WG(e,t,n){var r=jG.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function HG(e,t,n){var r=jG.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function KG(e,t,n){var r=jG.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function GG(e,t,n){var r=jG.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function YG(e,t,n){var r=jG.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function QG(e,t,n){var r=OG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function XG(e,t,n){var r=jG.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function JG(e,t,n){var r=jG.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ZG(e,t){return CG(e.getDate(),t,2)}function eY(e,t){return CG(e.getHours(),t,2)}function tY(e,t){return CG(e.getHours()%12||12,t,2)}function nY(e,t){return CG(1+WK.count(hG(e),e),t,3)}function rY(e,t){return CG(e.getMilliseconds(),t,3)}function iY(e,t){return rY(e,t)+"000"}function oY(e,t){return CG(e.getMonth()+1,t,2)}function aY(e,t){return CG(e.getMinutes(),t,2)}function sY(e,t){return CG(e.getSeconds(),t,2)}function lY(e){var t=e.getDay();return 0===t?7:t}function cY(e,t){return CG(YK.count(hG(e)-1,e),t,2)}function uY(e){var t=e.getDay();return t>=4||0===t?ZK(e):ZK.ceil(e)}function dY(e,t){return e=uY(e),CG(ZK.count(hG(e),e)+(4===hG(e).getDay()),t,2)}function hY(e){return e.getDay()}function fY(e,t){return CG(QK.count(hG(e)-1,e),t,2)}function pY(e,t){return CG(e.getFullYear()%100,t,2)}function mY(e,t){return CG((e=uY(e)).getFullYear()%100,t,2)}function gY(e,t){return CG(e.getFullYear()%1e4,t,4)}function yY(e,t){var n=e.getDay();return CG((e=n>=4||0===n?ZK(e):ZK.ceil(e)).getFullYear()%1e4,t,4)}function vY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+CG(t/60|0,"0",2)+CG(t%60,"0",2)}function bY(e,t){return CG(e.getUTCDate(),t,2)}function wY(e,t){return CG(e.getUTCHours(),t,2)}function xY(e,t){return CG(e.getUTCHours()%12||12,t,2)}function _Y(e,t){return CG(1+HK.count(fG(e),e),t,3)}function SY(e,t){return CG(e.getUTCMilliseconds(),t,3)}function kY(e,t){return SY(e,t)+"000"}function EY(e,t){return CG(e.getUTCMonth()+1,t,2)}function jY(e,t){return CG(e.getUTCMinutes(),t,2)}function OY(e,t){return CG(e.getUTCSeconds(),t,2)}function TY(e){var t=e.getUTCDay();return 0===t?7:t}function CY(e,t){return CG(rG.count(fG(e)-1,e),t,2)}function NY(e){var t=e.getUTCDay();return t>=4||0===t?sG(e):sG.ceil(e)}function PY(e,t){return e=NY(e),CG(sG.count(fG(e),e)+(4===fG(e).getUTCDay()),t,2)}function AY(e){return e.getUTCDay()}function IY(e,t){return CG(iG.count(fG(e)-1,e),t,2)}function MY(e,t){return CG(e.getUTCFullYear()%100,t,2)}function DY(e,t){return CG((e=NY(e)).getUTCFullYear()%100,t,2)}function RY(e,t){return CG(e.getUTCFullYear()%1e4,t,4)}function LY(e,t){var n=e.getUTCDay();return CG((e=n>=4||0===n?sG(e):sG.ceil(e)).getUTCFullYear()%1e4,t,4)}function UY(){return"+0000"}function FY(){return"%"}function zY(e){return+e}function $Y(e){return Math.floor(+e/1e3)}function BY(e){return new Date(e)}function VY(e){return e instanceof Date?+e:+new Date(+e)}function qY(e,t,n,r,i,o,a,s,l,c){var u=KH(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,VY)):h().map(BY)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(hK(n,e)):u},u.copy=function(){return WH(u,qY(e,t,n,r,i,o,a,s,l,c))},u}function WY(){var e,t,n,r,i,o=0,a=1,s=$H,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(LH),c.rangeRound=u(UH),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function HY(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KY(){var e=jK(WY());return e.copy=function(){return HY(e,KY()).exponent(e.exponent())},FW.apply(e,arguments)}function GY(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=$H,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=LH);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(LH),f.rangeRound=p(UH),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function YY(){var e=jK(GY());return e.copy=function(){return HY(e,YY()).exponent(e.exponent())},FW.apply(e,arguments)}!function(e){_G=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=PG(i),u=AG(i),d=PG(o),h=AG(o),f=PG(a),p=AG(a),m=PG(s),g=AG(s),y=PG(l),v=AG(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:ZG,e:ZG,f:iY,g:mY,G:yY,H:eY,I:tY,j:nY,L:rY,m:oY,M:aY,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:zY,s:$Y,S:sY,u:lY,U:cY,V:dY,w:hY,W:fY,x:null,X:null,y:pY,Y:gY,Z:vY,"%":FY},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:bY,e:bY,f:kY,g:DY,G:LY,H:wY,I:xY,j:_Y,L:SY,m:EY,M:jY,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:zY,s:$Y,S:OY,u:TY,U:CY,V:PY,w:AY,W:IY,x:null,X:null,y:MY,Y:RY,Z:UY,"%":FY},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:VG,e:VG,f:YG,g:FG,G:UG,H:WG,I:WG,j:qG,L:GG,m:BG,M:HG,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:$G,Q:XG,s:JG,S:KG,u:MG,U:DG,V:RG,w:IG,W:LG,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:FG,Y:UG,Z:zG,"%":QG};function _(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=EG[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function S(e,t){return function(n){var r,i,o=xG(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=wG(xG(o.y,0,1))).getUTCDay(),r=i>4||0===i?iG.ceil(r):iG(r),r=HK.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=bG(xG(o.y,0,1))).getDay(),r=i>4||0===i?QK.ceil(r):QK(r),r=WK.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?wG(xG(o.y,0,1)).getUTCDay():bG(xG(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,wG(o)):bG(o)}}function k(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in EG?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),SG=_G.format,_G.parse,kG=_G.utcFormat,_G.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const QY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:BW,scaleDiverging:function e(){var t=uK(GY()($H));return t.copy=function(){return HY(t,e())},FW.apply(t,arguments)},scaleDivergingLog:function e(){var t=bK(GY()).domain([.1,1,10]);return t.copy=function(){return HY(t,e()).base(t.base())},FW.apply(t,arguments)},scaleDivergingPow:YY,scaleDivergingSqrt:function(){return YY.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=_K(GY());return t.copy=function(){return HY(t,e()).constant(t.constant())},FW.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,FH),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,FH):[0,1],uK(r)},scaleImplicit:zW,scaleLinear:dK,scaleLog:function e(){const t=bK(HH()).domain([1,10]);return t.copy=()=>WH(t,e()).base(t.base()),UW.apply(t,arguments),t},scaleOrdinal:$W,scalePoint:qW,scalePow:OK,scaleQuantile:function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=LW(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[xW(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(gW),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},UW.apply(a,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return null!=e&&e<=e?a[xW(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},UW.apply(uK(s),arguments)},scaleRadial:function e(){var t,n=KH(),r=[0,1],i=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(TK(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,FH)).map(TK)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},UW.apply(o,arguments),uK(o)},scaleSequential:function e(){var t=uK(WY()($H));return t.copy=function(){return HY(t,e())},FW.apply(t,arguments)},scaleSequentialLog:function e(){var t=bK(WY()).domain([1,10]);return t.copy=function(){return HY(t,e()).base(t.base())},FW.apply(t,arguments)},scaleSequentialPow:KY,scaleSequentialQuantile:function e(){var t=[],n=$H;function r(e){if(null!=e&&!isNaN(e=+e))return n((xW(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(gW),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map(((e,r)=>n(r/(t.length-1))))},r.quantiles=function(e){return Array.from({length:e+1},((n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return MW(e);if(t>=1)return IW(e);var n,r=(n-1)*t,i=Math.floor(r),o=IW(DW(e,i).subarray(0,i+1));return o+(MW(e.subarray(i+1))-o)*(r-i)}}(t,r/e)))},r.copy=function(){return e(n).domain(t)},FW.apply(r,arguments)},scaleSequentialSqrt:function(){return KY.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=_K(WY());return t.copy=function(){return HY(t,e()).constant(t.constant())},FW.apply(t,arguments)},scaleSqrt:function(){return OK.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=_K(HH());return t.copy=function(){return WH(t,e()).constant(t.constant())},UW.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[xW(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},UW.apply(o,arguments)},scaleTime:function(){return UW.apply(qY(yG,vG,hG,uG,YK,WK,VK,$K,zK,SG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return UW.apply(qY(mG,gG,fG,dG,rG,HK,qK,BK,zK,kG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:cK},Symbol.toStringTag,{value:"Module"}));var XY=cI;var JY=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!XY(a):n(a,s)))var s=a,l=o}return l};var ZY=JY,eQ=function(e,t){return e>t},tQ=P$;const nQ=o((function(e){return e&&e.length?ZY(e,tQ,eQ):void 0}));var rQ=JY,iQ=function(e,t){return e<t},oQ=P$;const aQ=o((function(e){return e&&e.length?rQ(e,oQ,iQ):void 0}));var sQ=qM,lQ=B$,cQ=RB,uQ=VA;var dQ=TB,hQ=function(e,t){return(uQ(e)?sQ:cQ)(e,lQ(t))};const fQ=o((function(e,t){return dQ(hQ(e,t),1)}));var pQ=o$;const mQ=o((function(e,t){return pQ(e,t)}));var gQ,yQ=1e9,vQ=!0,bQ="[DecimalError] ",wQ=bQ+"Invalid argument: ",xQ=bQ+"Exponent out of range: ",_Q=Math.floor,SQ=Math.pow,kQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,EQ=1e7,jQ=9007199254740991,OQ=_Q(1286742750677284.5),TQ={};function CQ(e,t){var n,r,i,o,a,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),vQ?FQ(t,d):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),o>(s=(a=Math.ceil(d/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=l.length)-(o=c.length)<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/EQ|0,l[o]%=EQ;for(n&&(l.unshift(n),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,vQ?FQ(t,d):t}function NQ(e,t,n){if(e!==~~e||e<t||e>n)throw Error(wQ+e)}function PQ(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=RQ(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=RQ(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}TQ.absoluteValue=TQ.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},TQ.comparedTo=TQ.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},TQ.decimalPlaces=TQ.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},TQ.dividedBy=TQ.div=function(e){return AQ(this,new this.constructor(e))},TQ.dividedToIntegerBy=TQ.idiv=function(e){var t=this.constructor;return FQ(AQ(this,new t(e),0,1),t.precision)},TQ.equals=TQ.eq=function(e){return!this.cmp(e)},TQ.exponent=function(){return MQ(this)},TQ.greaterThan=TQ.gt=function(e){return this.cmp(e)>0},TQ.greaterThanOrEqualTo=TQ.gte=function(e){return this.cmp(e)>=0},TQ.isInteger=TQ.isint=function(){return this.e>this.d.length-2},TQ.isNegative=TQ.isneg=function(){return this.s<0},TQ.isPositive=TQ.ispos=function(){return this.s>0},TQ.isZero=function(){return 0===this.s},TQ.lessThan=TQ.lt=function(e){return this.cmp(e)<0},TQ.lessThanOrEqualTo=TQ.lte=function(e){return this.cmp(e)<1},TQ.logarithm=TQ.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(gQ))throw Error(bQ+"NaN");if(n.s<1)throw Error(bQ+(n.s?"NaN":"-Infinity"));return n.eq(gQ)?new r(0):(vQ=!1,t=AQ(LQ(n,o),LQ(e,o),o),vQ=!0,FQ(t,i))},TQ.minus=TQ.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zQ(t,e):CQ(t,(e.s=-e.s,e))},TQ.modulo=TQ.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(bQ+"NaN");return n.s?(vQ=!1,t=AQ(n,e,0,1).times(e),vQ=!0,n.minus(t)):FQ(new r(n),i)},TQ.naturalExponential=TQ.exp=function(){return IQ(this)},TQ.naturalLogarithm=TQ.ln=function(){return LQ(this)},TQ.negated=TQ.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},TQ.plus=TQ.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CQ(t,e):zQ(t,(e.s=-e.s,e))},TQ.precision=TQ.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(wQ+e);if(t=MQ(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},TQ.squareRoot=TQ.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(bQ+"NaN")}for(e=MQ(s),vQ=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=PQ(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=_Q((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(AQ(s,o,a+2)).times(.5),PQ(o.d).slice(0,a)===(t=PQ(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(FQ(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return vQ=!0,FQ(r,n)},TQ.times=TQ.mul=function(e){var t,n,r,i,o,a,s,l,c,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=h.length)<(c=f.length)&&(o=h,h=f,f=o,a=l,l=c,c=a),o=[],r=a=l+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+f[r]*h[i-r-1]+t,o[i--]=s%EQ|0,t=s/EQ|0;o[i]=(o[i]+t)%EQ|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,vQ?FQ(e,d.precision):e},TQ.toDecimalPlaces=TQ.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(NQ(e,0,yQ),void 0===t?t=r.rounding:NQ(t,0,8),FQ(n,e+MQ(n)+1,t))},TQ.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=$Q(r,!0):(NQ(e,0,yQ),void 0===t?t=i.rounding:NQ(t,0,8),n=$Q(r=FQ(new i(r),e+1,t),!0,e+1)),n},TQ.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?$Q(i):(NQ(e,0,yQ),void 0===t?t=o.rounding:NQ(t,0,8),n=$Q((r=FQ(new o(i),e+MQ(i)+1,t)).abs(),!1,e+MQ(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},TQ.toInteger=TQ.toint=function(){var e=this,t=e.constructor;return FQ(new t(e),MQ(e)+1,t.rounding)},TQ.toNumber=function(){return+this},TQ.toPower=TQ.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(gQ);if(!(s=new l(s)).s){if(e.s<1)throw Error(bQ+"Infinity");return s}if(s.eq(gQ))return s;if(r=l.precision,e.eq(gQ))return FQ(s,r);if(a=(t=e.e)>=(n=e.d.length-1),o=s.s,a){if((n=c<0?-c:c)<=jQ){for(i=new l(gQ),t=Math.ceil(r/7+4),vQ=!1;n%2&&BQ((i=i.times(s)).d,t),0!==(n=_Q(n/2));)BQ((s=s.times(s)).d,t);return vQ=!0,e.s<0?new l(gQ).div(i):FQ(i,r)}}else if(o<0)throw Error(bQ+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,vQ=!1,i=e.times(LQ(s,r+12)),vQ=!0,(i=IQ(i)).s=o,i},TQ.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=$Q(i,(n=MQ(i))<=o.toExpNeg||n>=o.toExpPos):(NQ(e,1,yQ),void 0===t?t=o.rounding:NQ(t,0,8),r=$Q(i=FQ(new o(i),e,t),e<=(n=MQ(i))||n<=o.toExpNeg,e)),r},TQ.toSignificantDigits=TQ.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(NQ(e,1,yQ),void 0===t?t=n.rounding:NQ(t,0,8)),FQ(new n(this),e,t)},TQ.toString=TQ.valueOf=TQ.val=TQ.toJSON=TQ[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=MQ(e),n=e.constructor;return $Q(e,t<=n.toExpNeg||t>=n.toExpPos)};var AQ=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%EQ|0,r=n/EQ|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*EQ+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,c,u,d,h,f,p,m,g,y,v,b,w,x,_,S,k,E=r.constructor,j=r.s==i.s?1:-1,O=r.d,T=i.d;if(!r.s)return new E(r);if(!i.s)throw Error(bQ+"Division by zero");for(l=r.e-i.e,S=T.length,x=O.length,p=(f=new E(j)).d=[],c=0;T[c]==(O[c]||0);)++c;if(T[c]>(O[c]||0)&&--l,(v=null==o?o=E.precision:a?o+(MQ(r)-MQ(i))+1:o)<0)return new E(0);if(v=v/7+2|0,c=0,1==S)for(u=0,T=T[0],v++;(c<x||u)&&v--;c++)b=u*EQ+(O[c]||0),p[c]=b/T|0,u=b%T|0;else{for((u=EQ/(T[0]+1)|0)>1&&(T=e(T,u),O=e(O,u),S=T.length,x=O.length),w=S,g=(m=O.slice(0,S)).length;g<S;)m[g++]=0;(k=T.slice()).unshift(0),_=T[0],T[1]>=EQ/2&&++_;do{u=0,(s=t(T,m,S,g))<0?(y=m[0],S!=g&&(y=y*EQ+(m[1]||0)),(u=y/_|0)>1?(u>=EQ&&(u=EQ-1),1==(s=t(d=e(T,u),m,h=d.length,g=m.length))&&(u--,n(d,S<h?k:T,h))):(0==u&&(s=u=1),d=T.slice()),(h=d.length)<g&&d.unshift(0),n(m,d,g),-1==s&&(s=t(T,m,S,g=m.length))<1&&(u++,n(m,S<g?k:T,g)),g=m.length):0===s&&(u++,m=[0]),p[c++]=u,s&&m[0]?m[g++]=O[w]||0:(m=[O[w]],g=1)}while((w++<x||void 0!==m[0])&&v--)}return p[0]||p.shift(),f.e=l,FQ(f,a?o+MQ(f)+1:o)}}();function IQ(e,t){var n,r,i,o,a,s=0,l=0,c=e.constructor,u=c.precision;if(MQ(e)>16)throw Error(xQ+MQ(e));if(!e.s)return new c(gQ);for(null==t?(vQ=!1,a=u):a=t,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(a+=Math.log(SQ(2,l))/Math.LN10*2+5|0,n=r=i=new c(gQ),c.precision=a;;){if(r=FQ(r.times(e),a),n=n.times(++s),PQ((o=i.plus(AQ(r,n,a))).d).slice(0,a)===PQ(i.d).slice(0,a)){for(;l--;)i=FQ(i.times(i),a);return c.precision=u,null==t?(vQ=!0,FQ(i,u)):i}i=o}}function MQ(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function DQ(e,t,n){if(t>e.LN10.sd())throw vQ=!0,n&&(e.precision=n),Error(bQ+"LN10 precision limit exceeded");return FQ(new e(e.LN10),t)}function RQ(e){for(var t="";e--;)t+="0";return t}function LQ(e,t){var n,r,i,o,a,s,l,c,u,d=1,h=e,f=h.d,p=h.constructor,m=p.precision;if(h.s<1)throw Error(bQ+(h.s?"NaN":"-Infinity"));if(h.eq(gQ))return new p(0);if(null==t?(vQ=!1,c=m):c=t,h.eq(10))return null==t&&(vQ=!0),DQ(p,c);if(c+=10,p.precision=c,r=(n=PQ(f)).charAt(0),o=MQ(h),!(Math.abs(o)<15e14))return l=DQ(p,c+2,m).times(o+""),h=LQ(new p(r+"."+n.slice(1)),c-10).plus(l),p.precision=m,null==t?(vQ=!0,FQ(h,m)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=PQ((h=h.times(e)).d)).charAt(0),d++;for(o=MQ(h),r>1?(h=new p("0."+n),o++):h=new p(r+"."+n.slice(1)),s=a=h=AQ(h.minus(gQ),h.plus(gQ),c),u=FQ(h.times(h),c),i=3;;){if(a=FQ(a.times(u),c),PQ((l=s.plus(AQ(a,new p(i),c))).d).slice(0,c)===PQ(s.d).slice(0,c))return s=s.times(2),0!==o&&(s=s.plus(DQ(p,c+2,m).times(o+""))),s=AQ(s,new p(d),c),p.precision=m,null==t?(vQ=!0,FQ(s,m)):s;s=l,i+=2}}function UQ(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=_Q(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),vQ&&(e.e>OQ||e.e<-OQ))throw Error(xQ+n)}else e.s=0,e.e=0,e.d=[0];return e}function FQ(e,t,n){var r,i,o,a,s,l,c,u,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(o=d.length))return e;for(c=o=d[u],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=c/(o=SQ(10,a-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%o,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?i>0?c/SQ(10,a-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=MQ(e),d.length=1,t=t-o-1,d[0]=SQ(10,(7-t%7)%7),e.e=_Q(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,o=1,u--):(d.length=u+1,o=SQ(10,7-r),d[u]=i>0?(c/SQ(10,a-i)%SQ(10,i)|0)*o:0),l)for(;;){if(0==u){(d[0]+=o)==EQ&&(d[0]=1,++e.e);break}if(d[u]+=o,d[u]!=EQ)break;d[u--]=0,o=1}for(r=d.length;0===d[--r];)d.pop();if(vQ&&(e.e>OQ||e.e<-OQ))throw Error(xQ+MQ(e));return e}function zQ(e,t){var n,r,i,o,a,s,l,c,u,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),vQ?FQ(t,f):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r){for((u=a<0)?(n=l,a=-a,s=d.length):(n=d,r=c,s=l.length),a>(i=Math.max(Math.ceil(f/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&0===l[--o];)l[o]=EQ-1;--l[o],l[i]+=EQ}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,vQ?FQ(t,f):t):new h(0)}function $Q(e,t,n){var r,i=MQ(e),o=PQ(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+RQ(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+RQ(-i-1)+o,n&&(r=n-a)>0&&(o+=RQ(r))):i>=a?(o+=RQ(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+RQ(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=RQ(r))),e.s<0?"-"+o:o}function BQ(e,t){if(e.length>t)return e.length=t,!0}function VQ(e){if(!e||"object"!=typeof e)throw Error(bQ+"Object expected");var t,n,r,i=["precision",1,yQ,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(_Q(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(wQ+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(wQ+n+": "+r);this[n]=new this(r)}return this}var qQ=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(wQ+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):UQ(t,e.toString())}if("string"!=typeof e)throw Error(wQ+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!kQ.test(e))throw Error(wQ+e);UQ(t,e)}if(o.prototype=TQ,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=VQ,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});gQ=new qQ(1);const WQ=qQ;function HQ(e){return function(e){if(Array.isArray(e))return KQ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return KQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KQ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GQ=function(e){return e},YQ={"@@functional/placeholder":!0},QQ=function(e){return e===YQ},XQ=function(e){return function t(){return 0===arguments.length||1===arguments.length&&QQ(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},JQ=function e(t,n){return 1===t?n:XQ((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==YQ})).length;return a>=t?n.apply(void 0,i):e(t-a,XQ((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return QQ(e)?t.shift():e}));return n.apply(void 0,HQ(o).concat(t))})))}))},ZQ=function(e){return JQ(e.length,e)},eX=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},tX=ZQ((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),nX=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rX=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var iX=ZQ((function(e,t,n){var r=+e;return r+n*(+t-r)})),oX=ZQ((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),aX=ZQ((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const sX={rangeStep:function(e,t,n){for(var r=new WQ(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new WQ(e).abs().log(10).toNumber())+1},interpolateNumber:iX,uninterpolateNumber:oX,uninterpolateTruncation:aX};function lX(e){return function(e){if(Array.isArray(e))return dX(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||uX(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||uX(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uX(e,t){if(e){if("string"==typeof e)return dX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dX(e,t):void 0}}function dX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hX(e){var t=cX(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function fX(e,t,n){if(e.lte(0))return new WQ(0);var r=sX.getDigitCount(e.toNumber()),i=new WQ(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new WQ(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new WQ(Math.ceil(s))}function pX(e,t,n){var r=1,i=new WQ(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new WQ(10).pow(sX.getDigitCount(e)-1),i=new WQ(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new WQ(Math.floor(e)))}else 0===e?i=new WQ(Math.floor((t-1)/2)):n||(i=new WQ(Math.floor(e)));var a=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return GQ;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}}(tX((function(e){return i.add(new WQ(e-a).mul(r)).toNumber()})),eX);return s(0,t)}function mX(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new WQ(0),tickMin:new WQ(0),tickMax:new WQ(0)};var o,a=fX(new WQ(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new WQ(0):(o=new WQ(e).add(t).div(2)).sub(new WQ(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new WQ(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?mX(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new WQ(s).mul(a)),tickMax:o.add(new WQ(l).mul(a))})}var gX=rX((function(e){var t=cX(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=cX(hX([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(lX(eX(0,i-1).map((function(){return 1/0})))):[].concat(lX(eX(0,i-1).map((function(){return-1/0}))),[c]);return n>r?nX(u):u}if(l===c)return pX(l,i,o);var d=mX(l,c,a,o),h=d.step,f=d.tickMin,p=d.tickMax,m=sX.rangeStep(f,p.add(new WQ(.1).mul(h)),h);return n>r?nX(m):m})),yX=rX((function(e,t){var n=cX(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=cX(hX([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=fX(new WQ(l).sub(s).div(c-1),o,0),d=[].concat(lX(sX.rangeStep(new WQ(s),new WQ(l).sub(new WQ(.99).mul(u)),u)),[l]);return r>i?nX(d):d}));function vX(e,t){throw new Error("Invariant failed")}var bX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wX(e){return(wX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xX(){return xX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xX.apply(this,arguments)}function _X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return SX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SX(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kX(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EX(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PX(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jX(e,t,n){return t=TX(t),function(e,t){if(t&&("object"===wX(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OX()?Reflect.construct(t,n||[],TX(e).constructor):t.apply(e,n))}function OX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(OX=function(){return!!e})()}function TX(e){return(TX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CX(e,t){return(CX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function NX(e,t,n){return(t=PX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){var t=function(e,t){if("object"!=wX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wX(t)?t:t+""}var AX=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jX(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CX(e,t)}(e,H.Component),EX(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,a=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,c=kX(e,bX),u=bR(c,!1);"x"===this.props.direction&&"number"!==s.type&&vX();var d=o.map((function(e){var o=a(e,i),c=o.x,d=o.y,h=o.value,f=o.errorVal;if(!f)return null;var p,m,g=[];if(Array.isArray(f)){var y=_X(f,2);p=y[0],m=y[1]}else p=m=f;if("vertical"===n){var v=s.scale,b=d+t,w=b+r,x=b-r,_=v(h-p),S=v(h+m);g.push({x1:S,y1:w,x2:S,y2:x}),g.push({x1:_,y1:b,x2:S,y2:b}),g.push({x1:_,y1:w,x2:_,y2:x})}else if("horizontal"===n){var k=l.scale,E=c+t,j=E-r,O=E+r,T=k(h-p),C=k(h+m);g.push({x1:j,y1:C,x2:O,y2:C}),g.push({x1:E,y1:T,x2:E,y2:C}),g.push({x1:j,y1:T,x2:O,y2:T})}return H.createElement(NR,xX({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},u),g.map((function(e){return H.createElement("line",xX({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return H.createElement(NR,{className:"recharts-errorBars"},d)}}])}();function IX(e){return(IX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MX(Object(n),!0).forEach((function(t){RX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RX(e,t,n){return t=function(e){var t=function(e,t){if("object"!=IX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IX(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}NX(AX,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),NX(AX,"displayName","ErrorBar");var LX=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=gR(t,_B);if(!o)return null;var a,s=_B.defaultProps,l=void 0!==s?DX(DX({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?DX(DX({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:HX(t),value:o||i,payload:r}})),DX(DX(DX({},l),_B.getWithHeight(o,r)),{},{payload:a,item:o})};function UX(e){return(UX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FX(e){return function(e){if(Array.isArray(e))return zX(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zX(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$X(Object(n),!0).forEach((function(t){VX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VX(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UX(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qX(e,t,n){return hD(e)||hD(t)?n:WD(t)?dD(e,t,n):wI(t)?t(e):n}function WX(e,t,n,r){var i=fQ(e,(function(e){return qX(e,t)}));if("number"===n){var o=i.filter((function(e){return qD(e)||parseFloat(e)}));return o.length?[aQ(o),nQ(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!hD(e)})):i).map((function(e){return WD(e)||e instanceof Date?e:""}))}var HX=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?BX(BX({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},KX=function(e,t,n,r,i){var o=mR(t.props.children,AX).filter((function(e){return function(e,t,n){return!!hD(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=qX(t,n);if(hD(r))return e;var i=Array.isArray(r)?[aQ(r),nQ(r)]:[r,r],o=a.reduce((function(e,n){var r=qX(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},GX=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&KX(e,t,o,r)||WX(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},YX=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},QX=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},XX=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==a?void 0:a.length)>=2?2*BD(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!$D(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},JX=new WeakMap,ZX=function(e,t){if("function"!=typeof t)return e;JX.has(e)||JX.set(e,new WeakMap);var n=JX.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},eJ=1e-4,tJ={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=$D(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}rU(e,t)}},none:rU,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}rU(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,rU(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=$D(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},nJ=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=tJ[n],o=function(){var e=rL([]),t=iU,n=rU,r=oU;function i(i){var o,a,s=Array.from(e.apply(this,arguments),aU),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=gL(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:rL(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:rL(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?iU:"function"==typeof e?e:rL(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?rU:e,i):n},i}().keys(r).value((function(e,t){return+qX(e,t,0)})).order(iU).offset(i);return o(e)};function rJ(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!hD(i[t.dataKey])){var s=XD(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=qX(i,hD(a)?t.dataKey:a);return hD(l)?null:t.scale(l)}var iJ=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=qX(o,t.dataKey,t.domain[a]);return hD(s)?null:t.scale(s)-i/2+r},oJ=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[aQ(t.concat([e[0]]).filter(qD)),nQ(t.concat([e[1]]).filter(qD))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},aJ=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sJ=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lJ=function(e,t,n){if(wI(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(qD(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(aJ.test(e[0])){var i=+aJ.exec(e[0])[1];r[0]=t[0]-i}else wI(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(qD(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(sJ.test(e[1])){var o=+sJ.exec(e[1])[1];r[1]=t[1]+o}else wI(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},cJ=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=yV(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},uJ=function(e,t,n){return e&&e.length?mQ(e,dD(n,"type.defaultProps.domain"))?t:e:t},dJ=function(e,t){var n=e.type.defaultProps?BX(BX({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return BX(BX({},bR(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:HX(e),value:qX(t,r),type:s,payload:t,chartType:l,hide:c})};function hJ(e){return(hJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fJ(Object(n),!0).forEach((function(t){mJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mJ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hJ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gJ=Math.PI/180,yJ=function(e){return 180*e/Math.PI},vJ=function(e,t,n,r){return{x:e+Math.cos(-gJ*r)*n,y:t+Math.sin(-gJ*r)*n}},bJ=function(e,t){var n,r,i,o,a,s,l=e.x,c=e.y,u=t.cx,d=t.cy,h=(r={x:u,y:d},i=(n={x:l,y:c}).x,o=n.y,a=r.x,s=r.y,Math.sqrt(Math.pow(i-a,2)+Math.pow(o-s,2)));if(h<=0)return{radius:h};var f=(l-u)/h,p=Math.acos(f);return c>d&&(p=2*Math.PI-p),{radius:h,angle:yJ(p),angleInRadian:p}},wJ=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},xJ=function(e,t){var n=e.x,r=e.y,i=bJ({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?pJ(pJ({},t),{},{radius:o,angle:wJ(f,t)}):null};function _J(e){return(_J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var SJ=["offset"];function kJ(e){return function(e){if(Array.isArray(e))return EJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return EJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jJ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OJ(Object(n),!0).forEach((function(t){CJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CJ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_J(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_J(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NJ(){return NJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NJ.apply(this,arguments)}var PJ=function(e,t,n){var r,i,o=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,m=c.endAngle,g=c.clockWise,y=(h+f)/2,v=function(e,t){return BD(t-e)*Math.min(Math.abs(t-e),360)}(p,m),b=v>=0?1:-1;"insideStart"===o?(r=p+b*s,i=g):"insideEnd"===o?(r=m-b*s,i=!g):"end"===o&&(r=m+b*s,i=g),i=v<=0?i:!i;var w=vJ(u,d,y,r),x=vJ(u,d,y,r+359*(i?1:-1)),_="M".concat(w.x,",").concat(w.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(i?0:1,",\n    ").concat(x.x,",").concat(x.y),S=hD(e.id)?KD("recharts-radial-line-"):e.id;return H.createElement("text",NJ({},n,{dominantBaseline:"central",className:BA("recharts-radial-bar-label",l)}),H.createElement("defs",null,H.createElement("path",{id:S,d:_})),H.createElement("textPath",{xlinkHref:"#".concat(S)},t))};function AJ(e){var t,n=e.offset,r=TJ({offset:void 0===n?5:n},jJ(e,SJ)),i=r.viewBox,o=r.position,a=r.value,s=r.children,l=r.content,c=r.className,u=void 0===c?"":c,d=r.textBreakAll;if(!i||hD(a)&&hD(s)&&!W.isValidElement(l)&&!wI(l))return null;if(W.isValidElement(l))return W.cloneElement(l,r);if(wI(l)){if(t=W.createElement(l,r),W.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=hD(e.children)?t:e.children;return wI(n)?n(r):r}(r);var h=function(e){return"cx"in e&&qD(e.cx)}(i),f=bR(r,!0);if(h&&("insideStart"===o||"insideEnd"===o||"end"===o))return PJ(r,t,f);var p=h?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=vJ(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=vJ(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return TJ(TJ({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return TJ(TJ({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return TJ(TJ({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return TJ(TJ({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var w=n?{width:l,height:c}:{};return"insideLeft"===i?TJ({x:a+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},w):"insideRight"===i?TJ({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},w):"insideTop"===i?TJ({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?TJ({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},w):"insideTopLeft"===i?TJ({x:a+m,y:s+d,textAnchor:y,verticalAnchor:f},w):"insideTopRight"===i?TJ({x:a+l-m,y:s+d,textAnchor:g,verticalAnchor:f},w):"insideBottomLeft"===i?TJ({x:a+m,y:s+c-d,textAnchor:y,verticalAnchor:h},w):"insideBottomRight"===i?TJ({x:a+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},w):gI(i)&&(qD(i.x)||VD(i.x))&&(qD(i.y)||VD(i.y))?TJ({x:a+GD(i.x,l),y:s+GD(i.y,c),textAnchor:"end",verticalAnchor:"end"},w):TJ({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(r);return H.createElement(mW,NJ({className:BA("recharts-label",u)},f,p,{breakAll:d}),t)}AJ.displayName="Label";var IJ=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(qD(p)&&qD(m)){if(qD(u)&&qD(d))return{x:u,y:d,width:p,height:m};if(qD(h)&&qD(f))return{x:h,y:f,width:p,height:m}}return qD(u)&&qD(d)?{x:u,y:d,width:0,height:0}:qD(t)&&qD(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};AJ.parseViewBox=IJ,AJ.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=IJ(e),o=mR(r,AJ).map((function(e,n){return W.cloneElement(e,{viewBox:t||i,key:"label-".concat(n)})}));if(!n)return o;var a=function(e,t){return e?!0===e?H.createElement(AJ,{key:"label-implicit",viewBox:t}):WD(e)?H.createElement(AJ,{key:"label-implicit",viewBox:t,value:e}):W.isValidElement(e)?e.type===AJ?W.cloneElement(e,{key:"label-implicit",viewBox:t}):H.createElement(AJ,{key:"label-implicit",content:e,viewBox:t}):wI(e)?H.createElement(AJ,{key:"label-implicit",content:e,viewBox:t}):gI(e)?H.createElement(AJ,NJ({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[a].concat(kJ(o))};const MJ=o((function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function DJ(e){return(DJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var RJ=["valueAccessor"],LJ=["data","dataKey","clockWise","id","textBreakAll"];function UJ(e){return function(e){if(Array.isArray(e))return FJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return FJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zJ(){return zJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zJ.apply(this,arguments)}function $J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$J(Object(n),!0).forEach((function(t){VJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VJ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=DJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DJ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qJ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var WJ=function(e){return Array.isArray(e.value)?MJ(e.value):e.value};function HJ(e){var t=e.valueAccessor,n=void 0===t?WJ:t,r=qJ(e,RJ),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=qJ(r,LJ);return i&&i.length?H.createElement(NR,{className:"recharts-label-list"},i.map((function(e,t){var r=hD(o)?n(e,t):qX(e&&e.payload,o),i=hD(s)?{}:{id:"".concat(s,"-").concat(t)};return H.createElement(AJ,zJ({},bR(e,!0),c,i,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:AJ.parseViewBox(hD(a)?e:BJ(BJ({},e),{},{clockWise:a})),key:"label-".concat(t),index:t}))}))):null}function KJ(e){return(KJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GJ(){return GJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GJ.apply(this,arguments)}function YJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YJ(Object(n),!0).forEach((function(t){XJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XJ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=KJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KJ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}HJ.displayName="LabelList",HJ.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=mR(e.children,HJ).map((function(e,n){return W.cloneElement(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?H.createElement(HJ,{key:"labelList-implicit",data:t}):H.isValidElement(e)||wI(e)?H.createElement(HJ,{key:"labelList-implicit",data:t,content:e}):gI(e)?H.createElement(HJ,zJ({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(UJ(r)):r};var JJ=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/gJ,d=l?i:i+o*u,h=l?i-o*u:i;return{center:vJ(t,n,c,d),circleTangency:vJ(t,n,r,d),lineTangency:vJ(t,n,c*Math.cos(u*gJ),h),theta:u}},ZJ=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return BD(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=vJ(t,n,i,o),c=vJ(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=vJ(t,n,r,o),h=vJ(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},eZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tZ=function(e){var t=QJ(QJ({},eZ),e),n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=t.className;if(o<i||c===u)return null;var h,f=BA("recharts-sector",d),p=o-i,m=GD(a,p,0,!0);return h=m>0&&Math.abs(c-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=BD(c-l),d=JJ({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=JJ({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):ZJ({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var x=JJ({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),_=x.circleTangency,S=x.lineTangency,k=x.theta,E=JJ({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),j=E.circleTangency,O=E.lineTangency,T=E.theta,C=s?Math.abs(l-c):Math.abs(l-c)-k-T;if(C<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):ZJ({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}),H.createElement("path",GJ({},bR(t,!0),{className:f,d:h,role:"img"}))};function nZ(e){return(nZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rZ(){return rZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rZ.apply(this,arguments)}function iZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iZ(Object(n),!0).forEach((function(t){aZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aZ(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nZ(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sZ={curveBasisClosed:function(e){return new qL(e)},curveBasisOpen:function(e){return new WL(e)},curveBasis:function(e){return new VL(e)},curveBumpX:function(e){return new SL(e,!0)},curveBumpY:function(e){return new SL(e,!1)},curveLinearClosed:function(e){return new HL(e)},curveLinear:vL,curveMonotoneX:function(e){return new XL(e)},curveMonotoneY:function(e){return new JL(e)},curveNatural:function(e){return new eU(e)},curveStep:function(e){return new nU(e,.5)},curveStepAfter:function(e){return new nU(e,1)},curveStepBefore:function(e){return new nU(e,0)}},lZ=function(e){return e.x===+e.x&&e.y===+e.y},cZ=function(e){return e.x},uZ=function(e){return e.y},dZ=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(wI(e))return e;var n="curve".concat(nL(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?sZ[n]||vL:sZ["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter((function(e){return lZ(e)})):o;if(Array.isArray(a)){var h=c?a.filter((function(e){return lZ(e)})):a,f=d.map((function(e,t){return oZ(oZ({},e),{},{base:h[t]})}));return(t="vertical"===s?_L().y(uZ).x1(cZ).x0((function(e){return e.base.x})):_L().x(cZ).y1(uZ).y0((function(e){return e.base.y}))).defined(lZ).curve(u),t(f)}return(t="vertical"===s&&qD(a)?_L().y(uZ).x1(cZ).x0(a):qD(a)?_L().x(cZ).y1(uZ).y0(a):xL().x(cZ).y(uZ)).defined(lZ).curve(u),t(d)},hZ=function(e){var t=e.className,n=e.points,r=e.path,i=e.pathRef;if(!(n&&n.length||r))return null;var o=n&&n.length?dZ(e):r;return H.createElement("path",rZ({},bR(e,!1),iR(e),{className:BA("recharts-curve",t),d:o,ref:i}))},fZ={exports:{}};function pZ(){}function mZ(){}mZ.resetWarningCache=pZ;fZ.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mZ,resetWarningCache:pZ};return n.PropTypes=n,n}();var gZ=fZ.exports;const yZ=o(gZ);var vZ=Object.getOwnPropertyNames,bZ=Object.getOwnPropertySymbols,wZ=Object.prototype.hasOwnProperty;function xZ(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function _Z(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function SZ(e){return vZ(e).concat(bZ(e))}var kZ=Object.hasOwn||function(e,t){return wZ.call(e,t)};function EZ(e,t){return e||t?e===t:e===t||e!=e&&t!=t}var jZ="_owner",OZ=Object.getOwnPropertyDescriptor,TZ=Object.keys;function CZ(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function NZ(e,t){return EZ(e.getTime(),t.getTime())}function PZ(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.entries(),s=0;(r=a.next())&&!r.done;){for(var l=t.entries(),c=!1,u=0;(i=l.next())&&!i.done;){var d=r.value,h=d[0],f=d[1],p=i.value,m=p[0],g=p[1];c||o[u]||!(c=n.equals(h,m,s,u,e,t,n)&&n.equals(f,g,h,m,e,t,n))||(o[u]=!0),u++}if(!c)return!1;s++}return!0}function AZ(e,t,n){var r,i=TZ(e),o=i.length;if(TZ(t).length!==o)return!1;for(;o-- >0;){if((r=i[o])===jZ&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!kZ(t,r)||!n.equals(e[r],t[r],r,r,e,t,n))return!1}return!0}function IZ(e,t,n){var r,i,o,a=SZ(e),s=a.length;if(SZ(t).length!==s)return!1;for(;s-- >0;){if((r=a[s])===jZ&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!kZ(t,r))return!1;if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;if(i=OZ(e,r),o=OZ(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function MZ(e,t){return EZ(e.valueOf(),t.valueOf())}function DZ(e,t){return e.source===t.source&&e.flags===t.flags}function RZ(e,t,n){if(e.size!==t.size)return!1;for(var r,i,o={},a=e.values();(r=a.next())&&!r.done;){for(var s=t.values(),l=!1,c=0;(i=s.next())&&!i.done;)l||o[c]||!(l=n.equals(r.value,i.value,r.value,i.value,e,t,n))||(o[c]=!0),c++;if(!l)return!1}return!0}function LZ(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var UZ=Array.isArray,FZ="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,zZ=Object.assign,$Z=Object.prototype.toString.call.bind(Object.prototype.toString);var BZ=VZ();function VZ(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?IZ:CZ,areDatesEqual:NZ,areMapsEqual:r?xZ(PZ,IZ):PZ,areObjectsEqual:r?IZ:AZ,arePrimitiveWrappersEqual:MZ,areRegExpsEqual:DZ,areSetsEqual:r?xZ(RZ,IZ):RZ,areTypedArraysEqual:r?IZ:LZ};if(n&&(i=zZ({},i,n(i))),t){var o=_Z(i.areArraysEqual),a=_Z(i.areMapsEqual),s=_Z(i.areObjectsEqual),l=_Z(i.areSetsEqual);i=zZ({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,i=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,a=e.areRegExpsEqual,s=e.areSetsEqual,l=e.areTypedArraysEqual;return function(e,c,u){if(e===c)return!0;if(null==e||null==c||"object"!=typeof e||"object"!=typeof c)return e!=e&&c!=c;var d=e.constructor;if(d!==c.constructor)return!1;if(d===Object)return i(e,c,u);if(UZ(e))return t(e,c,u);if(null!=FZ&&FZ(e))return l(e,c,u);if(d===Date)return n(e,c,u);if(d===RegExp)return a(e,c,u);if(d===Map)return r(e,c,u);if(d===Set)return s(e,c,u);var h=$Z(e);return"[object Date]"===h?n(e,c,u):"[object RegExp]"===h?a(e,c,u):"[object Map]"===h?r(e,c,u):"[object Set]"===h?s(e,c,u):"[object Object]"===h?"function"!=typeof e.then&&"function"!=typeof c.then&&i(e,c,u):"[object Arguments]"===h?i(e,c,u):("[object Boolean]"===h||"[object Number]"===h||"[object String]"===h)&&o(e,c,u)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function qZ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function WZ(e){return(WZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HZ(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return KZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KZ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GZ(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=HZ(r),o=i[0],a=i.slice(1);return"number"==typeof o?void qZ(n.bind(null,a),o):(n(o),void qZ(n.bind(null,a)))}"object"===WZ(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function YZ(e){return(YZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QZ(Object(n),!0).forEach((function(t){JZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JZ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==YZ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==YZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===YZ(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}VZ({strict:!0}),VZ({circular:!0}),VZ({circular:!0,strict:!0}),VZ({createInternalComparator:function(){return EZ}}),VZ({strict:!0,createInternalComparator:function(){return EZ}}),VZ({circular:!0,createInternalComparator:function(){return EZ}}),VZ({circular:!0,createInternalComparator:function(){return EZ},strict:!0});var ZZ=function(e){return e},e0=function(e,t){return Object.keys(t).reduce((function(n,r){return XZ(XZ({},n),{},JZ({},r,e(r,t[r])))}),{})},t0=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function n0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||i0(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r0(e){return function(e){if(Array.isArray(e))return o0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i0(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i0(e,t){if(e){if("string"==typeof e)return o0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o0(e,t):void 0}}function o0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a0=1e-4,s0=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},l0=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},c0=function(e,t){return function(n){var r=s0(e,t);return l0(r,n)}},u0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=n0(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=l[0],i=l[1],o=l[2],a=l[3]}}var c,u,d=c0(r,o),h=c0(i,a),f=(c=r,u=o,function(e){var t=s0(c,u),n=[].concat(r0(t.map((function(e,t){return e*t})).slice(1)),[0]);return l0(n,e)}),p=function(e){for(var t,n=e>1?1:e,r=n,i=0;i<8;++i){var o=d(r)-n,a=f(r);if(Math.abs(o-n)<a0||a<a0)return h(r);r=(t=r-o/a)>1?1:t<0?0:t}return h(r)};return p.isStepper=!1,p},d0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u0(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<a0&&Math.abs(o)<a0?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return u0(r)}return"function"==typeof r?r:null};function h0(e){return(h0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f0(e){return function(e){if(Array.isArray(e))return b0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v0(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p0(Object(n),!0).forEach((function(t){g0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g0(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==h0(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h0(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||v0(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v0(e,t){if(e){if("string"==typeof e)return b0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b0(e,t):void 0}}function b0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w0=function(e,t,n){return e+(t-e)*n},x0=function(e){return e.from!==e.to},_0=function e(t,n,r){var i=e0((function(e,n){if(x0(n)){var r=y0(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return m0(m0({},n),{},{from:i,velocity:o})}return n}),n);return r<1?e0((function(e,t){return x0(t)?m0(m0({},t),{},{velocity:w0(t.velocity,i[e].velocity,r),from:w0(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const S0=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return m0(m0({},n),{},g0({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return m0(m0({},n),{},g0({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=_0(n,d,o),i(m0(m0(m0({},e),t),e0((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(x0).length&&(h=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=e0((function(e,t){return w0.apply(void 0,f0(t).concat([n(a)]))}),u);if(i(m0(m0(m0({},e),t),s)),a<1)h=requestAnimationFrame(f);else{var c=e0((function(e,t){return w0.apply(void 0,f0(t).concat([n(1)]))}),u);i(m0(m0(m0({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function k0(e){return(k0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E0=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function j0(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O0(e){return function(e){if(Array.isArray(e))return T0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T0(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C0(Object(n),!0).forEach((function(t){P0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P0(e,t,n){return(t=I0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A0(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I0(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I0(e){var t=function(e,t){if("object"!==k0(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k0(t)?t:String(t)}function M0(e,t){return(M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch($j){return!1}}();return function(){var n,r=U0(e);if(t){var i=U0(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R0(this,n)}}function R0(e,t){if(t&&("object"===k0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L0(e)}function L0(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U0(e){return(U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F0=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M0(e,t)}(t,W.PureComponent);var e=D0(t);function t(n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=(i=e.call(this,n,r)).props,a=o.isActive,s=o.attributeName,l=o.from,c=o.to,u=o.steps,d=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(L0(i)),i.changeStyle=i.changeStyle.bind(L0(i)),!a||h<=0)return i.state={style:{}},"function"==typeof d&&(i.state={style:c}),R0(i);if(u&&u.length)i.state={style:u[0].style};else if(l){if("function"==typeof d)return i.state={style:l},R0(i);i.state={style:s?P0({},s,l):l}}else i.state={style:{}};return i}return A0(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(BZ(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?P0({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(N0(N0({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?P0({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=S0(n,r,d0(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(O0(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(O0(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=t0(h,o,s),p=N0(N0(N0({},d.style),l),{},{transition:f});return[].concat(O0(e),[p,o,u]).filter(ZZ)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=GZ());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?P0({},r,i):i,h=t0(Object.keys(d),n,o);u.start([a,t,N0(N0({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=j0(e,E0),o=W.Children.count(t),a=this.state.style;if("function"==typeof t)return t(a);if(!r||0===o||n<=0)return t;var s=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,o=t.className;return W.cloneElement(e,N0(N0({},i),{},{style:N0(N0({},r),a),className:o}))};return 1===o?s(W.Children.only(t)):H.createElement("div",null,W.Children.map(t,(function(e){return s(e)})))}}]),t}();function z0(e){return(z0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(this,arguments)}function B0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q0(Object(n),!0).forEach((function(t){H0(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H0(e,t,n){return t=function(e){var t=function(e,t){if("object"!=z0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z0(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}F0.displayName="Animate",F0.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},F0.propTypes={from:yZ.oneOfType([yZ.object,yZ.string]),to:yZ.oneOfType([yZ.object,yZ.string]),attributeName:yZ.string,duration:yZ.number,begin:yZ.number,easing:yZ.oneOfType([yZ.string,yZ.func]),steps:yZ.arrayOf(yZ.shape({duration:yZ.number.isRequired,style:yZ.object.isRequired,easing:yZ.oneOfType([yZ.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yZ.func]),properties:yZ.arrayOf("string"),onAnimationEnd:yZ.func})),children:yZ.oneOfType([yZ.node,yZ.func]),isActive:yZ.bool,canBegin:yZ.bool,onAnimationEnd:yZ.func,shouldReAnimate:yZ.bool,onAnimationStart:yZ.func,onAnimationReStart:yZ.func},yZ.object,yZ.object,yZ.object,yZ.element,yZ.object,yZ.object,yZ.object,yZ.oneOfType([yZ.array,yZ.element]),yZ.any;var K0=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},G0=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},Y0={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q0=function(e){var t=W0(W0({},Y0),e),n=W.useRef(),r=B0(W.useState(-1),2),i=r[0],o=r[1];W.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var a=t.x,s=t.y,l=t.width,c=t.height,u=t.radius,d=t.className,h=t.animationEasing,f=t.animationDuration,p=t.animationBegin,m=t.isAnimationActive,g=t.isUpdateAnimationActive;if(a!==+a||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var y=BA("recharts-rectangle",d);return g?H.createElement(F0,{canBegin:i>0,from:{width:l,height:c,x:a,y:s},to:{width:l,height:c,x:a,y:s},duration:f,animationEasing:h,isActive:g},(function(e){var r=e.width,o=e.height,a=e.x,s=e.y;return H.createElement(F0,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:m,easing:h},H.createElement("path",$0({},bR(t,!0),{className:y,d:K0(a,s,r,o,u),ref:n})))})):H.createElement("path",$0({},bR(t,!0),{className:y,d:K0(a,s,l,c,u)}))};function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X0.apply(this,arguments)}var J0=function(e){var t=e.cx,n=e.cy,r=e.r,i=BA("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?H.createElement("circle",X0({},bR(e,!1),iR(e),{className:i,cx:t,cy:n,r:r})):null};function Z0(e){return(Z0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var e1=["x","y","top","left","width","height","className"];function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t1.apply(this,arguments)}function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r1(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Z0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z0(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i1(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o1=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},a1=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.top,a=void 0===o?0:o,s=e.left,l=void 0===s?0:s,c=e.width,u=void 0===c?0:c,d=e.height,h=void 0===d?0:d,f=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n1(Object(n),!0).forEach((function(t){r1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:i,top:a,left:l,width:u,height:h},i1(e,e1));return qD(n)&&qD(i)&&qD(u)&&qD(h)&&qD(a)&&qD(l)?H.createElement("path",t1({},bR(p,!0),{className:BA("recharts-cross",f),d:o1(n,i,u,h,a,l)})):null},s1=az(Object.getPrototypeOf,Object),l1=oI,c1=s1,u1=aI,d1=Function.prototype,h1=Object.prototype,f1=d1.toString,p1=h1.hasOwnProperty,m1=f1.call(Object);const g1=o((function(e){if(!u1(e)||"[object Object]"!=l1(e))return!1;var t=c1(e);if(null===t)return!0;var n=p1.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&f1.call(n)==m1}));var y1=oI,v1=aI;const b1=o((function(e){return!0===e||!1===e||v1(e)&&"[object Boolean]"==y1(e)}));function w1(e){return(w1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x1.apply(this,arguments)}function _1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S1(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k1(Object(n),!0).forEach((function(t){j1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j1(e,t,n){return t=function(e){var t=function(e,t){if("object"!=w1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w1(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O1=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},T1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},C1=function(e){var t=E1(E1({},T1),e),n=W.useRef(),r=_1(W.useState(-1),2),i=r[0],o=r[1];W.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var a=t.x,s=t.y,l=t.upperWidth,c=t.lowerWidth,u=t.height,d=t.className,h=t.animationEasing,f=t.animationDuration,p=t.animationBegin,m=t.isUpdateAnimationActive;if(a!==+a||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var g=BA("recharts-trapezoid",d);return m?H.createElement(F0,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:a,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:a,y:s},duration:f,animationEasing:h,isActive:m},(function(e){var r=e.upperWidth,o=e.lowerWidth,a=e.height,s=e.x,l=e.y;return H.createElement(F0,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:h},H.createElement("path",x1({},bR(t,!0),{className:g,d:O1(s,l,r,o,a),ref:n})))})):H.createElement("g",null,H.createElement("path",x1({},bR(t,!0),{className:g,d:O1(a,s,l,c,u)})))},N1=["option","shapeType","propTransformer","activeClassName","isActive"];function P1(e){return(P1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A1(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I1(Object(n),!0).forEach((function(t){D1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D1(e,t,n){return t=function(e){var t=function(e,t){if("object"!=P1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P1(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R1(e,t){return M1(M1({},t),e)}function L1(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return H.createElement(Q0,n);case"trapezoid":return H.createElement(C1,n);case"sector":return H.createElement(tZ,n);case"symbols":if(function(e){return"symbols"===e}(t))return H.createElement(gU,n);break;default:return null}}function U1(e){var t,n=e.option,r=e.shapeType,i=e.propTransformer,o=void 0===i?R1:i,a=e.activeClassName,s=void 0===a?"recharts-active-shape":a,l=e.isActive,c=A1(e,N1);if(W.isValidElement(n))t=W.cloneElement(n,M1(M1({},c),function(e){return W.isValidElement(e)?e.props:e}(n)));else if(wI(n))t=n(c);else if(g1(n)&&!b1(n)){var u=o(n,c);t=H.createElement(L1,{shapeType:r,elementProps:u})}else{var d=c;t=H.createElement(L1,{shapeType:r,elementProps:d})}return l?H.createElement(NR,{className:s},t):t}function F1(e,t){return null!=t&&"trapezoids"in e.props}function z1(e,t){return null!=t&&"sectors"in e.props}function $1(e,t){return null!=t&&"points"in e.props}function B1(e,t){var n,r,i=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function V1(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function q1(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function W1(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return F1(e,t)?n="trapezoids":z1(e,t)?n="sectors":$1(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return F1(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:z1(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:$1(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=mQ(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return F1(e,t)?n=B1:z1(e,t)?n=V1:$1(e,t)&&(n=q1),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var H1=Math.ceil,K1=Math.max;var G1=pq,Y1=1/0;var Q1=function(e){return e?(e=G1(e))===Y1||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},X1=function(e,t,n,r){for(var i=-1,o=K1(H1((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a},J1=fV,Z1=Q1;const e2=o(function(e){return function(t,n,r){return r&&"number"!=typeof r&&J1(t,n,r)&&(n=r=void 0),t=Z1(t),void 0===n?(n=t,t=0):n=Z1(n),r=void 0===r?t<n?1:-1:Z1(r),X1(t,n,r,e)}}());function t2(e){return(t2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n2(Object(n),!0).forEach((function(t){i2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i2(e,t,n){return t=function(e){var t=function(e,t){if("object"!=t2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=t2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==t2(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o2=["Webkit","Moz","O","ms"];function a2(e){return(a2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s2.apply(this,arguments)}function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l2(Object(n),!0).forEach((function(t){m2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g2(r.key),r)}}function d2(e,t,n){return t=f2(t),function(e,t){if(t&&("object"===a2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h2()?Reflect.construct(t,n||[],f2(e).constructor):t.apply(e,n))}function h2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h2=function(){return!!e})()}function f2(e){return(f2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p2(e,t){return(p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m2(e,t,n){return(t=g2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g2(e){var t=function(e,t){if("object"!=a2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a2(t)?t:t+""}var y2=function(e){return e.changedTouches&&!!e.changedTouches.length},v2=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m2(n=d2(this,e,[t]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),m2(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),m2(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null==r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),m2(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),m2(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),m2(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),m2(n,"handleSlideDragStart",(function(e){var t=y2(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p2(e,t)}(e,W.PureComponent),t=e,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(i,l),d=e.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=qX(n[e],i,e);return wI(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=y2(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(m2(m2({},r,a+m),"brushMoveStartX",e.pageX),(function(){var e;d&&(e=f.length-1,("startX"===r&&(i>o?y%h==0:v%h==0)||i<o&&v===e||"endX"===r&&(i>o?v%h==0:y%h==0)||i>o&&v===e)&&d(g))}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(m2({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.fill,a=e.stroke;return H.createElement("rect",{stroke:a,fill:o,x:t,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.data,a=e.children,s=e.padding,l=W.Children.only(a);return l?H.cloneElement(l,{x:t,y:n,width:r,height:i,margin:s,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,i,o=this,a=this.props,s=a.y,l=a.travellerWidth,c=a.height,u=a.traveller,d=a.ariaLabel,h=a.data,f=a.startIndex,p=a.endIndex,m=Math.max(t,this.props.x),g=c2(c2({},bR(this.props,!1)),{},{x:m,y:s,width:l,height:c}),y=d||"Min value: ".concat(null===(r=h[f])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=h[p])||void 0===i?void 0:i.name);return H.createElement(NR,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(u,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,i=n.height,o=n.stroke,a=n.travellerWidth,s=Math.min(e,t)+a,l=Math.max(Math.abs(t-e)-a,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:s,y:r,width:l,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,i=e.height,o=e.travellerWidth,a=e.stroke,s=this.state,l=s.startX,c=s.endX,u={pointerEvents:"none",fill:a};return H.createElement(NR,{className:"recharts-brush-texts"},H.createElement(mW,s2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+i/2},u),this.getTextOfTick(t)),H.createElement(mW,s2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+o+5,y:r+i/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,i=e.x,o=e.y,a=e.width,s=e.height,l=e.alwaysShowText,c=this.state,u=c.startX,d=c.endX,h=c.isTextActive,f=c.isSlideMoving,p=c.isTravellerMoving,m=c.isTravellerFocused;if(!t||!t.length||!qD(i)||!qD(o)||!qD(a)||!qD(s)||a<=0||s<=0)return null;var g,y,v,b,w=BA("recharts-brush",n),x=1===H.Children.count(r),_=(y="none",v=(g="userSelect").replace(/(\w)/,(function(e){return e.toUpperCase()})),(b=o2.reduce((function(e,t){return r2(r2({},e),{},i2({},t+v,y))}),{}))[g]=y,b);return H.createElement(NR,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(u,d),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(d,"endX"),(h||f||p||m||l)&&this.renderText())}}],r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.stroke,a=Math.floor(n+i/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:t,y:n,width:r,height:i,fill:o,stroke:"none"}),H.createElement("line",{x1:t+1,y1:a,x2:t+r-1,y2:a,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:t+1,y1:a+2,x2:t+r-1,y2:a+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return H.isValidElement(t)?H.cloneElement(t,n):wI(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return c2({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=qW().domain(e2(0,s)).range([i,i+o-a]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],n&&u2(t.prototype,n),r&&u2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();m2(v2,"displayName","Brush"),m2(v2,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var b2=IB;var w2=HU,x2=B$,_2=function(e,t){var n;return b2(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n},S2=VA,k2=fV;const E2=o((function(e,t,n){var r=S2(e)?w2:_2;return n&&k2(e,t,n)&&(t=void 0),r(e,x2(t))}));var j2=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},O2=eV;var T2=function(e,t,n){"__proto__"==t&&O2?O2(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},C2=PB,N2=B$;const P2=o((function(e,t){var n={};return t=N2(t),C2(e,(function(e,r,i){T2(n,r,t(e,r,i))})),n}));var A2=IB;var I2=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},M2=function(e,t){var n=!0;return A2(e,(function(e,r,i){return n=!!t(e,r,i)})),n},D2=B$,R2=VA,L2=fV;const U2=o((function(e,t,n){var r=R2(e)?I2:M2;return n&&L2(e,t,n)&&(t=void 0),r(e,D2(t))}));var F2=["x","y"];function z2(e){return(z2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $2(){return $2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$2.apply(this,arguments)}function B2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B2(Object(n),!0).forEach((function(t){q2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q2(e,t,n){return t=function(e){var t=function(e,t){if("object"!=z2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z2(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W2(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H2(e,t){var n=e.x,r=e.y,i=W2(e,F2),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return V2(V2(V2(V2(V2({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function K2(e){return H.createElement(U1,$2({shapeType:"rectangle",propTransformer:H2,activeClassName:"recharts-active-bar"},e))}var G2,Y2=["value","background"];function Q2(e){return(Q2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X2(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J2.apply(this,arguments)}function Z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function e4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z2(Object(n),!0).forEach((function(t){a4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function t4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s4(r.key),r)}}function n4(e,t,n){return t=i4(t),function(e,t){if(t&&("object"===Q2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,r4()?Reflect.construct(t,n||[],i4(e).constructor):t.apply(e,n))}function r4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(r4=function(){return!!e})()}function i4(e){return(i4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o4(e,t){return(o4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a4(e,t,n){return(t=s4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s4(e){var t=function(e,t){if("object"!=Q2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Q2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q2(t)?t:t+""}var l4=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a4(t=n4(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),a4(t,"id",KD("recharts-bar-")),a4(t,"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()})),a4(t,"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o4(e,t)}(e,W.PureComponent),t=e,n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,i=n.dataKey,o=n.activeIndex,a=n.activeBar,s=bR(this.props,!1);return e&&e.map((function(e,n){var l=n===o,c=l?a:r,u=e4(e4(e4({},s),e),{},{isActive:l,option:c,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return H.createElement(NR,J2({className:"recharts-bar-rectangle"},oR(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value)}),H.createElement(K2,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,i=t.isAnimationActive,o=t.animationBegin,a=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevData;return H.createElement(F0,{begin:o,duration:a,isActive:i,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,o=n.map((function(e,t){var n=c&&c[t];if(n){var o=QD(n.x,e.x),a=QD(n.y,e.y),s=QD(n.width,e.width),l=QD(n.height,e.height);return e4(e4({},e),{},{x:o(i),y:a(i),width:s(i),height:l(i)})}if("horizontal"===r){var u=QD(0,e.height)(i);return e4(e4({},e),{},{y:e.y+e.height-u,height:u})}var d=QD(0,e.width)(i);return e4(e4({},e),{},{width:d})}));return H.createElement(NR,null,e.renderRectanglesStatically(o))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&mQ(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,i=t.activeIndex,o=bR(this.props.background,!1);return n.map((function(t,n){t.value;var a=t.background,s=X2(t,Y2);if(!a)return null;var l=e4(e4(e4(e4(e4({},s),{},{fill:"#eee"},a),o),oR(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return H.createElement(K2,J2({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},l))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,o=n.yAxis,a=n.layout,s=mR(n.children,AX);if(!s)return null;var l="vertical"===a?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:qX(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return H.createElement(NR,u,s.map((function(e){return H.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,offset:l,dataPointFormatter:c})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,i=e.xAxis,o=e.yAxis,a=e.left,s=e.top,l=e.width,c=e.height,u=e.isAnimationActive,d=e.background,h=e.id;if(t||!n||!n.length)return null;var f=this.state.isAnimationFinished,p=BA("recharts-bar",r),m=i&&i.allowDataOverflow,g=o&&o.allowDataOverflow,y=m||g,v=hD(h)?this.id:h;return H.createElement(NR,{className:p},m||g?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(v)},H.createElement("rect",{x:m?a:a-l/2,y:g?s:s-c/2,width:m?l:2*l,height:g?c:2*c}))):null,H.createElement(NR,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(v,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,v),(!u||f)&&HJ.renderCallByParent(this.props,n))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],n&&t4(t.prototype,n),r&&t4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function c4(e){return(c4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p4(r.key),r)}}function d4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d4(Object(n),!0).forEach((function(t){f4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f4(e,t,n){return(t=p4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p4(e){var t=function(e,t){if("object"!=c4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c4(t)?t:t+""}G2=l4,a4(l4,"displayName","Bar"),a4(l4,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qV.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),a4(l4,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?e4(e4({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,w="horizontal"===p?a:o,x=c?w.scale.domain():null,_=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:w}),S=mR(v,Aq),k=d.map((function(e,t){var r,d,h,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!qD(t[0])||!qD(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!qD(e[0])||e[0]<n)&&(i[0]=n),(!qD(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],x):(r=qX(e,y),Array.isArray(r)||(r=[_,r]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var i="number"==typeof n;return i?e(n,r):(i||vX(),t)}}(b,G2.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var k,E=[a.scale(r[0]),a.scale(r[1])],j=E[0],O=E[1];d=iJ({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(k=null!=O?O:j)&&void 0!==k?k:void 0,m=f.size;var T=j-O;if(g=Number.isNaN(T)?0:T,v={x:d,y:a.y,width:m,height:a.height},Math.abs(w)>0&&Math.abs(g)<Math.abs(w)){var C=BD(g||w)*(Math.abs(w)-Math.abs(g));h-=C,g+=C}}else{var N=[o.scale(r[0]),o.scale(r[1])],P=N[0],A=N[1];if(d=P,h=iJ({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=A-P,g=f.size,v={x:o.x,y:h,width:o.width,height:g},Math.abs(w)>0&&Math.abs(m)<Math.abs(w))m+=BD(m||w)*(Math.abs(w)-Math.abs(m))}return e4(e4(e4({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:v},S&&S[t]&&S[t].props),{},{tooltipPayload:[dJ(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})}));return e4({data:k,layout:p},h)}));var m4=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},g4=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&u4(t.prototype,n),r&&u4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();f4(g4,"EPS",1e-4);var y4=function(e){var t=Object.keys(e).reduce((function(t,n){return h4(h4({},t),{},f4({},n,g4.create(e[n])))}),{});return h4(h4({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return P2(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return U2(e,(function(e,n){return t[n].isInRange(e)}))}})};var v4=B$,b4=fz,w4=yz;var x4=function(e){return function(t,n,r){var i=Object(t);if(!b4(t)){var o=v4(n);t=w4(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}},_4=Q1;var S4=V$,k4=B$,E4=function(e){var t=_4(e),n=t%1;return t==t?n?t-n:t:0},j4=Math.max;const O4=o(x4((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:E4(n);return i<0&&(i=j4(r+i,0)),S4(e,k4(t),i)})));var T4=FM((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")})),C4=W.createContext(void 0),N4=W.createContext(void 0),P4=W.createContext(void 0),A4=W.createContext({}),I4=W.createContext(void 0),M4=W.createContext(0),D4=W.createContext(0),R4=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,i=t.offset,o=e.clipPathId,a=e.children,s=e.width,l=e.height,c=T4(i);return H.createElement(C4.Provider,{value:n},H.createElement(N4.Provider,{value:r},H.createElement(A4.Provider,{value:i},H.createElement(P4.Provider,{value:c},H.createElement(I4.Provider,{value:o},H.createElement(M4.Provider,{value:l},H.createElement(D4.Provider,{value:s},a)))))))},L4=function(e){var t=W.useContext(C4);null==t&&vX();var n=t[e];return null==n&&vX(),n},U4=function(e){var t=W.useContext(N4);null==t&&vX();var n=t[e];return null==n&&vX(),n},F4=function(){return W.useContext(D4)},z4=function(){return W.useContext(M4)};function $4(e){return($4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B4(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q4(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V4(e,t,n){return t=W4(t),function(e,t){if(t&&("object"===$4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q4()?Reflect.construct(t,n||[],W4(e).constructor):t.apply(e,n))}function q4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(q4=function(){return!!e})()}function W4(e){return(W4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H4(e,t){return(H4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K4(Object(n),!0).forEach((function(t){Y4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y4(e,t,n){return(t=Q4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q4(e){var t=function(e,t){if("object"!=$4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$4(t)?t:t+""}function X4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J4(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z4(){return Z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z4.apply(this,arguments)}function e3(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,c=W.useContext(I4),u=L4(i),d=U4(o),h=W.useContext(P4);if(!c||!h)return null;PR(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(j2(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:o});if(j2(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:o})}));return j2(l,"discard")&&E2(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(y4({x:u.scale,y:d.scale}),WD(t),WD(n),r&&2===r.length,h,e.position,u.orientation,d.orientation,e);if(!f)return null;var p=X4(f,2),m=p[0],g=m.x,y=m.y,v=p[1],b=v.x,w=v.y,x=G4(G4({clipPath:j2(e,"hidden")?"url(#".concat(c,")"):void 0},bR(e,!0)),{},{x1:g,y1:y,x2:b,y2:w});return H.createElement(NR,{className:BA("recharts-reference-line",s)},function(e,t){return H.isValidElement(e)?H.cloneElement(e,t):wI(e)?e(t):H.createElement("line",Z4({},t,{className:"recharts-reference-line-line"}))}(a,x),AJ.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return m4({x:t,y:n},{x:r,y:i})}({x1:g,y1:y,x2:b,y2:w})))}var t3=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),V4(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H4(e,t)}(e,H.Component),B4(e,[{key:"render",value:function(){return H.createElement(e3,this.props)}}])}();function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n3.apply(this,arguments)}function r3(e){return(r3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i3(Object(n),!0).forEach((function(t){d3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a3(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h3(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s3(e,t,n){return t=c3(t),function(e,t){if(t&&("object"===r3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l3()?Reflect.construct(t,n||[],c3(e).constructor):t.apply(e,n))}function l3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l3=function(){return!!e})()}function c3(e){return(c3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u3(e,t){return(u3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d3(e,t,n){return(t=h3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h3(e){var t=function(e,t){if("object"!=r3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=r3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r3(t)?t:t+""}Y4(t3,"displayName","ReferenceLine"),Y4(t3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var f3=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s3(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u3(e,t)}(e,H.Component),a3(e,[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,i=t.r,o=t.alwaysShow,a=t.clipPathId,s=WD(n),l=WD(r);if(PR(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=y4({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return j2(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!c)return null;var u=c.x,d=c.y,h=this.props,f=h.shape,p=h.className,m=o3(o3({clipPath:j2(this.props,"hidden")?"url(#".concat(a,")"):void 0},bR(this.props,!0)),{},{cx:u,cy:d});return H.createElement(NR,{className:BA("recharts-reference-dot",p)},e.renderDot(f,m),AJ.renderCallByParent(this.props,{x:u-i,y:d-i,width:2*i,height:2*i}))}}])}();function p3(){return p3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p3.apply(this,arguments)}function m3(e){return(m3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g3(Object(n),!0).forEach((function(t){S3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v3(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k3(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b3(e,t,n){return t=x3(t),function(e,t){if(t&&("object"===m3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w3()?Reflect.construct(t,n||[],x3(e).constructor):t.apply(e,n))}function w3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(w3=function(){return!!e})()}function x3(e){return(x3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _3(e,t){return(_3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S3(e,t,n){return(t=k3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k3(e){var t=function(e,t){if("object"!=m3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m3(t)?t:t+""}d3(f3,"displayName","ReferenceDot"),d3(f3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),d3(f3,"renderDot",(function(e,t){return H.isValidElement(e)?H.cloneElement(e,t):wI(e)?e(t):H.createElement(J0,n3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var E3=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b3(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_3(e,t)}(e,H.Component),v3(e,[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,i=t.y1,o=t.y2,a=t.className,s=t.alwaysShow,l=t.clipPathId;PR(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=WD(n),u=WD(r),d=WD(i),h=WD(o),f=this.props.shape;if(!(c||u||d||h||f))return null;var p=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=y4({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!j2(i,"discard")||d.isInRange(h)&&d.isInRange(f)?m4(h,f):null}(c,u,d,h,this.props);if(!p&&!f)return null;var m=j2(this.props,"hidden")?"url(#".concat(l,")"):void 0;return H.createElement(NR,{className:BA("recharts-reference-area",a)},e.renderRect(f,y3(y3({clipPath:m},bR(this.props,!0)),p)),AJ.renderCallByParent(this.props,p))}}])}();function j3(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function O3(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function T3(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function C3(e){return(C3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N3(Object(n),!0).forEach((function(t){A3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A3(e,t,n){return t=function(e){var t=function(e,t){if("object"!=C3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C3(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I3(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(qD(l)||qV.isSsr)return function(e,t){return j3(e,t+1)}(i,"number"==typeof l&&qD(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?zq(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=wI(c)?c(e.value,r):e.value;return"width"===f?O3(zq(i,{fontSize:t,letterSpacing:n}),p,d):zq(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?BD(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:j3(r,u)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===c||T3(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=a.length;)if(o=h())return o.v;return[]}(g,y,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=P3(P3({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),T3(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=P3(P3({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=P3(P3({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=P3(P3({},o),{},{tickCoord:o.coordinate});T3(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=P3(P3({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=P3(P3({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=P3(P3({},c),{},{tickCoord:c.coordinate});T3(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=P3(P3({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,y,m,i,a),h.filter((function(e){return e.isShow})))}S3(E3,"displayName","ReferenceArea"),S3(E3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),S3(E3,"renderRect",(function(e,t){return H.isValidElement(e)?H.cloneElement(e,t):wI(e)?e(t):H.createElement(Q0,p3({},t,{className:"recharts-reference-area-rect"}))}));var M3=["viewBox"],D3=["viewBox"],R3=["ticks"];function L3(e){return(L3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U3(){return U3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U3.apply(this,arguments)}function F3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F3(Object(n),!0).forEach((function(t){K3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $3(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G3(r.key),r)}}function V3(e,t,n){return t=W3(t),function(e,t){if(t&&("object"===L3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q3()?Reflect.construct(t,n||[],W3(e).constructor):t.apply(e,n))}function q3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(q3=function(){return!!e})()}function W3(e){return(W3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H3(e,t){return(H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K3(e,t,n){return(t=G3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G3(e){var t=function(e,t){if("object"!=L3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L3(t)?t:t+""}var Y3=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=V3(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H3(e,t)}(e,W.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return H.isValidElement(e)?H.cloneElement(e,t):wI(e)?e(t):H.createElement(mW,U3({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=$3(e,M3),i=this.props,o=i.viewBox,a=$3(i,D3);return!JD(n,o)||!JD(r,a)||!JD(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=qD(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*d)-g*y)-g*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*u)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*u)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*d)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,i=e.height,o=e.orientation,a=e.mirror,s=e.axisLine,l=z3(z3(z3({},bR(this.props,!1)),bR(s,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!a||"bottom"===o&&a);l=z3(z3({},l),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var u=+("left"===o&&!a||"right"===o&&a);l=z3(z3({},l),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+i})}return H.createElement("line",U3({},l,{className:BA("recharts-cartesian-axis-line",dD(s,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var i=this,o=this.props,a=o.tickLine,s=o.stroke,l=o.tick,c=o.tickFormatter,u=o.unit,d=I3(z3(z3({},this.props),{},{ticks:t}),n,r),h=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),p=bR(this.props,!1),m=bR(l,!1),g=z3(z3({},p),{},{fill:"none"},bR(a,!1)),y=d.map((function(t,n){var r=i.getTickLineCoord(t),o=r.line,y=r.tick,v=z3(z3(z3(z3({textAnchor:h,verticalAnchor:f},p),{},{stroke:"none",fill:s},m),y),{},{index:n,payload:t,visibleTicksCount:d.length,tickFormatter:c});return H.createElement(NR,U3({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},oR(i.props,t,n)),a&&H.createElement("line",U3({},g,o,{className:BA("recharts-cartesian-axis-tick-line",dD(a,"className"))})),l&&e.renderTickItem(l,v,"".concat(wI(c)?c(t.value,n):t.value).concat(u||"")))}));return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,i=t.height,o=t.ticksGenerator,a=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,c=$3(s,R3),u=l;return wI(o)&&(u=l&&l.length>0?o(this.props):o(c)),r<=0||i<=0||!u||!u.length?null:H.createElement(NR,{className:BA("recharts-cartesian-axis",a),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),AJ.renderCallByParent(this.props))}}])&&B3(t.prototype,n),r&&B3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();K3(Y3,"displayName","CartesianAxis"),K3(Y3,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Q3=["x1","y1","x2","y2","key"],X3=["offset"];function J3(e){return(J3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function e6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z3(Object(n),!0).forEach((function(t){t6(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function t6(e,t,n){return t=function(e){var t=function(e,t){if("object"!=J3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=J3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J3(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n6(){return n6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n6.apply(this,arguments)}function r6(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var i6=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.ry;return H.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function o6(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(wI(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=r6(t,Q3),c=bR(l,!1);c.offset;var u=r6(c,X3);n=H.createElement("line",n6({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function a6(e){var t=e.x,n=e.width,r=e.horizontal,i=void 0===r||r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map((function(r,o){var a=e6(e6({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(o),index:o});return o6(i,a)}));return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function s6(e){var t=e.y,n=e.height,r=e.vertical,i=void 0===r||r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map((function(r,o){var a=e6(e6({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(o),index:o});return o6(i,a)}));return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function l6(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=s.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==c[0]&&c.unshift(0);var u=c.map((function(e,s){var l=!c[s+1]?i+a-e:c[s+1]-e;if(l<=0)return null;var u=s%t.length;return H.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:o,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function c6(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var d=u.map((function(e,t){var n=!u[t+1]?o+s-e:u[t+1]-e;if(n<=0)return null;var c=t%r.length;return H.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var u6=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return QX(I3(e6(e6(e6({},Y3.defaultProps),n),{},{ticks:XX(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},d6=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return QX(I3(e6(e6(e6({},Y3.defaultProps),n),{},{ticks:XX(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},h6={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function f6(e){var t,n,r,i,o,a,s,l,c=F4(),u=z4(),d=W.useContext(A4),h=e6(e6({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:h6.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:h6.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:h6.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:h6.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:h6.vertical,verticalFill:null!==(a=e.verticalFill)&&void 0!==a?a:h6.verticalFill,x:qD(e.x)?e.x:d.left,y:qD(e.y)?e.y:d.top,width:qD(e.width)?e.width:d.width,height:qD(e.height)?e.height:d.height}),f=h.x,p=h.y,m=h.width,g=h.height,y=h.syncWithTicks,v=h.horizontalValues,b=h.verticalValues,w=(s=W.useContext(C4),YD(s)),x=(l=W.useContext(N4),O4(l,(function(e){return U2(e.domain,Number.isFinite)}))||YD(l));if(!qD(m)||m<=0||!qD(g)||g<=0||!qD(f)||f!==+f||!qD(p)||p!==+p)return null;var _=h.verticalCoordinatesGenerator||u6,S=h.horizontalCoordinatesGenerator||d6,k=h.horizontalPoints,E=h.verticalPoints;if((!k||!k.length)&&wI(S)){var j=v&&v.length,O=S({yAxis:x?e6(e6({},x),{},{ticks:j?v:x.ticks}):void 0,width:c,height:u,offset:d},!!j||y);PR(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(J3(O),"]")),Array.isArray(O)&&(k=O)}if((!E||!E.length)&&wI(_)){var T=b&&b.length,C=_({xAxis:w?e6(e6({},w),{},{ticks:T?b:w.ticks}):void 0,width:c,height:u,offset:d},!!T||y);PR(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(J3(C),"]")),Array.isArray(C)&&(E=C)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(i6,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),H.createElement(a6,n6({},h,{offset:d,horizontalPoints:k,xAxis:w,yAxis:x})),H.createElement(s6,n6({},h,{offset:d,verticalPoints:E,xAxis:w,yAxis:x})),H.createElement(l6,n6({},h,{horizontalPoints:k})),H.createElement(c6,n6({},h,{verticalPoints:E})))}f6.displayName="CartesianGrid";var p6=["type","layout","connectNulls","ref"],m6=["key"];function g6(e){return(g6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y6(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v6(){return v6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v6.apply(this,arguments)}function b6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b6(Object(n),!0).forEach((function(t){T6(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x6(e){return function(e){if(Array.isArray(e))return _6(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _6(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C6(r.key),r)}}function k6(e,t,n){return t=j6(t),function(e,t){if(t&&("object"===g6(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E6()?Reflect.construct(t,n||[],j6(e).constructor):t.apply(e,n))}function E6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E6=function(){return!!e})()}function j6(e){return(j6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O6(e,t){return(O6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T6(e,t,n){return(t=C6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C6(e){var t=function(e,t){if("object"!=g6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g6(t)?t:t+""}var N6=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return T6(t=k6(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),T6(t,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),T6(t,"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return t.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(x6(i.slice(0,u)),[s-d]);break}var h=c.length%2==0?[0,l]:[l];return[].concat(x6(e.repeat(i,a)),x6(c),h).map((function(e){return"".concat(e,"px")})).join(", ")})),T6(t,"id",KD("recharts-line-")),T6(t,"pathRef",(function(e){t.mainCurve=e})),T6(t,"handleAnimationEnd",(function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()})),T6(t,"handleAnimationStart",(function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O6(e,t)}(e,W.PureComponent),t=e,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,i=n.xAxis,o=n.yAxis,a=n.layout,s=mR(n.children,AX);if(!s)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:qX(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return H.createElement(NR,c,s.map((function(e){return H.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:i,yAxis:o,layout:a,dataPointFormatter:l})})))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,a=i.points,s=i.dataKey,l=bR(this.props,!1),c=bR(o,!0),u=a.map((function(t,n){var r=w6(w6(w6({key:"dot-".concat(n),r:3},l),c),{},{value:t.value,dataKey:s,cx:t.x,cy:t.y,index:n,payload:t.payload});return e.renderDotItem(o,r)})),d={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return H.createElement(NR,v6({className:"recharts-line-dots",key:"dots"},d),u)}},{key:"renderCurveStatically",value:function(e,t,n,r){var i=this.props,o=i.type,a=i.layout,s=i.connectNulls;i.ref;var l=y6(i,p6),c=w6(w6(w6({},bR(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:o,layout:a,connectNulls:s});return H.createElement(hZ,v6({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,i=r.points,o=r.strokeDasharray,a=r.isAnimationActive,s=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,d=r.animateNewValues,h=r.width,f=r.height,p=this.state,m=p.prevPoints,g=p.totalLength;return H.createElement(F0,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var a=r.t;if(m){var s=m.length/i.length,l=i.map((function(e,t){var n=Math.floor(t*s);if(m[n]){var r=m[n],i=QD(r.x,e.x),o=QD(r.y,e.y);return w6(w6({},e),{},{x:i(a),y:o(a)})}if(d){var l=QD(2*h,e.x),c=QD(f/2,e.y);return w6(w6({},e),{},{x:l(a),y:c(a)})}return w6(w6({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var c,u=QD(0,g)(a);if(o){var p="".concat(o).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=n.getStrokeDasharray(u,g,p)}else c=n.generateSimpleStrokeDasharray(g,u);return n.renderCurveStatically(i,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!mQ(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,i=t.points,o=t.className,a=t.xAxis,s=t.yAxis,l=t.top,c=t.left,u=t.width,d=t.height,h=t.isAnimationActive,f=t.id;if(n||!i||!i.length)return null;var p=this.state.isAnimationFinished,m=1===i.length,g=BA("recharts-line",o),y=a&&a.allowDataOverflow,v=s&&s.allowDataOverflow,b=y||v,w=hD(f)?this.id:f,x=null!==(e=bR(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},_=x.r,S=void 0===_?3:_,k=x.strokeWidth,E=void 0===k?2:k,j=(function(e){return e&&"object"===cR(e)&&"clipDot"in e}(r)?r:{}).clipDot,O=void 0===j||j,T=2*S+E;return H.createElement(NR,{className:g},y||v?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(w)},H.createElement("rect",{x:y?c:c-u/2,y:v?l:l-d/2,width:y?u:2*u,height:v?d:2*d})),!O&&H.createElement("clipPath",{id:"clipPath-dots-".concat(w)},H.createElement("rect",{x:c-T/2,y:l-T/2,width:u+T,height:d+T}))):null,!m&&this.renderCurve(b,w),this.renderErrorBar(b,w),(m||r)&&this.renderDots(b,O,w),(!h||p)&&HJ.renderCallByParent(this.props,i))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(x6(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(x6(r),x6(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(wI(e))n=e(t);else{var r=t.key,i=y6(t,m6),o=BA("recharts-line-dot","boolean"!=typeof e?e.className:"");n=H.createElement(J0,v6({key:r},i,{className:o}))}return n}}],n&&S6(t.prototype,n),r&&S6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function P6(e){return(P6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A6(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U6(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I6(e,t,n){return t=D6(t),function(e,t){if(t&&("object"===P6(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,M6()?Reflect.construct(t,n||[],D6(e).constructor):t.apply(e,n))}function M6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(M6=function(){return!!e})()}function D6(e){return(D6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R6(e,t){return(R6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function L6(e,t,n){return(t=U6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U6(e){var t=function(e,t){if("object"!=P6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P6(t)?t:t+""}function F6(){return F6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F6.apply(this,arguments)}function z6(e){var t=e.xAxisId,n=F4(),r=z4(),i=L4(t);return null==i?null:H.createElement(Y3,F6({},i,{className:BA("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return XX(e,!0)}}))}T6(N6,"displayName","Line"),T6(N6,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qV.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),T6(N6,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return w6({points:l.map((function(e,t){var l=qX(e,a);return"horizontal"===u?{x:rJ({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:hD(l)?null:r.scale(l),value:l,payload:e}:{x:hD(l)?null:n.scale(l),y:rJ({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}})),layout:u},c)}));var $6=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I6(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R6(e,t)}(e,H.Component),A6(e,[{key:"render",value:function(){return H.createElement(z6,this.props)}}])}();function B6(e){return(B6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V6(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y6(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q6(e,t,n){return t=H6(t),function(e,t){if(t&&("object"===B6(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W6()?Reflect.construct(t,n||[],H6(e).constructor):t.apply(e,n))}function W6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(W6=function(){return!!e})()}function H6(e){return(H6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K6(e,t){return(K6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G6(e,t,n){return(t=Y6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y6(e){var t=function(e,t){if("object"!=B6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=B6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B6(t)?t:t+""}function Q6(){return Q6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q6.apply(this,arguments)}L6($6,"displayName","XAxis"),L6($6,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var X6=function(e){var t=e.yAxisId,n=F4(),r=z4(),i=U4(t);return null==i?null:H.createElement(Y3,Q6({},i,{className:BA("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return XX(e,!0)}}))},J6=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),q6(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K6(e,t)}(e,H.Component),V6(e,[{key:"render",value:function(){return H.createElement(X6,this.props)}}])}();function Z6(e){return function(e){if(Array.isArray(e))return e5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return e5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e5(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}G6(J6,"displayName","YAxis"),G6(J6,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var t5=function(e,t,n,r,i){var o=mR(e,t3),a=mR(e,f3),s=[].concat(Z6(o),Z6(a)),l=mR(e,E3),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===n&&j2(t.props,"extendDomain")&&qD(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&j2(t.props,"extendDomain")&&qD(t.props[h])&&qD(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return qD(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},n5={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(n5);var r5=new(o(n5.exports)),i5="recharts.syncMouseEvents";function o5(e){return(o5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a5(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l5(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s5(e,t,n){return(t=l5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l5(e){var t=function(e,t){if("object"!=o5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=o5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==o5(t)?t:t+""}var c5=function(){return a5((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s5(this,"activeIndex",0),s5(this,"coordinateList",[]),s5(this,"layout","horizontal")}),[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=o?o:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function u5(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[vJ(t,n,r,i),vJ(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function d5(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return u5(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=vJ(s,l,c,d),f=vJ(s,l,u,d);r=h.x,i=h.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function h5(e){return(h5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f5(Object(n),!0).forEach((function(t){m5(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m5(e,t,n){return t=function(e){var t=function(e,t){if("object"!=h5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h5(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g5(e){var t,n,r,i=e.element,o=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,p=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!p||!a||!s||"ScatterChart"!==f&&"axis"!==o)return null;var m=hZ;if("ScatterChart"===f)r=s,m=a1;else if("BarChart"===f)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(h,s,c,d),m=Q0;else if("radial"===h){var g=u5(s),y=g.cx,v=g.cy,b=g.radius;r={cx:y,cy:v,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:b,outerRadius:b},m=tZ}else r={points:d5(h,s,c)},m=hZ;var w=p5(p5(p5(p5({stroke:"#ccc",pointerEvents:"none"},c),r),bR(p,!1)),{},{payload:l,payloadIndex:u,className:BA("recharts-tooltip-cursor",p.className)});return W.isValidElement(p)?W.cloneElement(p,w):W.createElement(m,w)}var y5=["item"],v5=["children","className","width","height","style","compact","title","desc"];function b5(e){return(b5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w5(){return w5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w5.apply(this,arguments)}function x5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||C5(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _5(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S5(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M5(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k5(e,t,n){return t=j5(t),function(e,t){if(t&&("object"===b5(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E5()?Reflect.construct(t,n||[],j5(e).constructor):t.apply(e,n))}function E5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E5=function(){return!!e})()}function j5(e){return(j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O5(e,t){return(O5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T5(e){return function(e){if(Array.isArray(e))return N5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C5(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C5(e,t){if(e){if("string"==typeof e)return N5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N5(e,t):void 0}}function N5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P5(Object(n),!0).forEach((function(t){I5(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I5(e,t,n){return(t=M5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M5(e){var t=function(e,t){if("object"!=b5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b5(t)?t:t+""}var D5={xAxis:["bottom","top"],yAxis:["left","right"]},R5={width:"100%",height:"100%"},L5={x:0,y:0};function U5(e){return e}var F5=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!=n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(T5(e),T5(n)):e}),[]);return o.length>0?o:e&&e.length&&qD(r)&&qD(i)?e.slice(r,i+1):[]};function z5(e){return"number"===e?[0,"auto"]:void 0}var $5=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=F5(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=XD(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(T5(i),[dJ(s,c)]):i}),[])},B5=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(BD(u-c)!==BD(d-u)){var f=[];if(BD(d-u)===BD(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=$5(e,t,c,u),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return A5(A5(A5({},r),vJ(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return A5(A5(A5({},r),vJ(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return L5}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},V5=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=YX(c,i);return n.reduce((function(t,n){var f,p=void 0!==n.type.defaultProps?A5(A5({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,x=p.includeHidden,_=p[o];if(t[_])return t;var S,k,E,j=F5(e.data,{graphicalItems:r.filter((function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===_})),dataStartIndex:s,dataEndIndex:l}),O=j.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],i=null==e?void 0:e[1];if(r&&i&&qD(r)&&qD(i))return!0}return!1})(p.domain,y,m)&&(S=lJ(p.domain,null,y),!h||"number"!==m&&"auto"===b||(E=WX(j,g,"category")));var T=z5(m);if(!S||0===S.length){var C,N=null!==(C=p.domain)&&void 0!==C?C:T;if(g){if(S=WX(j,g,m),"category"===m&&h){var P=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);v&&P?(k=S,S=e2(0,O)):v||(S=uJ(N,S,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(T5(e),[t])}),[]))}else if("category"===m)S=v?S.filter((function(e){return""!==e&&!hD(e)})):uJ(N,S,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||hD(t)?e:[].concat(T5(e),[t])}),[]);else if("number"===m){var A=function(e,t,n,r,i){var o=t.map((function(t){return KX(e,t,n,i,r)})).filter((function(e){return!hD(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(j,r.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===_&&(x||!i)})),g,i,c);A&&(S=A)}!h||"number"!==m&&"auto"===b||(E=WX(j,g,"category"))}else S=h?e2(0,O):a&&a[_]&&a[_].hasStack&&"number"===m?"expand"===d?[0,1]:oJ(a[_].stackGroups,s,l):GX(j,r.filter((function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===_&&(x||!n)})),m,c,!0);if("number"===m)S=t5(u,S,_,i,w),N&&(S=lJ(N,S,y));else if("category"===m&&N){var I=N;S.every((function(e){return I.indexOf(e)>=0}))&&(S=I)}}return A5(A5({},t),{},I5({},_,A5(A5({},p),{},{axisType:i,domain:S,categoricalDomain:E,duplicateDomain:k,originalDomain:null!==(f=p.domain)&&void 0!==f?f:T,isCategorical:h,layout:c})))}),{})},q5=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=mR(c,i),h={};return d&&d.length?h=V5(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=F5(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=YX(c,i),p=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?A5(A5({},t.type.defaultProps),t.props):t.props)[o],y=z5("number");return e[g]?e:(p++,f?m=e2(0,h):a&&a[g]&&a[g].hasStack?(m=oJ(a[g].stackGroups,s,l),m=t5(u,m,g,i)):(m=lJ(y,GX(d,n.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=t5(u,m,g,i)),A5(A5({},e),{},I5({},g,A5(A5({axisType:i},r.defaultProps),{},{hide:!0,orientation:dD(D5,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},W5=function(e){var t=e.children,n=e.defaultShowTooltip,r=gR(t,v2),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},H5=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},K5=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=gR(c,v2),h=gR(c,_B),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:A5(A5({},e),{},I5({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:A5(A5({},e),{},I5({},r,dD(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=A5(A5({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||v2.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=LX({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&qD(e[h]))return BX(BX({},e),{},VX({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&qD(e[f]))return BX(BX({},e),{},VX({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return A5(A5({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},G5=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},Y5=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,i=void 0===r?"axis":r,o=e.validateTooltipEventTypes,a=void 0===o?["axis"]:o,s=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,d=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=H5(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=dR(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,p){var b=F5(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:l}),w=void 0!==n.type.defaultProps?A5(A5({},n.type.defaultProps),n.props):n.props,x=w.dataKey,_=w.maxBarSize,S=w["".concat(m,"Id")],k=w["".concat(g,"Id")],E=s.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=w["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||vX();var o=r[i];return A5(A5({},e),{},I5(I5({},n.axisType,o),"".concat(n.axisType,"Ticks"),XX(o)))}),{}),j=E[g],O=E["".concat(g,"Ticks")],T=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?BX(BX({},e.type.defaultProps),e.props):e.props).stackId;if(WD(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[S].stackGroups),C=dR(n.type).indexOf("Bar")>=0,N=cJ(j,O),P=[],A=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter((function(e){return dR(e.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?BX(BX({},y),g[0].props):g[0].props,b=v.barSize,w=v[m];o[w]||(o[w]=[]);var x=hD(b)?t:b;o[w].push({item:g[0],stackList:g.slice(1),barSize:hD(x)?void 0:GD(x,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:G5(E,g)});if(C){var I,M,D=hD(_)?f:_,R=null!==(I=null!==(M=cJ(j,O,!0))&&void 0!==M?M:D)&&void 0!==I?I:0;P=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=GD(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(FX(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),u)}else{var m=GD(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=o.reduce((function(e,t,n){var r=[].concat(FX(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==N?R:N,sizeList:A[k],maxBarSize:D}),R!==N&&(P=P.map((function(e){return A5(A5({},e),{},{position:A5(A5({},e.position),{},{offset:e.position.offset-R/2})})})))}var L,U,F=n&&n.type&&n.type.getComposedData;F&&v.push({props:A5(A5({},F(A5(A5({},E),{},{displayedData:b,props:e,dataKey:x,item:n,bandSize:N,barPosition:P,offset:i,stackedData:T,layout:u,dataStartIndex:a,dataEndIndex:l}))),{},I5(I5(I5({key:n.key||"item-".concat(p)},m,E[m]),g,E[g]),"animationId",o)),childIndex:(L=n,U=e.children,pR(U).indexOf(L)),item:n})})),v},h=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,l=e.updateId;if(!yR({props:i}))return null;var u=i.children,h=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=H5(h),y=g.numericAxisName,v=g.cateAxisName,b=mR(u,n),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?BX(BX({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(WD(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[KD("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return BX(BX({},e),{},VX({},s,l))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return BX(BX({},t),{},VX({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:nJ(e,a.items,i)}))}),{})),BX(BX({},t),{},VX({},o,s))}),{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),x=s.reduce((function(e,t){var n="".concat(t.axisType,"Map");return A5(A5({},e),{},I5({},n,q5(i,A5(A5({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&w,dataStartIndex:o,dataEndIndex:a}))))}),{}),_=K5(A5(A5({},x),{},{props:i,graphicalItems:b}),null==r?void 0:r.legendBBox);Object.keys(x).forEach((function(e){x[e]=c(i,x[e],_,e.replace("Map",""),t)}));var S,k,E=x["".concat(v,"Map")],j=(S=YD(E),{tooltipTicks:k=XX(S,!1,!0),orderedTooltipTicks:yV(k,(function(e){return e.coordinate})),tooltipAxis:S,tooltipAxisBandSize:cJ(S,k)}),O=d(i,A5(A5({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:l,graphicalItems:b,stackGroups:w,offset:_}));return A5(A5({formattedGraphicalItems:O,graphicalItems:b,offset:_,stackGroups:w},j),x)},f=function(){function e(n){var r,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I5(o=k5(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),I5(o,"accessibilityManager",new c5),I5(o,"handleLegendBBoxUpdate",(function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(A5({legendBBox:e},h({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},A5(A5({},o.state),{},{legendBBox:e}))))}})),I5(o,"handleReceiveSyncEvent",(function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!=typeof o.props.syncMethod)return;o.applySyncEvent(t)}})),I5(o,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState((function(){return A5({dataStartIndex:t,dataEndIndex:n},h({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))})),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),I5(o,"handleMouseEnter",(function(e){var t=o.getMouseInfo(e);if(t){var n=A5(A5({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;wI(r)&&r(n,e)}})),I5(o,"triggeredAfterMouseMove",(function(e){var t=o.getMouseInfo(e),n=t?A5(A5({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;wI(r)&&r(n,e)})),I5(o,"handleItemMouseEnter",(function(e){o.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),I5(o,"handleItemMouseLeave",(function(){o.setState((function(){return{isTooltipActive:!1}}))})),I5(o,"handleMouseMove",(function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)})),I5(o,"handleMouseLeave",(function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;wI(n)&&n(t,e)})),I5(o,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&uR[t]?uR[t]:null}(e),r=dD(o.props,"".concat(n));n&&wI(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)})),I5(o,"handleClick",(function(e){var t=o.getMouseInfo(e);if(t){var n=A5(A5({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;wI(r)&&r(n,e)}})),I5(o,"handleMouseDown",(function(e){var t=o.props.onMouseDown;wI(t)&&t(o.getMouseInfo(e),e)})),I5(o,"handleMouseUp",(function(e){var t=o.props.onMouseUp;wI(t)&&t(o.getMouseInfo(e),e)})),I5(o,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),I5(o,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])})),I5(o,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])})),I5(o,"triggerSyncEvent",(function(e){void 0!==o.props.syncId&&r5.emit(i5,o.props.syncId,e,o.eventEmitterSymbol)})),I5(o,"applySyncEvent",(function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(A5({dataStartIndex:a,dataEndIndex:s},h({props:o.props,dataStartIndex:a,dataEndIndex:s,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,f=d.offset,p=d.tooltipTicks;if(!f)return;if("function"==typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=A5(A5({},f),{},{x:f.left,y:f.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,w=$5(o.state,o.props.data,u),x=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:L5;o.setState(A5(A5({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:w,activeTooltipIndex:u}))}else o.setState(e)})),I5(o,"renderCursor",(function(e){var n,r=o.state,i=r.isTooltipActive,a=r.activeCoordinate,s=r.activePayload,l=r.offset,c=r.activeTooltipIndex,u=r.tooltipAxisBandSize,d=o.getTooltipEventType(),h=null!==(n=e.props.active)&&void 0!==n?n:i,f=o.props.layout,p=e.key||"_recharts-cursor";return H.createElement(g5,{key:p,activeCoordinate:a,activePayload:s,activeTooltipIndex:c,chartName:t,element:e,isActive:h,layout:f,offset:l,tooltipAxisBandSize:u,tooltipEventType:d})})),I5(o,"renderPolarAxis",(function(e,t,n){var r=dD(e,"type.axisType"),i=dD(o.state,"".concat(r,"Map")),a=e.type.defaultProps,s=void 0!==a?A5(A5({},a),e.props):e.props,l=i&&i[s["".concat(r,"Id")]];return W.cloneElement(e,A5(A5({},l),{},{className:BA(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:XX(l,!0)}))})),I5(o,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,i=t.polarRadius,a=o.state,s=a.radiusAxisMap,l=a.angleAxisMap,c=YD(s),u=YD(l),d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius;return W.cloneElement(e,{polarAngles:Array.isArray(r)?r:XX(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:XX(c,!0).map((function(e){return e.coordinate})),cx:d,cy:h,innerRadius:f,outerRadius:p,key:e.key||"polar-grid",radialLines:n})})),I5(o,"renderLegend",(function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,r=t.width,i=t.height,a=o.props.margin||{},s=r-(a.left||0)-(a.right||0),c=LX({children:n,formattedGraphicalItems:e,legendWidth:s,legendContent:l});if(!c)return null;var u=c.item,d=_5(c,y5);return W.cloneElement(u,A5(A5({},d),{},{chartWidth:r,chartHeight:i,margin:a,onBBoxUpdate:o.handleLegendBBoxUpdate}))})),I5(o,"renderTooltip",(function(){var e,t=o.props,n=t.children,r=t.accessibilityLayer,i=gR(n,nq);if(!i)return null;var a=o.state,s=a.isTooltipActive,l=a.activeCoordinate,c=a.activePayload,u=a.activeLabel,d=a.offset,h=null!==(e=i.props.active)&&void 0!==e?e:s;return W.cloneElement(i,{viewBox:A5(A5({},d),{},{x:d.left,y:d.top}),active:h,label:u,payload:h?c:[],coordinate:l,accessibilityLayer:r})})),I5(o,"renderBrush",(function(e){var t=o.props,n=t.margin,r=t.data,i=o.state,a=i.offset,s=i.dataStartIndex,l=i.dataEndIndex,c=i.updateId;return W.cloneElement(e,{key:e.key||"_recharts-brush",onChange:ZX(o.handleBrushChange,e.props.onChange),data:r,x:qD(e.props.x)?e.props.x:a.left,y:qD(e.props.y)?e.props.y:a.top+a.height+a.brushBottom-(n.bottom||0),width:qD(e.props.width)?e.props.width:a.width,startIndex:s,endIndex:l,updateId:"brush-".concat(c)})})),I5(o,"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=o.clipPathId,i=o.state,a=i.xAxisMap,s=i.yAxisMap,l=i.offset,c=e.type.defaultProps||{},u=e.props,d=u.xAxisId,h=void 0===d?c.xAxisId:d,f=u.yAxisId,p=void 0===f?c.yAxisId:f;return W.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:a[h],yAxis:s[p],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})})),I5(o,"renderActivePoints",(function(t){var n=t.item,r=t.activePoint,i=t.basePoint,o=t.childIndex,a=t.isRange,s=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?A5(A5({},n.item.type.defaultProps),n.item.props):n.item.props,u=c.activeDot,d=A5(A5({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:HX(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},bR(u,!1)),iR(u));return s.push(e.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(e.renderActiveDot(u,A5(A5({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s})),I5(o,"renderGraphicChild",(function(e,t,n){var r=o.filterFormatItem(e,t,n);if(!r)return null;var i=o.getTooltipEventType(),a=o.state,s=a.isTooltipActive,l=a.tooltipAxis,c=a.activeTooltipIndex,u=a.activeLabel,d=gR(o.props.children,nq),h=r.props,f=h.points,p=h.isRange,m=h.baseLine,g=void 0!==r.item.type.defaultProps?A5(A5({},r.item.type.defaultProps),r.item.props):r.item.props,y=g.activeDot,v=g.hide,b=g.activeBar,w=g.activeShape,x=Boolean(!v&&s&&d&&(y||b||w)),_={};"axis"!==i&&d&&"click"===d.props.trigger?_={onClick:ZX(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(_={onMouseLeave:ZX(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:ZX(o.handleItemMouseEnter,e.props.onMouseEnter)});var S=W.cloneElement(e,A5(A5({},r.props),_));if(x){if(!(c>=0)){var k,E=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:S}).graphicalItem,j=E.item,O=void 0===j?e:j,T=E.childIndex,C=A5(A5(A5({},r.props),_),{},{activeIndex:T});return[W.cloneElement(O,C),null,null]}var N,P;if(l.dataKey&&!l.allowDuplicatedCategory){var A="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());N=XD(f,A,u),P=p&&m&&XD(m,A,u)}else N=null==f?void 0:f[c],P=p&&m&&m[c];if(w||b){var I=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[W.cloneElement(e,A5(A5(A5({},r.props),_),{},{activeIndex:I})),null,null]}if(!hD(N))return[S].concat(T5(o.renderActivePoints({item:r,activePoint:N,basePoint:P,childIndex:c,isRange:p})))}return p?[S,null,null]:[S,null]})),I5(o,"renderCustomized",(function(e,t,n){return W.cloneElement(e,A5(A5({key:"recharts-customized-".concat(n)},o.props),o.state))})),I5(o,"renderMap",{CartesianGrid:{handler:U5,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:U5},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:U5},YAxis:{handler:U5},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:KD("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=kq(o.triggeredAfterMouseMove,null!==(i=n.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O5(e,t)}(e,W.Component),S5(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=gR(t,nq);if(o){var a=o.props.defaultIndex;if(!("number"!=typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=$5(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=A5(A5({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,r;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}});return null}},{key:"componentDidUpdate",value:function(e){wR([gR(e.children,nq)],[gR(this.props.children,nq)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=gR(this.props.children,nq);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return a.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var d=YD(c).scale,h=YD(u).scale,f=d&&d.invert?d.invert(o.chartX):null,p=h&&h.invert?h.invert(o.chartY):null;return A5(A5({},o),{},{xValue:f,yValue:p})}var m=B5(this.state,this.props.data,this.props.layout,s);return m?A5(A5({},o),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=YD(l);return xJ({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=gR(e,nq),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),A5(A5({},iR(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){r5.on(i5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){r5.removeListener(i5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===dR(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,i=t.height,o=t.width;return H.createElement("defs",null,H.createElement("clipPath",{id:e},H.createElement("rect",{x:n,y:r,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=x5(t,2),r=n[0],i=n[1];return A5(A5({},e),{},I5({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=x5(t,2),r=n[0],i=n[1];return A5(A5({},e),{},I5({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?A5(A5({},l.type.defaultProps),l.props):l.props,u=dR(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return G0(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find((function(t){return xJ(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if(F1(a,r)||z1(a,r)||$1(a,r)){var f=W1({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:A5(A5({},a),{},{childIndex:p}),payload:$1(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!yR(this))return null;var t,n,r=this.props,i=r.children,o=r.className,a=r.width,s=r.height,l=r.style,c=r.compact,u=r.title,d=r.desc,h=_5(r,v5),f=bR(h,!1);if(c)return H.createElement(R4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(jR,w5({},f,{width:a,height:s,title:u,desc:d}),this.renderClipPath(),_R(i,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,f.role=null!==(n=this.props.role)&&void 0!==n?n:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return H.createElement(R4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",w5({className:BA("recharts-wrapper",o),style:A5({position:"relative",cursor:"default",width:a,height:s},l)},p,{ref:function(t){e.container=t}}),H.createElement(jR,w5({},f,{width:a,height:s,title:u,desc:d,style:R5}),this.renderClipPath(),_R(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();I5(f,"displayName",t),I5(f,"defaultProps",A5({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),I5(f,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var f=W5(e);return A5(A5(A5({},f),{},{updateId:0},h(A5(A5({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!JD(c,t.prevMargin)){var p=W5(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=A5(A5({},B5(t,r,s)),{},{updateId:t.updateId+1}),y=A5(A5(A5({},p),m),g);return A5(A5(A5({},y),h(A5({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!wR(i,t.prevChildren)){var v,b,w,x,_=gR(i,v2),S=_&&null!==(v=null===(b=_.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,k=_&&null!==(w=null===(x=_.props)||void 0===x?void 0:x.endIndex)&&void 0!==w?w:d,E=S!==u||k!==d,j=!hD(r)&&!E?t.updateId:t.updateId+1;return A5(A5({updateId:j},h(A5(A5({props:e},t),{},{updateId:j,dataStartIndex:S,dataEndIndex:k}),t)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:k})}return null})),I5(f,"renderActiveDot",(function(e,t,n){var r;return r=W.isValidElement(e)?W.cloneElement(e,t):wI(e)?e(t):H.createElement(J0,t),H.createElement(NR,{className:"recharts-active-dot",key:n},r)}));var p=W.forwardRef((function(e,t){return H.createElement(f,w5({},e,{ref:t}))}));return p.displayName=f.displayName,p}({chartName:"LineChart",GraphicalChild:N6,axisComponents:[{axisType:"xAxis",AxisComp:$6},{axisType:"yAxis",AxisComp:J6}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},d=!!gR(l,l4);return c.reduce((function(o,a){var l,c,h,f,p,m=t[a],g=m.orientation,y=m.domain,v=m.padding,b=void 0===v?{}:v,w=m.mirror,x=m.reversed,_="".concat(g).concat(w?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var S=y[1]-y[0],k=1/0,E=m.categoricalDomain.sort();if(E.forEach((function(e,t){t>0&&(k=Math.min((e||0)-(E[t-1]||0),k))})),Number.isFinite(k)){var j=k/S,O="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=j*O/2),"no-gap"===m.padding){var T=GD(e.barCategoryGap,j*O),C=j*O/2;l=C-T-(C-T)/O*T}}}c="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,x&&(c=[c[1],c[0]]);var N=function(e,t,n){var r=e.scale,i=e.type,o=e.layout,a=e.axisType;if("auto"===r)return"radial"===o&&"radiusAxis"===a?{scale:BW(),realScaleType:"band"}:"radial"===o&&"angleAxis"===a?{scale:dK(),realScaleType:"linear"}:"category"===i&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:qW(),realScaleType:"point"}:"category"===i?{scale:BW(),realScaleType:"band"}:{scale:dK(),realScaleType:"linear"};if(gD(r)){var s="scale".concat(nL(r));return{scale:(QY[s]||qW)(),realScaleType:QY[s]?s:"point"}}return wI(r)?{scale:r}:{scale:qW(),realScaleType:"point"}}(m,i,d),P=N.scale,A=N.realScaleType;P.domain(y).range(c),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-eJ,o=Math.max(r[0],r[1])+eJ,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(P);var I=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=gX(l,i,a);return e.domain([aQ(c),nQ(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:yX(u,i,a)}}return null}(P,h4(h4({},m),{},{realScaleType:A}));"xAxis"===r?(p="top"===g&&!w||"bottom"===g&&w,h=n.left,f=u[_]-p*m.height):"yAxis"===r&&(p="left"===g&&!w||"right"===g&&w,h=u[_]-p*m.width,f=n.top);var M=h4(h4(h4({},m),I),{},{realScaleType:A,x:h,y:f,scale:P,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return M.bandSize=cJ(M,I),m.hide||"xAxis"!==r?m.hide||(u[_]+=(p?-1:1)*M.width):u[_]+=(p?-1:1)*M.height,h4(h4({},o),{},f4({},a,M))}),{})}});function Q5(){const{user:e}=cj(),[t,n]=W.useState([]),[r,i]=W.useState(!0),[o,a]=W.useState([]),[s,l]=W.useState("7"),[c,u]=W.useState("all"),[d,h]=W.useState(""),[f,p]=W.useState(null),[m,g]=W.useState(!1);W.useEffect((()=>{if(e){const t=Hk(sj,"requests"),r=LP(PA(new Date,parseInt(s)));let o=NE(t,AE("userId","==",null==e?void 0:e.uid),AE("createdAt",">=",r),DE("createdAt","desc"));"all"!==c&&(o=NE(t,AE("userId","==",null==e?void 0:e.uid),AE("status","==",c),DE("createdAt","desc")));const l=JE(o,(e=>{try{const t=e.docs.map((e=>({id:e.id,...e.data()})));n(t);const r={};for(let e=0;e<parseInt(s);e++){const t=NA(PA(new Date,e),"dd/MM",{locale:RA});r[t]=0}t.forEach((e=>{const t=NA(e.createdAt.toDate(),"dd/MM",{locale:RA});void 0!==r[t]&&r[t]++}));const o=Object.entries(r).map((([e,t])=>({date:e,requests:t}))).reverse();a(o),i(!1)}catch(t){console.error("Error processing requests:",t),zj.error("Erro ao processar solicitações"),i(!1)}}),(e=>{console.error("Error fetching requests:",e),zj.error("Erro ao carregar solicitações"),i(!1)}));return()=>l()}}),[e,s,c]);const y=t.filter((e=>e.description.toLowerCase().includes(d.toLowerCase()))),v={total:t.length,pending:t.filter((e=>"pending"===e.status)).length,in_progress:t.filter((e=>"in_progress"===e.status)).length,completed:t.filter((e=>"completed"===e.status)).length,rejected:t.filter((e=>"rejected"===e.status)).length};return r?te.jsxs("div",{className:"space-y-6",children:[te.jsx(zA,{height:40}),te.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:te.jsx(zA,{height:100,count:4})}),te.jsx(zA,{height:300}),te.jsx(zA,{height:400})]}):te.jsxs("div",{className:"space-y-6",children:[te.jsx("div",{className:"flex justify-between items-center",children:te.jsx("h1",{className:"text-3xl font-bold text-white",children:"Minhas Solicitações"})}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Total de Solicitações"}),te.jsx("p",{className:"text-2xl font-bold text-white",children:v.total})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Pendentes"}),te.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:v.pending})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Em Andamento"}),te.jsx("p",{className:"text-2xl font-bold text-blue-500",children:v.in_progress})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Concluídas"}),te.jsx("p",{className:"text-2xl font-bold text-green-500",children:v.completed})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Rejeitadas"}),te.jsx("p",{className:"text-2xl font-bold text-red-500",children:v.rejected})]})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center justify-between mb-6",children:[te.jsx("h2",{className:"text-xl font-semibold text-white",children:"Solicitações por Dia"}),te.jsxs("select",{value:s,onChange:e=>l(e.target.value),className:"bg-[#1a1a2e] text-white px-3 py-2 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",children:[te.jsx("option",{value:"7",className:"bg-[#1a1a2e]",children:"Últimos 7 dias"}),te.jsx("option",{value:"15",className:"bg-[#1a1a2e]",children:"Últimos 15 dias"}),te.jsx("option",{value:"30",className:"bg-[#1a1a2e]",children:"Últimos 30 dias"})]})]}),te.jsx("div",{className:"h-[300px]",children:te.jsx(Pq,{width:"100%",height:"100%",children:te.jsxs(Y5,{data:o,children:[te.jsx(f6,{strokeDasharray:"3 3",stroke:"#374151"}),te.jsx($6,{dataKey:"date",stroke:"#9CA3AF"}),te.jsx(J6,{stroke:"#9CA3AF"}),te.jsx(nq,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #374151",borderRadius:"0.5rem"},labelStyle:{color:"#fff"}}),te.jsx(N6,{type:"monotone",dataKey:"requests",stroke:"#2563eb",strokeWidth:2})]})})})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-6",children:[te.jsx("h2",{className:"text-xl font-semibold text-white",children:"Histórico de Solicitações"}),te.jsxs("div",{className:"flex gap-4",children:[te.jsxs("div",{className:"relative",children:[te.jsx(VO,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),te.jsx("input",{type:"text",placeholder:"Buscar solicitação...",value:d,onChange:e=>h(e.target.value),className:"pl-10 pr-4 py-2 bg-[#1a1a2e] text-white rounded-lg border border-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent"})]}),te.jsxs("select",{value:c,onChange:e=>u(e.target.value),className:"bg-[#1a1a2e] text-white px-3 py-2 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",children:[te.jsx("option",{value:"all",className:"bg-[#1a1a2e]",children:"Todos os status"}),te.jsx("option",{value:"pending",className:"bg-[#1a1a2e]",children:"Pendentes"}),te.jsx("option",{value:"in_progress",className:"bg-[#1a1a2e]",children:"Em Andamento"}),te.jsx("option",{value:"completed",className:"bg-[#1a1a2e]",children:"Concluídas"}),te.jsx("option",{value:"rejected",className:"bg-[#1a1a2e]",children:"Rejeitadas"})]})]})]}),te.jsx("div",{className:"overflow-x-auto",children:te.jsxs("table",{className:"w-full",children:[te.jsx("thead",{children:te.jsxs("tr",{className:"text-left border-b border-gray-700",children:[te.jsx("th",{className:"pb-3 text-gray-400",children:"Status"}),te.jsx("th",{className:"pb-3 text-gray-400",children:"Data"}),te.jsx("th",{className:"pb-3 text-gray-400",children:"Descrição"}),te.jsx("th",{className:"pb-3 text-gray-400",children:"Imagem"}),te.jsx("th",{className:"pb-3 text-gray-400",children:"Ações"})]})}),te.jsx("tbody",{className:"divide-y divide-gray-700",children:y.map((e=>te.jsxs("tr",{className:"hover:bg-[#1a1a2e] text-white",children:[te.jsx("td",{className:"py-3",children:te.jsx("span",{className:"px-2 py-1 rounded-full text-xs\n                      "+("pending"===e.status?"bg-yellow-500/20 text-yellow-500":"in_progress"===e.status?"bg-blue-500/20 text-blue-500":"completed"===e.status?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"),children:"pending"===e.status?"Pendente":"in_progress"===e.status?"Em Andamento":"completed"===e.status?"Concluída":"Rejeitada"})}),te.jsx("td",{className:"py-3",children:NA(e.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:RA})}),te.jsx("td",{className:"py-3",children:e.description}),te.jsx("td",{className:"py-3",children:e.imageUrl&&te.jsx("img",{src:e.imageUrl,alt:"Preview",className:"w-16 h-16 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>window.open(e.imageUrl,"_blank")})}),te.jsx("td",{className:"py-3",children:te.jsxs("button",{onClick:()=>{p(e),g(!0)},className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-[#2563eb]/10 text-[#2563eb] hover:bg-[#2563eb]/20 transition-colors",children:[te.jsx(CO,{className:"w-4 h-4"}),te.jsx("span",{children:"Detalhes"})]})})]},e.id)))})]})})]}),m&&f&&te.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:te.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[te.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>g(!1)}),te.jsxs("div",{className:"relative bg-[#16162a] p-6 rounded-lg max-w-2xl w-full border border-gray-700",children:[te.jsxs("div",{className:"flex items-center justify-between mb-4",children:[te.jsx("h2",{className:"text-xl font-bold text-white",children:"Detalhes da Solicitação"}),te.jsx("button",{onClick:()=>g(!1),className:"p-1 hover:bg-[#1a1a2e] rounded-lg transition-colors text-gray-400 hover:text-white",children:te.jsx(JO,{className:"w-5 h-5"})})]}),te.jsxs("div",{className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm text-gray-400",children:"Status"}),te.jsx("span",{className:"inline-block mt-1 px-2 py-1 rounded-full text-xs\n                    "+("pending"===f.status?"bg-yellow-500/20 text-yellow-500":"in_progress"===f.status?"bg-blue-500/20 text-blue-500":"completed"===f.status?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"),children:"pending"===f.status?"Pendente":"in_progress"===f.status?"Em Andamento":"completed"===f.status?"Concluída":"Rejeitada"})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm text-gray-400",children:"Data da Solicitação"}),te.jsx("p",{className:"mt-1 text-white",children:NA(f.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:RA})})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm text-gray-400",children:"Descrição"}),te.jsx("p",{className:"mt-1 text-white",children:f.description})]}),f.reference&&te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm text-gray-400",children:"Referência"}),te.jsx("p",{className:"mt-1 text-white",children:f.reference})]}),f.imageUrl&&te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm text-gray-400",children:"Imagem"}),te.jsx("img",{src:f.imageUrl,alt:"Preview",className:"mt-2 max-w-full h-auto rounded-lg cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>window.open(f.imageUrl,"_blank")})]}),f.comments&&f.comments.length>0&&te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm text-gray-400",children:"Comentários"}),te.jsx("div",{className:"mt-2 space-y-2",children:f.comments.map(((e,t)=>te.jsx("div",{className:"bg-[#1a1a2e] p-3 rounded-lg text-white border border-gray-700",children:e},t)))})]})]}),te.jsx("div",{className:"mt-6 flex justify-end",children:te.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 rounded-lg bg-[#2563eb] text-white hover:bg-[#2563eb]/90 transition-colors",children:"Fechar"})})]})]})})]})}function X5(){const{user:e}=cj(),[t,n]=W.useState(!1),[r,i]=W.useState({name:"",email:""}),[o,a]=W.useState(!1),[s,l]=W.useState({currentPassword:"",newPassword:"",confirmPassword:""});W.useEffect((()=>{(async()=>{if(e)try{const t=await HE(Kk(sj,"users",e.uid));if(t.exists()){const n=t.data();i({name:n.name||"",email:e.email||""})}else i({name:e.displayName||"",email:e.email||""})}catch(t){console.error("Error fetching user data:",t),zj.error("Erro ao carregar dados do usuário")}})()}),[e]);return te.jsxs("div",{className:"space-y-6",children:[te.jsx("h1",{className:"text-3xl font-bold text-white",children:"Configurações"}),te.jsxs("div",{className:"space-y-4",children:[te.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),e){n(!0);try{const t=Kk(sj,"users",e.uid);(await HE(t)).exists()?await YE(t,{name:r.name}):await setDoc(t,{name:r.name,email:e.email,createdAt:new Date}),zj.success("Perfil atualizado com sucesso!")}catch(i){console.error("Error updating profile:",i),zj.error("Erro ao atualizar perfil")}finally{n(!1)}}},className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[te.jsx(QO,{className:"h-5 w-5 text-[#2563eb]"}),te.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configurações do Perfil"})]}),te.jsxs("div",{className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-white",children:"Nome de Exibição"}),te.jsx("input",{type:"text",value:r.name,onChange:e=>i({...r,name:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-white",children:"Email"}),te.jsx("input",{type:"email",value:r.email,disabled:!0,className:"mt-1 block w-full px-3 py-2 bg-[#1a1a2e] text-gray-400 border border-gray-700 rounded-md opacity-60 cursor-not-allowed"}),te.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"O email não pode ser alterado"})]}),te.jsx("div",{className:"flex justify-end",children:te.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 rounded-lg text-white font-medium transition-colors\n                  "+(t?"bg-[#2563eb]/50 cursor-not-allowed":"bg-[#2563eb] hover:bg-[#2563eb]/90"),children:t?"Salvando...":"Salvar Alterações"})})]})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[te.jsx(LO,{className:"h-5 w-5 text-[#2563eb]"}),te.jsx("h2",{className:"text-xl font-semibold text-white",children:"Segurança"})]}),te.jsx("div",{className:"space-y-4",children:te.jsx("button",{onClick:()=>a(!0),className:"w-full px-4 py-2 rounded-lg border border-[#2563eb] text-[#2563eb] hover:bg-[#2563eb]/10 transition-colors",children:"Alterar Senha"})})]})]}),o&&te.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:te.jsxs("div",{className:"bg-[#16162a] rounded-lg p-6 max-w-md w-full border border-gray-700",children:[te.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Alterar Senha"}),te.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),e)if(s.newPassword===s.confirmPassword)if(s.newPassword.length<6)zj.error("A nova senha deve ter pelo menos 6 caracteres");else{n(!0);try{const t=vg.credential(e.email,s.currentPassword);await async function(e,t){return Ng(hf(e),t)}(e,t),await Rg(e,s.newPassword),zj.success("Senha alterada com sucesso!"),a(!1),l({currentPassword:"",newPassword:"",confirmPassword:""})}catch(r){console.error("Error changing password:",r),"auth/wrong-password"===r.code?zj.error("Senha atual incorreta"):zj.error("Erro ao alterar senha")}finally{n(!1)}}else zj.error("As senhas não coincidem")},className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-white",children:"Senha Atual"}),te.jsx("input",{type:"password",value:s.currentPassword,onChange:e=>l({...s,currentPassword:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-white",children:"Nova Senha"}),te.jsx("input",{type:"password",value:s.newPassword,onChange:e=>l({...s,newPassword:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-white",children:"Confirmar Nova Senha"}),te.jsx("input",{type:"password",value:s.confirmPassword,onChange:e=>l({...s,confirmPassword:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",required:!0})]}),te.jsxs("div",{className:"flex justify-end gap-2",children:[te.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 rounded-lg border border-gray-700 text-gray-400 hover:bg-[#1a1a2e] transition-colors",children:"Cancelar"}),te.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 rounded-lg text-white font-medium transition-colors\n                    "+(t?"bg-[#2563eb]/50 cursor-not-allowed":"bg-[#2563eb] hover:bg-[#2563eb]/90"),children:t?"Alterando...":"Alterar Senha"})]})]})]})})]})}const J5=e=>Array.isArray(e)&&e.every((e=>"object"==typeof e&&!(e instanceof Array))),Z5=(e,t)=>{var n;t=t||(n=e,Array.from(n.map((e=>Object.keys(e))).reduce(((e,t)=>new Set([...e,...t])),[])));let r=t,i=t;J5(t)&&(r=t.map((e=>e.label)),i=t.map((e=>e.key)));return[r,...e.map((e=>i.map((t=>e9(t,e)))))]},e9=(e,t)=>{const n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,n,r){const i=e[t];if(null!=i)return i;r.splice(1)}),t);return void 0===n?e in t?t[e]:"":n},t9=(e,t=",",n='"')=>e.filter((e=>e)).map((e=>e.map((e=>(e=>null==e?"":e)(e))).map((e=>`${n}${e}${n}`)).join(t))).join("\n"),n9=(e,t,n,r)=>{if(J5(e))return((e,t,n,r)=>t9(Z5(e,t),n,r))(e,t,n,r);if(i=e,Array.isArray(i)&&i.every((e=>Array.isArray(e))))return((e,t,n,r)=>t9(t?[t,...e]:e,n,r))(e,t,n,r);var i;if("string"==typeof e)return((e,t,n)=>t?`${t.join(n)}\n${e}`:e.replace(/"/g,'""'))(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},r9=(e,t,n,r,i)=>{const o=n9(e,n,r,i),a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?"application/csv":"text/csv",s=new Blob([t?"\ufeff":"",o],{type:a}),l=`data:${a};charset=utf-8,${t?"\ufeff":""}${o}`,c=window.URL||window.webkitURL;return void 0===c.createObjectURL?l:c.createObjectURL(s)},i9={data:gZ.oneOfType([gZ.string,gZ.array,gZ.func]).isRequired,headers:gZ.array,target:gZ.string,separator:gZ.string,filename:gZ.string,uFEFF:gZ.bool,onClick:gZ.func,asyncOnClick:gZ.bool,enclosingCharacter:gZ.string},o9={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'};class a9 extends H.Component{constructor(e){super(e),this.state={}}buildURI(){return r9(...arguments)}componentDidMount(){const{data:e,headers:t,separator:n,enclosingCharacter:r,uFEFF:i,target:o,specs:a,replace:s}=this.props;this.state.page=window.open(this.buildURI(e,i,t,n,r),o,a,s)}getWindow(){return this.state.page}render(){return null}}n(a9,"defaultProps",Object.assign(o9,{target:"_blank"})),n(a9,"propTypes",i9);const s9=(n(e=class extends H.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return r9(...arguments)}handleLegacy(e,t=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:n,headers:r,separator:i,filename:o,enclosingCharacter:a,uFEFF:s}=this.props,l=t&&"function"==typeof n?n():n;let c=new Blob([s?"\ufeff":"",n9(l,r,i,a)]);return window.navigator.msSaveBlob(c,o),!1}}handleAsyncClick(e){this.props.onClick(e,(t=>{!1!==t?this.handleLegacy(e,!0):e.preventDefault()}))}handleSyncClick(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}handleClick(){return e=>{if("function"==typeof this.props.onClick)return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:t,separator:n,filename:r,uFEFF:i,children:o,onClick:a,asyncOnClick:s,enclosingCharacter:l,...c}=this.props,u="undefined"==typeof window?"":this.buildURI(e,i,t,n,l);return te.jsx("a",{download:r,...c,ref:e=>this.link=e,target:"_self",href:u,onClick:this.handleClick(),children:o})}},"defaultProps",o9),n(e,"propTypes",i9),e);function l9(){const[e,t]=W.useState([]),[n,r]=W.useState(!0),[i,o]=W.useState([]),[a,s]=W.useState("7"),[l,c]=W.useState("all"),[u,d]=W.useState("");W.useEffect((()=>{h()}),[a,l]);const h=async()=>{try{const e=Hk(sj,"requests");let n=NE(e,AE("createdAt",">=",LP(PA(new Date,parseInt(a)))),DE("createdAt","desc"));"all"!==l&&(n=NE(n,AE("status","==",l)));const r=await GE(n),i=await Promise.all(r.docs.map((async e=>{const t=e.data(),n=Kk(sj,"users",t.userId),r=await HE(n),i=r.exists()?r.data().name:"Usuário não encontrado";return{id:e.id,...t,userName:i}})));t(i);const s={};for(let t=0;t<parseInt(a);t++){const e=NA(PA(new Date,t),"dd/MM",{locale:RA});s[e]=0}i.forEach((e=>{const t=NA(e.createdAt.toDate(),"dd/MM",{locale:RA});void 0!==s[t]&&s[t]++}));const c=Object.entries(s).map((([e,t])=>({date:e,requests:t}))).reverse();o(c)}catch(e){console.error("Error fetching requests:",e),zj.error("Erro ao carregar solicitações")}finally{r(!1)}},f=e.filter((e=>e.description.toLowerCase().includes(u.toLowerCase()))),p={total:e.length,pending:e.filter((e=>"pending"===e.status)).length,in_progress:e.filter((e=>"in_progress"===e.status)).length,completed:e.filter((e=>"completed"===e.status)).length,rejected:e.filter((e=>"rejected"===e.status)).length},m=f.map((e=>({"Usuário":e.userName,Status:e.status,"Data de Criação":NA(e.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:RA}),"Descrição":e.description})));return n?te.jsxs("div",{className:"space-y-6",children:[te.jsx(zA,{height:40}),te.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:te.jsx(zA,{height:100,count:4})}),te.jsx(zA,{height:300}),te.jsx(zA,{height:400})]}):te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{className:"flex justify-between items-center",children:[te.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard Administrativo"}),te.jsxs(s9,{data:m,filename:`relatorio-${NA(new Date,"dd-MM-yyyy")}.csv`,className:"flex items-center gap-2 px-4 py-2 bg-[#2563eb] text-white rounded-lg hover:bg-[#3b82f6] transition-colors",children:[te.jsx(TO,{className:"w-4 h-4"}),"Exportar CSV"]})]}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-300",children:"Total de Solicitações"}),te.jsx("p",{className:"text-2xl font-bold text-white",children:p.total})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-300",children:"Pendentes"}),te.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:p.pending})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-300",children:"Em Andamento"}),te.jsx("p",{className:"text-2xl font-bold text-[#2563eb]",children:p.in_progress})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-300",children:"Concluídas"}),te.jsx("p",{className:"text-2xl font-bold text-green-500",children:p.completed})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-300",children:"Rejeitadas"}),te.jsx("p",{className:"text-2xl font-bold text-red-500",children:p.rejected})]})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center justify-between mb-6",children:[te.jsx("h2",{className:"text-xl font-semibold text-white",children:"Solicitações por Dia"}),te.jsxs("select",{value:a,onChange:e=>s(e.target.value),className:"bg-[#1a1a2e] text-white px-3 py-2 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb]",children:[te.jsx("option",{value:"7",children:"Últimos 7 dias"}),te.jsx("option",{value:"15",children:"Últimos 15 dias"}),te.jsx("option",{value:"30",children:"Últimos 30 dias"})]})]}),te.jsx("div",{className:"h-[300px]",children:te.jsx(Pq,{width:"100%",height:"100%",children:te.jsxs(Y5,{data:i,children:[te.jsx(f6,{strokeDasharray:"3 3",stroke:"#374151"}),te.jsx($6,{dataKey:"date",stroke:"#9CA3AF"}),te.jsx(J6,{stroke:"#9CA3AF"}),te.jsx(nq,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #374151",borderRadius:"8px",color:"#fff"}}),te.jsx(N6,{type:"monotone",dataKey:"requests",stroke:"#2563eb",strokeWidth:2})]})})})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between mb-6",children:[te.jsx("h2",{className:"text-xl font-semibold text-white",children:"Últimas Solicitações"}),te.jsxs("div",{className:"flex gap-4",children:[te.jsxs("div",{className:"relative",children:[te.jsx(VO,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),te.jsx("input",{type:"text",placeholder:"Buscar solicitações...",value:u,onChange:e=>d(e.target.value),className:"pl-10 pr-4 py-2 bg-[#1a1a2e] text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb] w-full md:w-64"})]}),te.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"px-3 py-2 bg-[#1a1a2e] text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb]",children:[te.jsx("option",{value:"all",children:"Todos os status"}),te.jsx("option",{value:"pending",children:"Pendentes"}),te.jsx("option",{value:"in_progress",children:"Em Andamento"}),te.jsx("option",{value:"completed",children:"Concluídas"}),te.jsx("option",{value:"rejected",children:"Rejeitadas"})]})]})]}),te.jsx("div",{className:"overflow-x-auto",children:te.jsxs("table",{className:"w-full",children:[te.jsx("thead",{children:te.jsxs("tr",{className:"text-left border-b border-gray-700",children:[te.jsx("th",{className:"pb-3",children:"Usuário"}),te.jsx("th",{className:"pb-3",children:"Status"}),te.jsx("th",{className:"pb-3",children:"Data"}),te.jsx("th",{className:"pb-3",children:"Descrição"})]})}),te.jsx("tbody",{className:"divide-y divide-gray-700",children:f.map((e=>te.jsxs("tr",{className:"hover:bg-dark",children:[te.jsx("td",{className:"py-3",children:e.userName}),te.jsx("td",{className:"py-3",children:te.jsx("span",{className:"px-2 py-1 rounded-full text-xs\n                      "+("pending"===e.status?"bg-yellow-500/20 text-yellow-500":"in_progress"===e.status?"bg-blue-500/20 text-blue-500":"completed"===e.status?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"),children:"pending"===e.status?"Pendente":"in_progress"===e.status?"Em Andamento":"completed"===e.status?"Concluída":"Rejeitada"})}),te.jsx("td",{className:"py-3",children:NA(e.createdAt.toDate(),"dd/MM/yyyy HH:mm",{locale:RA})}),te.jsx("td",{className:"py-3",children:e.description})]},e.id)))})]})})]})]})}function c9(){const{user:e}=cj(),{unreadByUser:t}=fj(),[n,r]=W.useState([]),[i,o]=W.useState(null),[a,s]=W.useState([]),[l,c]=W.useState(""),[u,d]=W.useState(!0),[h,f]=W.useState(!1);W.useState(!0);const[p,m]=W.useState(""),g=W.useRef(null),y=oh(),v=()=>{var e;null==(e=g.current)||e.scrollIntoView({behavior:"smooth"})};W.useEffect((()=>{if(!e)return void y("/login");(async()=>{try{const e=NE(Hk(sj,"users"),AE("role","!=","admin")),t=(await GE(e)).docs.map((e=>({id:e.id,...e.data()})));r(t),d(!1)}catch(e){console.error("Error fetching users:",e),gO.error("Erro ao carregar usuários"),d(!1)}})()}),[e,y]),W.useEffect((()=>{if(!i)return;const e=JE(NE(Hk(sj,"messages"),AE("chatId","==",i.id),DE("createdAt","asc")),(async e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));s(t);const n=ij(sj),r=e.docs.filter((e=>!e.data().read&&!e.data().isAdmin));r.forEach((e=>{n.update(e.ref,{read:!0})})),r.length>0&&await n.commit(),v()}),(e=>{console.error("Error in messages listener:",e),gO.error("Erro ao carregar mensagens")}));return()=>e()}),[i]);const b=n.filter((e=>e.name.toLowerCase().includes(p.toLowerCase())||e.email.toLowerCase().includes(p.toLowerCase()))),w={};return n.forEach((e=>{var n;const r=(null==(n=t.find((t=>t.chatId===e.id)))?void 0:n.count)||0;w[e.id]=r})),u?te.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:te.jsx(RO,{className:"w-8 h-8 text-primary animate-spin"})}):te.jsxs("div",{className:"space-y-6",children:[te.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mensagens"}),te.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[te.jsxs("div",{className:"bg-[#16162a] rounded-lg shadow-lg overflow-hidden",children:[te.jsx("div",{className:"p-4 border-b border-gray-700",children:te.jsxs("div",{className:"relative",children:[te.jsx("input",{type:"text",placeholder:"Buscar usuário...",value:p,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 bg-[#1a1a2e] border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]"}),te.jsx(VO,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),te.jsx("div",{className:"divide-y divide-gray-700",children:b.map((e=>te.jsxs("button",{onClick:()=>o(e),className:"w-full p-4 flex items-center gap-3 hover:bg-[#1a1a2e] transition-colors "+((null==i?void 0:i.id)===e.id?"bg-[#1a1a2e]":""),children:[te.jsx("div",{className:"h-10 w-10 rounded-full bg-[#2563eb] flex items-center justify-center",children:te.jsx("span",{className:"text-lg font-medium text-white",children:e.name.charAt(0).toUpperCase()})}),te.jsxs("div",{className:"flex-1 text-left",children:[te.jsx("h3",{className:"font-medium text-white",children:e.name}),te.jsx("p",{className:"text-sm text-gray-400",children:e.email})]}),w[e.id]>0&&te.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-[#2563eb] text-white rounded-full",children:w[e.id]})]},e.id)))})]}),te.jsx("div",{className:"lg:col-span-2",children:i?te.jsxs("div",{className:"bg-[#16162a] rounded-lg shadow-lg h-[calc(100vh-12rem)] flex flex-col",children:[te.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[te.jsxs("div",{className:"flex items-center gap-3",children:[te.jsx("div",{className:"h-10 w-10 rounded-full bg-[#2563eb] flex items-center justify-center",children:te.jsx("span",{className:"text-lg font-medium text-white",children:i.name.charAt(0).toUpperCase()})}),te.jsxs("div",{children:[te.jsx("h3",{className:"font-medium text-white",children:i.name}),te.jsx("p",{className:"text-sm text-gray-400",children:i.email})]})]}),te.jsx("button",{onClick:async()=>{if(i&&window.confirm(`Tem certeza que deseja excluir todas as mensagens com ${i.name}?`))try{const e=NE(Hk(sj,"messages"),AE("chatId","==",i.id)),t=await GE(e),n=ij(sj);t.docs.forEach((e=>{n.delete(e.ref)})),await n.commit(),gO.success("Chat excluído com sucesso!"),s([])}catch(e){console.error("Error deleting chat:",e),gO.error("Erro ao excluir o chat. Tente novamente.")}},className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-500/20 rounded-lg",title:"Excluir conversa",children:te.jsx(KO,{className:"w-5 h-5"})})]}),te.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(((e,t)=>{var n;return te.jsx("div",{className:"flex "+(e.isAdmin?"justify-end":"justify-start"),children:te.jsxs("div",{className:"max-w-[70%] rounded-lg px-4 py-2 "+(e.isAdmin?"bg-[#2563eb] text-white":"bg-[#1a1a2e] text-gray-300"),children:[te.jsx("p",{children:e.text}),te.jsx("span",{className:"text-xs opacity-70",children:null==(n=e.createdAt)?void 0:n.toDate().toLocaleString()})]})},t)})),te.jsx("div",{ref:g})]}),te.jsx("div",{className:"p-4 border-t border-gray-700",children:te.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),l.trim()&&i&&e){f(!0);try{const t={text:l.trim(),senderId:e.uid,senderName:"Admin",chatId:i.id,createdAt:rj(),isAdmin:!0,read:!1};await XE(Hk(sj,"messages"),t),c(""),v()}catch(n){console.error("Error sending message:",n),gO.error("Erro ao enviar mensagem. Tente novamente.")}finally{f(!1)}}},className:"flex gap-2",children:[te.jsx("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 px-4 py-2 bg-[#1a1a2e] border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]"}),te.jsx("button",{type:"submit",disabled:h||!l.trim(),className:"px-4 py-2 bg-[#2563eb] text-white rounded-lg hover:bg-[#3b82f6] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?te.jsx(RO,{className:"w-5 h-5 animate-spin"}):te.jsx(qO,{className:"h-5 w-5"})})]})})]}):te.jsx("div",{className:"bg-[#16162a] rounded-lg shadow-lg h-[calc(100vh-12rem)] flex items-center justify-center",children:te.jsxs("div",{className:"text-center",children:[te.jsx($O,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),te.jsx("h3",{className:"text-lg font-medium text-white",children:"Selecione um usuário para iniciar uma conversa"}),te.jsx("p",{className:"text-gray-400",children:"Escolha um usuário da lista para ver ou enviar mensagens"})]})})})]})]})}function u9(){const[e,t]=W.useState([]),[n,r]=W.useState(!0),[i,o]=W.useState(""),[a,s]=W.useState(!1),[l,c]=W.useState(!1),[u,d]=W.useState(null),[h,f]=W.useState(""),[p,m]=W.useState(null),[g,y]=W.useState({name:"",email:"",password:"",confirmPassword:"",role:"user",driveUrl:""}),[v,b]=W.useState(!1),[w,x]=W.useState(""),[_,S]=W.useState(""),k=oh();W.useEffect((()=>{(async()=>{try{const e=Hk(sj,"users"),n=(await GE(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)}catch(e){console.error("Error fetching users:",e),zj.error("Erro ao carregar usuários")}finally{r(!1)}})()}),[]);W.useEffect((()=>{const e=()=>m(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[]);const E=e.filter((e=>{var t,n;return(null==(t=e.email)?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null==(n=e.name)?void 0:n.toLowerCase().includes(i.toLowerCase()))}));return n?te.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:te.jsx(RO,{className:"w-8 h-8 text-primary animate-spin"})}):te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{className:"flex justify-between items-center",children:[te.jsx("h1",{className:"text-2xl font-bold text-white",children:"Usuários"}),te.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-[#2563eb] hover:bg-[#3b82f6] focus:outline-none transition-colors",children:[te.jsx(YO,{className:"h-5 w-5 mr-2"}),"Novo Usuário"]})]}),te.jsx("div",{className:"bg-[#16162a] p-4 rounded-lg shadow space-y-4",children:te.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Buscar"}),te.jsx("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"Nome ou email",className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]"})]})})}),te.jsx("div",{className:"bg-[#16162a] rounded-lg shadow overflow-hidden",children:te.jsx("div",{className:"overflow-x-auto",children:te.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[te.jsx("thead",{className:"bg-[#1a1a2e]",children:te.jsxs("tr",{children:[te.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuário"}),te.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),te.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Tipo"}),te.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Ações"})]})}),te.jsx("tbody",{className:"divide-y divide-gray-700",children:E.map((n=>te.jsxs("tr",{className:"hover:bg-[#1a1a2e]",children:[te.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te.jsxs("div",{className:"flex items-center",children:[te.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:te.jsx("div",{className:"h-10 w-10 rounded-full bg-primary flex items-center justify-center",children:te.jsx("span",{className:"text-lg font-medium text-white",children:n.name.charAt(0).toUpperCase()})})}),te.jsxs("div",{className:"ml-4",children:[te.jsx("div",{className:"text-sm font-medium text-white",children:n.name}),te.jsx("div",{className:"text-sm text-gray-300",children:n.email})]})]})}),te.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(!1===n.isActive?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:!1===n.isActive?"Inativo":"Ativo"})}),te.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:"admin"===n.role?"Admin":"Usuário"}),te.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:te.jsxs("div",{className:"flex items-center justify-end gap-2",children:[!1!==n.isActive?te.jsx("button",{onClick:()=>{d(n),c(!0)},className:"text-red-500 hover:text-red-700 bg-red-500/10 hover:bg-red-500/20 transition-colors rounded-lg p-2",title:"Desativar Usuário",children:te.jsx(SO,{className:"w-5 h-5"})}):te.jsx("button",{onClick:()=>(async n=>{try{await YE(Kk(sj,"users",n.id),{isActive:!0,deactivationReason:null}),t(e.map((e=>e.id===n.id?{...e,isActive:!0,deactivationReason:void 0}:e))),zj.success("Usuário ativado com sucesso")}catch(r){console.error("Error activating user:",r),zj.error("Erro ao ativar usuário")}})(n),className:"text-green-500 hover:text-green-700 bg-green-500/10 hover:bg-green-500/20 transition-colors rounded-lg p-2",title:"Ativar Usuário",children:te.jsx(SO,{className:"w-5 h-5"})}),te.jsx("button",{onClick:()=>{d(n),b(!0)},className:"text-blue-500 hover:text-blue-700 bg-blue-500/10 hover:bg-blue-500/20 transition-colors rounded-lg p-2",title:"Alterar Senha",children:te.jsx(MO,{className:"w-5 h-5"})}),te.jsx("button",{onClick:()=>k(`/admin/user-arts/${n.id}`),className:"text-purple-500 hover:text-purple-700 bg-purple-500/10 hover:bg-purple-500/20 transition-colors rounded-lg p-2",title:"Ver Artes do Usuário",children:te.jsx(IO,{className:"w-5 h-5"})}),te.jsx("button",{onClick:()=>(async n=>{if(confirm("Tem certeza que deseja excluir este usuário?"))try{await QE(Kk(sj,"users",n)),zj.success("Usuário excluído com sucesso!"),t(e.filter((e=>e.id!==n)))}catch(r){console.error("Error deleting user:",r),zj.error("Erro ao excluir usuário")}})(n.id),className:"text-red-500 hover:text-red-700 bg-red-500/10 hover:bg-red-500/20 transition-colors rounded-lg p-2",title:"Excluir Usuário",children:te.jsx(KO,{className:"w-5 h-5"})})]})})]},n.id)))})]})})}),a&&te.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:te.jsxs("div",{className:"bg-[#16162a] rounded-lg p-6 max-w-md w-full",children:[te.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Adicionar Usuário"}),te.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),r(!0),g.password!==g.confirmPassword)return zj.error("As senhas não coincidem"),void r(!1);try{try{if((await Mg(aj,g.email)).length>0)return zj.error("Este email já está em uso"),void r(!1)}catch(n){console.error("Error checking email:",n)}const e=await async function(e,t,n){if(kp(e.app))return Promise.reject(Xp(e));const r=tg(e),i=sg(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Eg),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ag(e),t})),a=await jg._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(aj,g.email,g.password);await Dg(e.user,{displayName:g.name}),await function(e,t,n){e=Fk(e,qk);const r=Fk(e.firestore,Qk),i=zE(e.converter,t,n);return ZE(r,[uE(cE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zw.none())])}(Kk(sj,"users",e.user.uid),{uid:e.user.uid,name:g.name,email:g.email,role:g.role,driveUrl:g.driveUrl,createdAt:new Date,isActive:!0}),zj.success("Usuário criado com sucesso!"),s(!1),y({name:"",email:"",password:"",confirmPassword:"",role:"user",driveUrl:""});const i=Hk(sj,"users"),o=(await GE(i)).docs.map((e=>({id:e.id,...e.data()})));t(o)}catch(n){console.error("Error creating user:",n),"auth/email-already-in-use"===n.code?zj.error("Este email já está em uso"):zj.error(n.message||"Erro ao criar usuário")}finally{r(!1)}},className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome"}),te.jsx("input",{type:"text",value:g.name,onChange:e=>y({...g,name:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),te.jsx("input",{type:"email",value:g.email,onChange:e=>y({...g,email:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"URL do Google Drive"}),te.jsx("input",{type:"url",value:g.driveUrl,onChange:e=>y({...g,driveUrl:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",placeholder:"Cole aqui o link da pasta do Google Drive"}),te.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Compartilhe uma pasta do Drive para armazenar os arquivos do usuário"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Senha"}),te.jsx("input",{type:"password",value:g.password,onChange:e=>y({...g,password:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirmar Senha"}),te.jsx("input",{type:"password",value:g.confirmPassword,onChange:e=>y({...g,confirmPassword:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Função"}),te.jsxs("select",{value:g.role,onChange:e=>y({...g,role:e.target.value}),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-600 rounded-md text-white focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",children:[te.jsx("option",{value:"user",children:"Usuário"}),te.jsx("option",{value:"admin",children:"Administrador"})]})]}),te.jsxs("div",{className:"flex justify-end space-x-3",children:[te.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white focus:outline-none",children:"Cancelar"}),te.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-[#2563eb] text-white text-sm font-medium rounded-md hover:bg-[#3b82f6] focus:outline-none transition-colors",children:n?"Criando...":"Criar Usuário"})]})]})]})}),l&&te.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:te.jsxs("div",{className:"bg-[#16162a] rounded-lg p-6 w-full max-w-md",children:[te.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Desativar Usuário"}),te.jsxs("p",{className:"text-gray-300 mb-4",children:["Você está prestes a desativar o usuário ",null==u?void 0:u.name,". Por favor, informe o motivo da desativação:"]}),te.jsx("textarea",{value:h,onChange:e=>f(e.target.value),className:"w-full bg-[#1a1a2e] border border-gray-600 rounded-md px-4 py-2 mb-4 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",placeholder:"Motivo da desativação...",rows:4}),te.jsxs("div",{className:"flex justify-end gap-3",children:[te.jsx("button",{onClick:()=>{c(!1),f(""),d(null)},className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white focus:outline-none",children:"Cancelar"}),te.jsx("button",{onClick:async()=>{if(u&&h.trim())try{await YE(Kk(sj,"users",u.id),{isActive:!1,deactivationReason:h.trim()}),t(e.map((e=>e.id===u.id?{...e,isActive:!1,deactivationReason:h.trim()}:e))),zj.success("Usuário desativado com sucesso"),c(!1),f(""),d(null)}catch(n){console.error("Error deactivating user:",n),zj.error("Erro ao desativar usuário")}},disabled:!h.trim(),className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none",children:"Desativar"})]})]})}),v&&te.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:te.jsxs("div",{className:"bg-[#16162a] rounded-lg p-6 w-full max-w-md",children:[te.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Alterar Senha"}),te.jsxs("p",{className:"text-gray-300 mb-4",children:["Alterando senha do usuário ",null==u?void 0:u.name]}),te.jsxs("div",{className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nova Senha"}),te.jsx("input",{type:"password",value:w,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",placeholder:"Digite a nova senha"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirmar Nova Senha"}),te.jsx("input",{type:"password",value:_,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-[#2563eb] focus:border-[#2563eb]",placeholder:"Confirme a nova senha"})]})]}),te.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[te.jsx("button",{onClick:()=>{b(!1),x(""),S(""),d(null)},className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white focus:outline-none",children:"Cancelar"}),te.jsxs("button",{onClick:async()=>{if(u)if(w===_)if(w.length<6)zj.error("A senha deve ter pelo menos 6 caracteres");else try{r(!0);const e=Ky(),t=await Ig(e,u.email,w);t.user&&await Rg(t.user,w),zj.success("Senha alterada com sucesso"),b(!1),x(""),S(""),d(null)}catch(e){console.error("Error changing password:",e),zj.error("Erro ao alterar senha")}finally{r(!1)}else zj.error("As senhas não coincidem")},disabled:!w||!_||n,className:"px-4 py-2 bg-[#2563eb] text-white text-sm font-medium rounded-md hover:bg-[#3b82f6] focus:outline-none transition-colors",children:[n&&te.jsx(RO,{className:"w-4 h-4 animate-spin"}),"Alterar Senha"]})]})]})})]})}function d9(){const[e,t]=W.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[n,r]=W.useState({maxRequestSize:10,allowedFileTypes:[".png",".jpg",".jpeg"],defaultPriority:"normal"}),[i,o]=W.useState(!1),a=e=>{const{name:n,value:r}=e.target;t((e=>({...e,[n]:r})))},s=e=>{const{name:t,value:n}=e.target;r((e=>({...e,[t]:n})))};return te.jsxs("div",{className:"space-y-6",children:[te.jsx("div",{className:"flex justify-between items-center",children:te.jsx("h1",{className:"text-3xl font-bold text-white",children:"Configurações"})}),te.jsxs("div",{className:"space-y-4",children:[te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[te.jsx(WO,{className:"h-5 w-5 text-[#2563eb]"}),te.jsx("h2",{className:"text-xl font-semibold text-white",children:"Configurações do Sistema"})]}),te.jsxs("div",{className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tamanho Máximo de Arquivos (MB)"}),te.jsx("input",{type:"number",name:"maxRequestSize",value:n.maxRequestSize,onChange:s,className:"w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-[#2563eb] focus:border-transparent"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tipos de Arquivo Permitidos"}),te.jsx("input",{type:"text",value:n.allowedFileTypes.join(", "),onChange:e=>{const t=e.target.value.split(",").map((e=>e.trim()));r((e=>({...e,allowedFileTypes:t})))},placeholder:".png, .jpg, .jpeg",className:"w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-[#2563eb] focus:border-transparent"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Prioridade Padrão"}),te.jsxs("select",{name:"defaultPriority",value:n.defaultPriority,onChange:s,className:"w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-[#2563eb] focus:border-transparent",children:[te.jsx("option",{value:"low",children:"Baixa"}),te.jsx("option",{value:"normal",children:"Normal"}),te.jsx("option",{value:"high",children:"Alta"})]})]}),te.jsx("button",{onClick:()=>{try{zj.success("Configurações do sistema atualizadas com sucesso!")}catch(e){zj.error("Erro ao salvar as configurações do sistema")}},className:"w-full px-4 py-2 bg-[#2563eb] text-white rounded-lg hover:bg-[#3b82f6] transition-colors",children:"Salvar Configurações do Sistema"})]})]}),te.jsxs("div",{className:"bg-[#16162a] p-6 rounded-lg border border-gray-700",children:[te.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[te.jsx(LO,{className:"h-5 w-5 text-[#2563eb]"}),te.jsx("h2",{className:"text-xl font-semibold text-white",children:"Segurança"})]}),te.jsx("div",{className:"space-y-4",children:i?te.jsxs("div",{className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Senha Atual"}),te.jsx("input",{type:"password",name:"currentPassword",value:e.currentPassword,onChange:a,className:"mt-1 block w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-[#2563eb] focus:border-transparent"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Nova Senha"}),te.jsx("input",{type:"password",name:"newPassword",value:e.newPassword,onChange:a,className:"mt-1 block w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-[#2563eb] focus:border-transparent"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Confirmar Nova Senha"}),te.jsx("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:a,className:"mt-1 block w-full px-3 py-2 bg-[#1a1a2e] text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-[#2563eb] focus:border-transparent"})]}),te.jsxs("div",{className:"flex gap-2",children:[te.jsx("button",{onClick:async()=>{if(e.newPassword===e.confirmPassword)try{zj.success("Senha alterada com sucesso!"),o(!1),t({currentPassword:"",newPassword:"",confirmPassword:""})}catch(n){zj.error("Erro ao alterar a senha")}else zj.error("As senhas não coincidem")},className:"px-4 py-2 bg-[#2563eb] text-white rounded-lg hover:bg-[#3b82f6] transition-colors",children:"Alterar Senha"}),te.jsx("button",{onClick:()=>{o(!1),t({currentPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancelar"})]})]}):te.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-[#2563eb] text-white rounded-lg hover:bg-[#3b82f6] transition-colors",children:"Alterar Senha"})})]})]})]})}function h9(){const{userId:e}=function(){let{matches:e}=W.useContext(eh),t=e[e.length-1];return t?t.params:{}}(),[t,n]=W.useState(!0),[r,i]=W.useState([]),[o,a]=W.useState(""),[s,l]=W.useState(null),c=async e=>{try{l(e.id);const t=e.filePath.split("/").pop()||"download";await CP(e.filePath,t),i((t=>t.filter((t=>t.id!==e.id)))),zj.success("Arquivo baixado com sucesso!")}catch(t){console.error("Erro ao baixar arquivo:",t),zj.error("Erro ao baixar arquivo")}finally{l(null)}};return W.useEffect((()=>{(async()=>{var t,r;try{if(n(!0),e){const o=Kk(sj,"users",e),s=await HE(o);if(s.exists()){const o=s.data().name||s.data().email;a(o);const{data:l,error:c}=await jP.storage.from("PixelArt").list(`users/${e}/artworks/${o}`);if(console.log("Arquivos encontrados:",{path:`users/${e}/artworks/${o}`,files:l,error:c}),c)throw console.error("Erro ao buscar arquivos:",c),c;if(!l||0===l.length)return console.log("Nenhum arquivo encontrado para o usuário"),i([]),void n(!1);const u=[];for(const n of l){const{data:{publicUrl:i}}=jP.storage.from("PixelArt").getPublicUrl(`users/${e}/artworks/${o}/${n.name}`);console.log("Processando arquivo:",{name:n.name,path:`users/${e}/artworks/${o}/${n.name}`,metadata:n.metadata,publicUrl:i});const a=null==(r=null==(t=n.metadata)?void 0:t.mimetype)?void 0:r.startsWith("video/");u.push({id:n.name,title:n.name.split(".")[0].replace(/-/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),fileUrl:i,createdAt:n.created_at||(new Date).toISOString(),type:a?"video":"image",filePath:`users/${e}/artworks/${o}/${n.name}`})}console.log("Total de artes encontradas:",u.length),u.sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())),console.log("Admin - Total de artes:",u.length),i(u)}}}catch(o){console.error("Error fetching arts:",o),zj.error("Erro ao carregar artes")}finally{n(!1)}})()}),[e]),t?te.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:te.jsx(RO,{className:"w-8 h-8 text-primary animate-spin"})}):te.jsxs("div",{className:"space-y-6",children:[te.jsx("div",{className:"flex items-center justify-between",children:te.jsxs("div",{className:"flex items-center gap-4",children:[te.jsx(Mh,{to:"/admin/users",className:"text-gray-400 hover:text-white transition-colors",children:te.jsx(_O,{className:"w-6 h-6"})}),te.jsxs("h1",{className:"text-3xl font-bold",children:["Artes de ",o]})]})}),0===r.length?te.jsx("div",{className:"text-center py-12 bg-dark-lighter rounded-lg",children:te.jsx("p",{className:"text-gray-400",children:"Este usuário ainda não possui artes."})}):te.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((e=>te.jsxs("div",{className:"bg-dark-lighter rounded-lg overflow-hidden hover:transform hover:scale-105 transition-transform duration-200",children:["video"===e.type?te.jsxs("div",{className:"relative w-full h-48",children:[te.jsx("video",{src:e.fileUrl,className:"w-full h-48 object-cover",controls:!0,preload:"metadata",onError:t=>{console.error("Erro ao carregar vídeo:",e.fileUrl),t.currentTarget.poster="/placeholder-video.png"},children:"Seu navegador não suporta a tag de vídeo."}),te.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:te.jsx(BO,{className:"w-12 h-12 text-white opacity-75"})}),te.jsx("button",{onClick:()=>c(e),disabled:s===e.id,className:"absolute top-2 right-2 p-2 bg-primary text-white rounded-full hover:bg-primary/90 transition-colors disabled:opacity-50",children:s===e.id?te.jsx(RO,{className:"w-5 h-5 animate-spin"}):te.jsx(TO,{className:"w-5 h-5"})})]}):te.jsxs("div",{className:"relative",children:[te.jsx("img",{src:e.fileUrl,alt:e.title,className:"w-full h-48 object-cover",onError:t=>{console.error("Erro ao carregar imagem:",e.fileUrl),t.currentTarget.src="/placeholder-image.png"}}),te.jsx("button",{onClick:()=>c(e),disabled:s===e.id,className:"absolute top-2 right-2 p-2 bg-primary text-white rounded-full hover:bg-primary/90 transition-colors disabled:opacity-50",children:s===e.id?te.jsx(RO,{className:"w-5 h-5 animate-spin"}):te.jsx(TO,{className:"w-5 h-5"})})]}),te.jsxs("div",{className:"p-4",children:[te.jsx("h3",{className:"font-medium text-lg mb-2",children:e.title||"Sem título"}),te.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]},e.id)))})]})}function f9(){const{user:e}=cj(),[t,n]=W.useState(!0),[r,i]=W.useState([]),[o,a]=W.useState(""),[s,l]=W.useState(null),[c,u]=W.useState(null);W.useEffect((()=>{(async()=>{var t,r;try{if(n(!0),null==e?void 0:e.uid){const o=Kk(sj,"users",e.uid),s=await HE(o);if(s.exists()){const o=s.data().name||s.data().email;a(o);const{data:l,error:c}=await jP.storage.from("PixelArt").list(`users/${e.uid}/artworks/${o}`);if(console.log("Arquivos encontrados:",{path:`users/${e.uid}/artworks/${o}`,files:l,error:c}),c)throw console.error("Erro ao buscar arquivos:",c),c;if(!l||0===l.length)return console.log("Nenhum arquivo encontrado para o usuário"),i([]),void n(!1);const u=[];for(const n of l){const{data:{publicUrl:i}}=jP.storage.from("PixelArt").getPublicUrl(`users/${e.uid}/artworks/${o}/${n.name}`);console.log("Processando arquivo:",{name:n.name,path:`users/${e.uid}/artworks/${o}/${n.name}`,metadata:n.metadata,publicUrl:i});const a=null==(r=null==(t=n.metadata)?void 0:t.mimetype)?void 0:r.startsWith("video/");u.push({id:n.name,title:n.name.split(".")[0].replace(/-/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),fileUrl:i,createdAt:n.created_at||(new Date).toISOString(),type:a?"video":"image",filePath:`users/${e.uid}/artworks/${o}/${n.name}`})}console.log("Artes encontradas:",u),i(u)}}}catch(o){console.error("Erro ao buscar artes:",o)}finally{n(!1)}})()}),[e]);const d=async e=>{try{u(e.id);const t=e.filePath.split("/").pop()||"download";await CP(e.filePath,t),i((t=>t.filter((t=>t.id!==e.id)))),zj.success("Arquivo baixado com sucesso!")}catch(t){console.error("Erro ao baixar arquivo:",t),zj.error("Erro ao baixar arquivo")}finally{u(null)}};return t?te.jsx("div",{className:"flex items-center justify-center min-h-screen",children:te.jsx(RO,{className:"w-8 h-8 animate-spin"})}):0===r.length?te.jsx("div",{className:"text-center p-8",children:te.jsx("p",{className:"text-gray-500",children:"Nenhuma arte encontrada."})}):te.jsxs("div",{className:"container mx-auto p-4 bg-[#16162a] text-white",children:[te.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Minhas Artes"}),te.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((e=>te.jsxs("div",{className:"bg-[#1a1a2e] rounded-lg shadow-md overflow-hidden hover:transform hover:scale-105 transition-transform duration-200",children:["video"===e.type?te.jsxs("div",{className:"relative aspect-video bg-gray-100 cursor-pointer",onClick:()=>l(e),children:[te.jsx("video",{src:e.fileUrl,className:"w-full h-full object-cover",children:"Seu navegador não suporta o elemento de vídeo."}),te.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:te.jsx(BO,{className:"w-12 h-12 text-white opacity-75"})}),te.jsx("button",{onClick:t=>{t.stopPropagation(),d(e)},disabled:c===e.id,className:"absolute top-2 right-2 p-2 bg-[#2563eb] text-white rounded-full hover:bg-[#3b82f6] transition-colors disabled:opacity-50",children:c===e.id?te.jsx(RO,{className:"w-5 h-5 animate-spin"}):te.jsx(TO,{className:"w-5 h-5"})})]}):te.jsxs("div",{className:"aspect-square bg-gray-100 cursor-pointer relative",onClick:()=>l(e),children:[te.jsx("img",{src:e.fileUrl,alt:e.title,className:"w-full h-full object-cover"}),te.jsx("button",{onClick:t=>{t.stopPropagation(),d(e)},disabled:c===e.id,className:"absolute top-2 right-2 p-2 bg-[#2563eb] text-white rounded-full hover:bg-[#3b82f6] transition-colors disabled:opacity-50",children:c===e.id?te.jsx(RO,{className:"w-5 h-5 animate-spin"}):te.jsx(TO,{className:"w-5 h-5"})})]}),te.jsxs("div",{className:"p-4 bg-[#1a1a2e]",children:[te.jsx("h3",{className:"font-medium text-lg mb-2 text-white",children:e.title||"Sem título"}),te.jsx("p",{className:"text-xs text-gray-400",children:e.createdAt?new Date(e.createdAt).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Data não disponível"})]})]},e.id)))}),s&&te.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>l(null),children:te.jsxs("div",{className:"w-full h-full md:w-auto md:h-auto max-w-[90vw] max-h-[90vh] bg-[#1a1a2e] rounded-lg p-4 relative flex items-center justify-center",onClick:e=>e.stopPropagation(),children:["video"===s.type?te.jsx("div",{className:"w-full h-full flex items-center justify-center",children:te.jsx("video",{src:s.fileUrl,className:"max-w-full max-h-[80vh] w-auto h-auto",controls:!0,autoPlay:!0,children:"Seu navegador não suporta o elemento de vídeo."})}):te.jsx("img",{src:s.fileUrl,alt:s.title,className:"max-w-full max-h-[80vh] w-auto h-auto object-contain"}),te.jsx("button",{onClick:()=>d(s),disabled:c===s.id,className:"absolute top-2 right-2 p-2 bg-[#2563eb] text-white rounded-full hover:bg-[#3b82f6] transition-colors disabled:opacity-50 z-10",children:c===s.id?te.jsx(RO,{className:"w-5 h-5 animate-spin"}):te.jsx(TO,{className:"w-5 h-5"})})]})})]})}function p9({children:e,requireAdmin:t=!1}){const{user:n,isAdmin:r,loading:i}=cj();return console.log("PrivateRoute - User:",null==n?void 0:n.email),console.log("PrivateRoute - Is Admin:",r),console.log("PrivateRoute - Loading:",i),console.log("PrivateRoute - Require Admin:",t),i?te.jsx("div",{children:"Loading..."}):n?t&&!r?(console.log("PrivateRoute - Admin required but not admin, redirecting to user area"),te.jsx(vh,{to:"/user"})):(console.log("PrivateRoute - Access granted"),te.jsx(te.Fragment,{children:e})):(console.log("PrivateRoute - No user, redirecting to login"),te.jsx(vh,{to:"/login"}))}function m9(){const{deferredPrompt:e,setDeferredPrompt:t,isStandalone:n,isInstallable:r}=function(){const e=W.useContext(yO);if(void 0===e)throw new Error("usePWA must be used within a PWAProvider");return e}(),[i,o]=W.useState(!1);W.useEffect((()=>{const e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);o(e&&r&&!n)}),[r,n]);return i?te.jsxs("button",{onClick:async()=>{if(e)try{console.log("[PWA] Prompting install..."),await e.prompt();const{outcome:n}=await e.userChoice;console.log(`[PWA] User choice: ${n}`),"accepted"===n&&zj.success("App instalado com sucesso!",{icon:"✅",duration:3e3}),t(null)}catch(n){console.error("[PWA] Installation error:",n),zj.error("Erro ao instalar o app. Tente novamente.",{icon:"❌",duration:3e3})}},className:"fixed bottom-4 right-4 bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg shadow-lg transition-colors flex items-center gap-2 z-50","aria-label":"Instalar aplicativo",children:[te.jsx(TO,{className:"w-5 h-5"}),te.jsx("span",{children:"Instalar App"})]}):null}function g9(){const[e,t]=W.useState(null);W.useEffect((()=>{window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),t(e)}))}),[]);return e?te.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:te.jsxs("button",{onClick:async()=>{if(e){e.prompt();const{outcome:n}=await e.userChoice;"accepted"===n&&t(null)}},className:"flex items-center px-4 py-2 bg-[#2563eb] text-white rounded-lg hover:bg-[#3b82f6] transition-colors shadow-lg",children:[te.jsx(TO,{className:"w-5 h-5 mr-2"}),"Instalar App"]})}):null}function y9(){var e;const{isAdmin:t,user:n}=cj(),r=oh(),i=W.useRef(null),[o,a]=W.useState(!1),[s,l]=W.useState(!0),[c,u]=W.useState([]),[d,h]=W.useState(""),[f,p]=W.useState(""),[m,g]=W.useState(""),[y,v]=W.useState([]),[b,w]=W.useState(!1);W.useEffect((()=>{n?t?x():r("/"):r("/login")}),[t,r,n]);const x=async()=>{try{const e=Hk(sj,"users"),t=(await GE(e)).docs.map((e=>({id:e.id,...e.data()})));t.sort(((e,t)=>e.email.localeCompare(t.email))),u(t)}catch(e){console.error("Error fetching users:",e),zj.error("Erro ao carregar usuários")}finally{l(!1)}};return t?te.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[te.jsx("h1",{className:"text-2xl font-bold mb-6 text-white",children:"Upload de Arte Finalizada"}),te.jsxs("form",{ref:i,onSubmit:async e=>{var t,n,r;e.preventDefault(),a(!0);try{if(!d||!f||0===y.length)throw new Error("Por favor, preencha todos os campos obrigatórios");const e=52428800,r=["image/jpeg","image/png","image/gif","image/webp","video/mp4","video/webm"];for(const t of y){if(t.size>e)throw new Error(`O arquivo "${t.name}" é muito grande. O tamanho máximo é 50MB.`);if(!r.includes(t.type))throw new Error(`O arquivo "${t.name}" não é suportado. Use imagens (JPG, PNG, GIF, WebP) ou vídeos (MP4, WebM).`)}for(const n of y)await TP(n,d,f,m||"",null==(t=c.find((e=>e.id===d)))?void 0:t.name);zj.success(`${y.length} ${1===y.length?"arte enviada":"artes enviadas"} com sucesso!`),h(""),p(""),g(""),v([]),null==(n=i.current)||n.reset()}catch(o){console.error("Error uploading art:",o);let e="Erro ao enviar arte. ";o.message?e+=o.message:(null==(r=o.error)?void 0:r.message)&&(e+=o.error.message),zj.error(e)}finally{a(!1)}},className:"space-y-6",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Cliente"}),te.jsxs("div",{className:"relative",children:[te.jsxs("button",{type:"button",onClick:()=>w(!b),className:"w-full flex items-center justify-between bg-[#16162a] p-3 rounded-lg text-left hover:bg-[#1a1a2e] transition-colors border border-gray-700",children:[te.jsx("span",{className:"text-gray-300",children:d?null==(e=c.find((e=>e.id===d)))?void 0:e.email:"Selecione um cliente"}),te.jsx(EO,{className:"w-5 h-5 text-gray-300"})]}),b&&te.jsx("div",{className:"absolute z-10 w-full mt-1 bg-[#16162a] border border-gray-700 rounded-lg shadow-lg max-h-60 overflow-auto",children:s?te.jsx("div",{className:"flex items-center justify-center p-4",children:te.jsx(RO,{className:"w-5 h-5 animate-spin text-[#2563eb]"})}):te.jsx("div",{className:"py-1",children:c.map((e=>te.jsx("button",{type:"button",className:"w-full text-left px-4 py-2 text-gray-300 hover:bg-[#1a1a2e] transition-colors",onClick:()=>{h(e.id),w(!1)},children:e.email},e.id)))})})]})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Título"}),te.jsx("input",{type:"text",value:f,onChange:e=>p(e.target.value),className:"w-full bg-[#16162a] p-3 rounded-lg text-white placeholder-gray-400 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb]",placeholder:"Digite o título da arte..."})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Descrição (opcional)"}),te.jsx("textarea",{value:m,onChange:e=>g(e.target.value),className:"w-full bg-[#16162a] p-3 rounded-lg text-white placeholder-gray-400 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#2563eb] min-h-[100px]",placeholder:"Digite uma descrição..."})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Arquivos"}),te.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>v(Array.from(e.target.files||[])),className:"w-full bg-[#16162a] p-3 rounded-lg text-white border border-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-[#2563eb] file:text-white hover:file:bg-[#3b82f6]"}),te.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Formatos suportados: JPG, PNG, GIF, WebP, MP4, WebM (máx. 50MB)"})]}),y.length>0&&te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm font-medium mb-2 text-gray-300",children:"Arquivos selecionados:"}),te.jsx("ul",{className:"space-y-1 text-sm text-gray-400",children:Array.from(y).map(((e,t)=>te.jsxs("li",{children:[e.name," (",(e.size/1024/1024).toFixed(2),"MB)"]},t)))})]}),te.jsx("div",{children:te.jsx("button",{type:"submit",disabled:o||!d||!f||0===y.length,className:"w-full bg-[#2563eb] text-white p-3 rounded-lg font-medium hover:bg-[#3b82f6] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o?te.jsxs(te.Fragment,{children:[te.jsx(RO,{className:"w-5 h-5 animate-spin mr-2"}),"Enviando..."]}):"Enviar Arte"})})]})]}):null}function v9({variant:e="default",className:t="",children:n,...r}){const i=`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors ${(e=>{switch(e){case"destructive":return"bg-red-500 text-white hover:bg-red-600";case"secondary":return"bg-gray-100 text-gray-900 hover:bg-gray-200";default:return"bg-blue-500 text-white hover:bg-blue-600"}})(e)} ${t}`;return te.jsx("div",{className:i,...r,children:n})}function b9(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function w9(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function x9(...e){return t=>{let n=!1;const r=e.map((e=>{const r=w9(e,t);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():w9(e[t],null)}}}}function _9(...e){return W.useCallback(x9(...e),e)}function S9(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return W.useMemo((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}var k9=Boolean(null==globalThis?void 0:globalThis.document)?W.useLayoutEffect:()=>{},E9=K["useId".toString()]||(()=>{}),j9=0;function O9(e){const[t,n]=W.useState(E9());return k9((()=>{e||n((e=>e??String(j9++)))}),[e]),e||(t?`radix-${t}`:"")}function T9(e){const t=W.useRef(e);return W.useEffect((()=>{t.current=e})),W.useMemo((()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function C9({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=function({defaultProp:e,onChange:t}){const n=W.useState(e),[r]=n,i=W.useRef(r),o=T9(t);return W.useEffect((()=>{i.current!==r&&(o(r),i.current=r)}),[r,i,o]),n}({defaultProp:t,onChange:n}),o=void 0!==e,a=o?e:r,s=T9(n);return[a,W.useCallback((t=>{if(o){const n="function"==typeof t?t(e):t;n!==e&&s(n)}else i(t)}),[o,e,i,s])]}var N9=W.forwardRef(((e,t)=>{const{children:n,...r}=e,i=W.Children.toArray(n),o=i.find(I9);if(o){const e=o.props.children,n=i.map((t=>t===o?W.Children.count(e)>1?W.Children.only(null):W.isValidElement(e)?e.props.children:null:t));return te.jsx(P9,{...r,ref:t,children:W.isValidElement(e)?W.cloneElement(e,void 0,n):null})}return te.jsx(P9,{...r,ref:t,children:n})}));N9.displayName="Slot";var P9=W.forwardRef(((e,t)=>{const{children:n,...r}=e;if(W.isValidElement(n)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n);return W.cloneElement(n,{...M9(r,n.props),ref:t?x9(t,e):e})}return W.Children.count(n)>1?W.Children.only(null):null}));P9.displayName="SlotClone";var A9=({children:e})=>te.jsx(te.Fragment,{children:e});function I9(e){return W.isValidElement(e)&&e.type===A9}function M9(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...e)=>{o(...e),i(...e)}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}var D9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=W.forwardRef(((e,n)=>{const{asChild:r,...i}=e,o=r?N9:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),te.jsx(o,{...i,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});var R9,L9="dismissableLayer.update",U9="dismissableLayer.pointerDownOutside",F9="dismissableLayer.focusOutside",z9=W.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$9=W.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,c=W.useContext(z9),[u,d]=W.useState(null),h=(null==u?void 0:u.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,f]=W.useState({}),p=_9(t,(e=>d(e))),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),v=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,x=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=T9(e),r=W.useRef(!1),i=W.useRef((()=>{}));return W.useEffect((()=>{const e=e=>{if(e.target&&!r.current){let r=function(){V9(U9,n,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...c.branches].some((e=>e.contains(t)));w&&!n&&(null==i||i(e),null==a||a(e),e.defaultPrevented||null==s||s())}),h),_=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=T9(e),r=W.useRef(!1);return W.useEffect((()=>{const e=e=>{if(e.target&&!r.current){V9(F9,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...c.branches].some((e=>e.contains(t)))||(null==o||o(e),null==a||a(e),e.defaultPrevented||null==s||s())}),h);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=T9(e);W.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{v===c.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))}),h),W.useEffect((()=>{if(u)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(R9=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),B9(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=R9)}}),[u,h,n,c]),W.useEffect((()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),B9())}),[u,c]),W.useEffect((()=>{const e=()=>f({});return document.addEventListener(L9,e),()=>document.removeEventListener(L9,e)}),[]),te.jsx(D9.div,{...l,ref:p,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:b9(e.onFocusCapture,_.onFocusCapture),onBlurCapture:b9(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:b9(e.onPointerDownCapture,x.onPointerDownCapture)})}));$9.displayName="DismissableLayer";function B9(){const e=new CustomEvent(L9);document.dispatchEvent(e)}function V9(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&ld.flushSync((()=>e.dispatchEvent(t)))}(i,o):i.dispatchEvent(o)}W.forwardRef(((e,t)=>{const n=W.useContext(z9),r=W.useRef(null),i=_9(t,r);return W.useEffect((()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),te.jsx(D9.div,{...e,ref:i})})).displayName="DismissableLayerBranch";var q9="focusScope.autoFocusOnMount",W9="focusScope.autoFocusOnUnmount",H9={bubbles:!1,cancelable:!0},K9=W.forwardRef(((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=W.useState(null),c=T9(i),u=T9(o),d=W.useRef(null),h=_9(t,(e=>l(e))),f=W.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;W.useEffect((()=>{if(r){let e=function(e){if(f.paused||!s)return;const t=e.target;s.contains(t)?d.current=t:X9(d.current,{select:!0})},t=function(e){if(f.paused||!s)return;const t=e.relatedTarget;null!==t&&(s.contains(t)||X9(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&X9(s)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[r,s,f.paused]),W.useEffect((()=>{if(s){J9.add(f);const t=document.activeElement;if(!s.contains(t)){const n=new CustomEvent(q9,H9);s.addEventListener(q9,c),s.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(X9(r,{select:t}),document.activeElement!==n)return}((e=G9(s),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&X9(s))}return()=>{s.removeEventListener(q9,c),setTimeout((()=>{const e=new CustomEvent(W9,H9);s.addEventListener(W9,u),s.dispatchEvent(e),e.defaultPrevented||X9(t??document.body,{select:!0}),s.removeEventListener(W9,u),J9.remove(f)}),0)}}var e}),[s,c,u,f]);const p=W.useCallback((e=>{if(!n&&!r)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,o]=function(e){const t=G9(e),n=Y9(t,e),r=Y9(t.reverse(),e);return[n,r]}(t);r&&o?e.shiftKey||i!==o?e.shiftKey&&i===r&&(e.preventDefault(),n&&X9(o,{select:!0})):(e.preventDefault(),n&&X9(r,{select:!0})):i===t&&e.preventDefault()}}),[n,r,f.paused]);return te.jsx(D9.div,{tabIndex:-1,...a,ref:h,onKeyDown:p})}));function G9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Y9(e,t){for(const n of e)if(!Q9(n,{upTo:t}))return n}function Q9(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function X9(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}K9.displayName="FocusScope";var J9=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=Z9(e,t),e.unshift(t)},remove(t){var n;e=Z9(e,t),null==(n=e[0])||n.resume()}}}();function Z9(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var e7=W.forwardRef(((e,t)=>{var n;const{container:r,...i}=e,[o,a]=W.useState(!1);k9((()=>a(!0)),[]);const s=r||o&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return s?cd.createPortal(te.jsx(D9.div,{...i,ref:t}),s):null}));e7.displayName="Portal";var t7=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=W.useState(),r=W.useRef({}),i=W.useRef(e),o=W.useRef("none"),a=e?"mounted":"unmounted",[s,l]=function(e,t){return W.useReducer(((e,n)=>t[e][n]??e),e)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return W.useEffect((()=>{const e=n7(r.current);o.current="mounted"===s?e:"none"}),[s]),k9((()=>{const t=r.current,n=i.current;if(n!==e){const r=o.current,a=n7(t);if(e)l("MOUNT");else if("none"===a||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,l]),k9((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,a=o=>{const a=n7(r.current).includes(o.animationName);if(o.target===t&&a&&(l("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},s=e=>{e.target===t&&(o.current=n7(r.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:W.useCallback((e=>{e&&(r.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"==typeof n?n({present:r.isPresent}):W.Children.only(n),o=_9(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof n||r.isPresent?W.cloneElement(i,{ref:o}):null};function n7(e){return(null==e?void 0:e.animationName)||"none"}t7.displayName="Presence";var r7=0;function i7(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var o7="right-scroll-bar-position",a7="width-before-scroll-bar";function s7(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var l7="undefined"!=typeof window?W.useLayoutEffect:W.useEffect,c7=new WeakMap;function u7(e,t){var n=function(e,t){var n=W.useState((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(null,(function(t){return e.forEach((function(e){return s7(e,t)}))}));return l7((function(){var t=c7.get(n);if(t){var r=new Set(t),i=new Set(e),o=n.current;r.forEach((function(e){i.has(e)||s7(e,null)})),i.forEach((function(e){r.has(e)||s7(e,o)}))}c7.set(n,e)}),[e]),n}function d7(e){return e}var h7=function(e){var t=e.sideCar,n=Bp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return W.createElement(r,$p({},n))};h7.isSideCarExport=!0;var f7=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=d7);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=$p({async:!0,ssr:!1},e),t}(),p7=function(){},m7=W.forwardRef((function(e,t){var n=W.useRef(null),r=W.useState({onScrollCapture:p7,onWheelCapture:p7,onTouchMoveCapture:p7}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,f=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=void 0===g?"div":g,v=e.gapMode,b=Bp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,x=u7([n,t]),_=$p($p({},b),i);return W.createElement(W.Fragment,null,u&&W.createElement(w,{sideCar:f7,removeScrollBar:c,shards:d,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:v}),a?W.cloneElement(W.Children.only(s),$p($p({},_),{ref:x})):W.createElement(y,$p({},_,{className:l,ref:x}),s))}));m7.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},m7.classNames={fullWidth:a7,zeroRight:o7};function g7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var y7=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=g7())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},v7=function(){var e,t=(e=y7(),function(t,n){W.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},b7={left:0,top:0,right:0,gap:0},w7=function(e){return parseInt(e||"",10)||0},x7=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return b7;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[w7(n),w7(r),w7(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},_7=v7(),S7="data-scroll-locked",k7=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(S7,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o7," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(a7," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(o7," .").concat(o7," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(a7," .").concat(a7," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(S7,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},E7=function(){var e=parseInt(document.body.getAttribute(S7)||"0",10);return isFinite(e)?e:0},j7=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;W.useEffect((function(){return document.body.setAttribute(S7,(E7()+1).toString()),function(){var e=E7()-1;e<=0?document.body.removeAttribute(S7):document.body.setAttribute(S7,e.toString())}}),[]);var o=W.useMemo((function(){return x7(i)}),[i]);return W.createElement(_7,{styles:k7(o,!t,i,n?"":"!important")})},O7=!1;if("undefined"!=typeof window)try{var T7=Object.defineProperty({},"passive",{get:function(){return O7=!0,!0}});window.addEventListener("test",T7,T7),window.removeEventListener("test",T7,T7)}catch(Vee){O7=!1}var C7=!!O7&&{passive:!1},N7=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},P7=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),A7(e,r)){var i=I7(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},A7=function(e,t){return"v"===e?function(e){return N7(e,"overflowY")}(t):function(e){return N7(e,"overflowX")}(t)},I7=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},M7=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},D7=function(e){return[e.deltaX,e.deltaY]},R7=function(e){return e&&"current"in e?e.current:e},L7=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},U7=0,F7=[];function z7(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $7=(B7=function(e){var t=W.useRef([]),n=W.useRef([0,0]),r=W.useRef(),i=W.useState(U7++)[0],o=W.useState(v7)[0],a=W.useRef(e);W.useEffect((function(){a.current=e}),[e]),W.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(R7),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var s=W.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var i,o=M7(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-o[0],c="deltaY"in e?e.deltaY:s[1]-o[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=P7(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=P7(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,h=0;do{var f=I7(e,s),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&A7(e,s)&&(d+=m,h+=p),s=s instanceof ShadowRoot?s.host:s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return u&&(Math.abs(d)<1||!i)?c=!0:u||!(Math.abs(h)<1)&&i||(c=!0),c}(f,t,e,"h"===f?l:c,!0)}),[]),l=W.useCallback((function(e){var n=e;if(F7.length&&F7[F7.length-1]===o){var r="deltaY"in n?D7(n):M7(n),i=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i}))[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(a.current.shards||[]).map(R7).filter(Boolean).filter((function(e){return e.contains(n.target)}));(l.length>0?s(n,l[0]):!a.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),c=W.useCallback((function(e,n,r,i){var o={name:e,delta:n,target:r,should:i,shadowParent:z7(r)};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),u=W.useCallback((function(e){n.current=M7(e),r.current=void 0}),[]),d=W.useCallback((function(t){c(t.type,D7(t),t.target,s(t,e.lockRef.current))}),[]),h=W.useCallback((function(t){c(t.type,M7(t),t.target,s(t,e.lockRef.current))}),[]);W.useEffect((function(){return F7.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,C7),document.addEventListener("touchmove",l,C7),document.addEventListener("touchstart",u,C7),function(){F7=F7.filter((function(e){return e!==o})),document.removeEventListener("wheel",l,C7),document.removeEventListener("touchmove",l,C7),document.removeEventListener("touchstart",u,C7)}}),[]);var f=e.removeScrollBar,p=e.inert;return W.createElement(W.Fragment,null,p?W.createElement(o,{styles:L7(i)}):null,f?W.createElement(j7,{gapMode:e.gapMode}):null)},f7.useMedium(B7),h7);var B7,V7=W.forwardRef((function(e,t){return W.createElement(m7,$p({},e,{ref:t,sideCar:$7}))}));V7.classNames=m7.classNames;var q7=new WeakMap,W7=new WeakMap,H7={},K7=0,G7=function(e){return e&&(e.host||G7(e.parentNode))},Y7=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=G7(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);H7[n]||(H7[n]=new WeakMap);var o=H7[n],a=[],s=new Set,l=new Set(i),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(q7.get(e)||0)+1,c=(o.get(e)||0)+1;q7.set(e,l),o.set(e,c),a.push(e),1===l&&i&&W7.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch($j){console.error("aria-hidden: cannot operate on ",e,$j)}}))};return u(t),s.clear(),K7++,function(){a.forEach((function(e){var t=q7.get(e)-1,i=o.get(e)-1;q7.set(e,t),o.set(e,i),t||(W7.has(e)||e.removeAttribute(r),W7.delete(e)),i||e.removeAttribute(n)})),--K7||(q7=new WeakMap,q7=new WeakMap,W7=new WeakMap,H7={})}},Q7=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Y7(r,i,n,"aria-hidden")):function(){return null}},X7="Dialog",[J7,Z7]=function(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>W.createContext(e)));return function(n){const r=(null==n?void 0:n[e])||t;return W.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=W.createContext(r),o=n.length;n=[...n,r];const a=t=>{var n;const{scope:r,children:a,...s}=t,l=(null==(n=null==r?void 0:r[e])?void 0:n[o])||i,c=W.useMemo((()=>s),Object.values(s));return te.jsx(l.Provider,{value:c,children:a})};return a.displayName=t+"Provider",[a,function(n,a){var s;const l=(null==(s=null==a?void 0:a[e])?void 0:s[o])||i,c=W.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},S9(r,...t)]}(X7),[e8,t8]=J7(X7),n8=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=W.useRef(null),l=W.useRef(null),[c=!1,u]=C9({prop:r,defaultProp:i,onChange:o});return te.jsx(e8,{scope:t,triggerRef:s,contentRef:l,contentId:O9(),titleId:O9(),descriptionId:O9(),open:c,onOpenChange:u,onOpenToggle:W.useCallback((()=>u((e=>!e))),[u]),modal:a,children:n})};n8.displayName=X7;var r8="DialogTrigger";W.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=t8(r8,n),o=_9(t,i.triggerRef);return te.jsx(D9.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_8(i.open),...r,ref:o,onClick:b9(e.onClick,i.onOpenToggle)})})).displayName=r8;var i8="DialogPortal",[o8,a8]=J7(i8,{forceMount:void 0}),s8=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=t8(i8,t);return te.jsx(o8,{scope:t,forceMount:n,children:W.Children.map(r,(e=>te.jsx(t7,{present:n||o.open,children:te.jsx(e7,{asChild:!0,container:i,children:e})})))})};s8.displayName=i8;var l8="DialogOverlay",c8=W.forwardRef(((e,t)=>{const n=a8(l8,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=t8(l8,e.__scopeDialog);return o.modal?te.jsx(t7,{present:r||o.open,children:te.jsx(u8,{...i,ref:t})}):null}));c8.displayName=l8;var u8=W.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=t8(l8,n);return te.jsx(V7,{as:N9,allowPinchZoom:!0,shards:[i.contentRef],children:te.jsx(D9.div,{"data-state":_8(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})})),d8="DialogContent",h8=W.forwardRef(((e,t)=>{const n=a8(d8,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=t8(d8,e.__scopeDialog);return te.jsx(t7,{present:r||o.open,children:o.modal?te.jsx(f8,{...i,ref:t}):te.jsx(p8,{...i,ref:t})})}));h8.displayName=d8;var f8=W.forwardRef(((e,t)=>{const n=t8(d8,e.__scopeDialog),r=W.useRef(null),i=_9(t,n.contentRef,r);return W.useEffect((()=>{const e=r.current;if(e)return Q7(e)}),[]),te.jsx(m8,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:b9(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()})),onPointerDownOutside:b9(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:b9(e.onFocusOutside,(e=>e.preventDefault()))})})),p8=W.forwardRef(((e,t)=>{const n=t8(d8,e.__scopeDialog),r=W.useRef(!1),i=W.useRef(!1);return te.jsx(m8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var o,a;null==(o=e.onCloseAutoFocus)||o.call(e,t),t.defaultPrevented||(r.current||null==(a=n.triggerRef.current)||a.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var o,a;null==(o=e.onInteractOutside)||o.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target;(null==(a=n.triggerRef.current)?void 0:a.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})})),m8=W.forwardRef(((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=t8(d8,n),l=W.useRef(null),c=_9(t,l);return W.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??i7()),document.body.insertAdjacentElement("beforeend",e[1]??i7()),r7++,()=>{1===r7&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),r7--}}),[]),te.jsxs(te.Fragment,{children:[te.jsx(K9,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:te.jsx($9,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":_8(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),te.jsxs(te.Fragment,{children:[te.jsx(j8,{titleId:s.titleId}),te.jsx(O8,{contentRef:l,descriptionId:s.descriptionId})]})]})})),g8="DialogTitle",y8=W.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=t8(g8,n);return te.jsx(D9.h2,{id:i.titleId,...r,ref:t})}));y8.displayName=g8;var v8="DialogDescription",b8=W.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=t8(v8,n);return te.jsx(D9.p,{id:i.descriptionId,...r,ref:t})}));b8.displayName=v8;var w8="DialogClose",x8=W.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=t8(w8,n);return te.jsx(D9.button,{type:"button",...r,ref:t,onClick:b9(e.onClick,(()=>i.onOpenChange(!1)))})}));function _8(e){return e?"open":"closed"}x8.displayName=w8;var S8="DialogTitleWarning",[k8,E8]=function(e,t){const n=W.createContext(t),r=e=>{const{children:t,...r}=e,i=W.useMemo((()=>r),Object.values(r));return te.jsx(n.Provider,{value:i,children:t})};return r.displayName=e+"Provider",[r,function(r){const i=W.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(S8,{contentName:d8,titleName:g8,docsSlug:"dialog"}),j8=({titleId:e})=>{const t=E8(S8),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return W.useEffect((()=>{if(e){document.getElementById(e)||console.error(n)}}),[n,e]),null},O8=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${E8("DialogDescriptionWarning").contentName}}.`;return W.useEffect((()=>{var r;const i=null==(r=e.current)?void 0:r.getAttribute("aria-describedby");if(t&&i){document.getElementById(t)||console.warn(n)}}),[n,e,t]),null},T8=n8,C8=s8,N8=c8,P8=h8,A8=y8,I8=b8,M8=x8;const D8=e=>{const t=F8(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),R8(n,t)||U8(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},R8=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),o=i?R8(e.slice(1),i):void 0;if(o)return o;if(0===t.validators.length)return;const a=e.join("-");return null==(n=t.validators.find((({validator:e})=>e(a))))?void 0:n.classGroupId},L8=/^\[(.+)\]$/,U8=e=>{if(L8.test(e)){const t=L8.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},F8=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return V8(Object.entries(e.classGroups),n).forEach((([e,n])=>{z8(n,r,e,t)})),r},z8=(e,t,n,r)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return B8(e)?void z8(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((([e,i])=>{z8(i,$8(t,e),n,r)}))}else{(""===e?t:$8(t,e)).classGroupId=n}}))},$8=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},B8=e=>e.isThemeGetter,V8=(e,t)=>t?e.map((([e,n])=>[e,n.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,n])=>[t+e,n]))):e))])):e,q8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},W8=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],o=t.length,a=e=>{const n=[];let a,s=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===s){if(c===i&&(r||e.slice(d,d+o)===t)){n.push(e.slice(l,d)),l=d+o;continue}if("/"===c){a=d;continue}}"["===c?s++:"]"===c&&s--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},H8=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},K8=/\s+/;function G8(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Y8(e))&&(r&&(r+=" "),r+=t);return r}const Y8=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Y8(e[r]))&&(n&&(n+=" "),n+=t);return n};function Q8(e,...t){let n,r,i,o=function(s){const l=t.reduce(((e,t)=>t(e)),e());return n=(e=>({cache:q8(e.cacheSize),parseClassName:W8(e),...D8(e)}))(l),r=n.cache.get,i=n.cache.set,o=a,a(s)};function a(e){const t=r(e);if(t)return t;const o=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(K8);let s="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){s=e+(s.length>0?" "+s:s);continue}if(f=r(u),!f){s=e+(s.length>0?" "+s:s);continue}h=!1}const p=H8(t).join(":"),m=c?p+"!":p,g=m+f;if(o.includes(g))continue;o.push(g);const y=i(f,h);for(let n=0;n<y.length;++n){const e=y[n];o.push(m+e)}s=e+(s.length>0?" "+s:s)}return s})(e,n);return i(e,o),o}return function(){return o(G8.apply(null,arguments))}}const X8=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},J8=/^\[(?:([a-z-]+):)?(.+)\]$/i,Z8=/^\d+\/\d+$/,eee=new Set(["px","full","screen"]),tee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ree=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,aee=e=>lee(e)||eee.has(e)||Z8.test(e),see=e=>xee(e,"length",_ee),lee=e=>Boolean(e)&&!Number.isNaN(Number(e)),cee=e=>xee(e,"number",lee),uee=e=>Boolean(e)&&Number.isInteger(Number(e)),dee=e=>e.endsWith("%")&&lee(e.slice(0,-1)),hee=e=>J8.test(e),fee=e=>tee.test(e),pee=new Set(["length","size","percentage"]),mee=e=>xee(e,pee,See),gee=e=>xee(e,"position",See),yee=new Set(["image","url"]),vee=e=>xee(e,yee,Eee),bee=e=>xee(e,"",kee),wee=()=>!0,xee=(e,t,n)=>{const r=J8.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},_ee=e=>nee.test(e)&&!ree.test(e),See=()=>!1,kee=e=>iee.test(e),Eee=e=>oee.test(e),jee=Q8((()=>{const e=X8("colors"),t=X8("spacing"),n=X8("blur"),r=X8("brightness"),i=X8("borderColor"),o=X8("borderRadius"),a=X8("borderSpacing"),s=X8("borderWidth"),l=X8("contrast"),c=X8("grayscale"),u=X8("hueRotate"),d=X8("invert"),h=X8("gap"),f=X8("gradientColorStops"),p=X8("gradientColorStopPositions"),m=X8("inset"),g=X8("margin"),y=X8("opacity"),v=X8("padding"),b=X8("saturate"),w=X8("scale"),x=X8("sepia"),_=X8("skew"),S=X8("space"),k=X8("translate"),E=()=>["auto",hee,t],j=()=>[hee,t],O=()=>["",aee,see],T=()=>["auto",lee,hee],C=()=>["","0",hee],N=()=>[lee,hee];return{cacheSize:500,separator:":",theme:{colors:[wee],spacing:[aee,see],blur:["none","",fee,hee],brightness:N(),borderColor:[e],borderRadius:["none","","full",fee,hee],borderSpacing:j(),borderWidth:O(),contrast:N(),grayscale:C(),hueRotate:N(),invert:C(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[dee,see],inset:E(),margin:E(),opacity:N(),padding:j(),saturate:N(),scale:N(),sepia:C(),skew:N(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",hee]}],container:["container"],columns:[{columns:[fee]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",hee]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uee,hee]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",hee]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",uee,hee]}],"grid-cols":[{"grid-cols":[wee]}],"col-start-end":[{col:["auto",{span:["full",uee,hee]},hee]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[wee]}],"row-start-end":[{row:["auto",{span:[uee,hee]},hee]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",hee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",hee]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",hee,t]}],"min-w":[{"min-w":[hee,t,"min","max","fit"]}],"max-w":[{"max-w":[hee,t,"none","full","min","max","fit","prose",{screen:[fee]},fee]}],h:[{h:[hee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[hee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[hee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[hee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fee,see]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cee]}],"font-family":[{font:[wee]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",hee]}],"line-clamp":[{"line-clamp":["none",lee,cee]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",aee,hee]}],"list-image":[{"list-image":["none",hee]}],"list-style-type":[{list:["none","disc","decimal",hee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",aee,see]}],"underline-offset":[{"underline-offset":["auto",aee,hee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",hee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",hee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",gee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[aee,hee]}],"outline-w":[{outline:[aee,see]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[aee,see]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fee,bee]}],"shadow-color":[{shadow:[wee]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fee,hee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",hee]}],duration:[{duration:N()}],ease:[{ease:["linear","in","out","in-out",hee]}],delay:[{delay:N()}],animate:[{animate:["none","spin","ping","pulse","bounce",hee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[uee,hee]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",hee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",hee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",hee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[aee,see,cee]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}));function Oee(...e){return jee(BA(e))}const Tee=T8,Cee=C8,Nee=W.forwardRef((({className:e,...t},n)=>te.jsx(N8,{ref:n,className:Oee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t})));Nee.displayName=N8.displayName;const Pee=W.forwardRef((({className:e,children:t,...n},r)=>te.jsxs(Cee,{children:[te.jsx(Nee,{}),te.jsxs(P8,{ref:r,className:Oee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,te.jsxs(M8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 dark:ring-offset-gray-900 dark:focus:ring-gray-800 dark:data-[state=open]:bg-gray-800",children:[te.jsx(JO,{className:"h-4 w-4"}),te.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));Pee.displayName=P8.displayName;const Aee=({className:e,...t})=>te.jsx("div",{className:Oee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Aee.displayName="DialogHeader";const Iee=W.forwardRef((({className:e,...t},n)=>te.jsx(A8,{ref:n,className:Oee("text-lg font-semibold leading-none tracking-tight",e),...t})));Iee.displayName=A8.displayName;function Mee({variant:e="default",size:t="default",className:n="",children:r,...i}){const o=`inline-flex items-center justify-center rounded-md font-medium transition-colors disabled:opacity-50 disabled:pointer-events-none ${(e=>{switch(e){case"destructive":return"bg-red-500 text-white hover:bg-red-600";case"outline":return"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50";case"secondary":return"bg-gray-100 text-gray-900 hover:bg-gray-200";case"ghost":return"text-gray-700 hover:bg-gray-100";case"link":return"text-blue-500 underline hover:text-blue-600";default:return"bg-blue-500 text-white hover:bg-blue-600"}})(e)} ${(e=>{switch(e){case"sm":return"h-8 px-3 text-sm";case"lg":return"h-12 px-8";default:return"h-10 px-4"}})(t)} ${n}`;return te.jsx("button",{className:o,...i,children:r})}function Dee({isOpen:e,onClose:t,request:n,onRequestUpdate:r}){var i;const[o,a]=W.useState(n);W.useEffect((()=>{a(n)}),[n]);const s=async e=>{try{await YE(Kk(sj,"requests",o.id),{status:e}),a((t=>({...t,status:e}))),r&&r(o.id,{status:e}),zj.success("Status atualizado com sucesso!")}catch(t){console.error("Error updating status:",t),zj.error("Erro ao atualizar status")}};return te.jsx(Tee,{open:e,onOpenChange:t,children:te.jsxs(Pee,{className:"max-w-3xl max-h-[90vh] overflow-y-auto bg-[#16162a] border border-gray-700",children:[te.jsx(Aee,{children:te.jsxs(Iee,{className:"flex items-center justify-between text-white",children:[te.jsx("span",{children:"Detalhes do Pedido"}),te.jsxs(v9,{className:`${(e=>{switch(e){case"pending":return"bg-yellow-500";case"in_progress":return"bg-blue-500";case"completed":return"bg-green-500";case"rejected":return"bg-red-500";default:return"bg-gray-500"}})(o.status)} text-white px-2 py-1 rounded-lg text-xs font-semibold`,children:["pending"===o.status&&"Pendente","in_progress"===o.status&&"Em Andamento","completed"===o.status&&"Concluído","rejected"===o.status&&"Rejeitado"]}),"completed"===o.status&&te.jsxs("button",{onClick:async()=>{if("completed"!==o.status)return void zj.error("Apenas pedidos concluídos podem ser excluídos");if(window.confirm("Tem certeza que deseja excluir este pedido? Esta ação não pode ser desfeita."))try{o.imageUrl&&await async function(e){try{const{data:t,error:n}=await jP.storage.from("PixelArt").remove([e]);if(n)throw n;return!0}catch(t){throw console.error("Erro ao deletar imagem:",t),t}}(o.imageUrl),await QE(Kk(sj,"requests",o.id)),zj.success("Pedido excluído com sucesso!"),t()}catch(e){console.error("Error deleting request:",e),zj.error("Erro ao excluir pedido")}},className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center gap-1 transition-colors",title:"Excluir pedido",children:[te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:te.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Excluir"]})]})}),te.jsxs("div",{className:"space-y-6 py-4",children:[te.jsxs("div",{children:[te.jsx("h3",{className:"font-semibold mb-2 text-white",children:"Cliente"}),te.jsx("p",{className:"text-gray-300",children:o.userName}),te.jsx("p",{className:"text-sm text-gray-400",children:null==(i=o.createdAt)?void 0:i.toDate().toLocaleString()})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"font-semibold mb-2 text-white",children:"Descrição"}),te.jsx("p",{className:"whitespace-pre-wrap text-gray-300",children:o.description})]}),o.referenceUrls&&o.referenceUrls.length>0&&te.jsxs("div",{className:"mt-4",children:[te.jsx("h3",{className:"font-medium mb-2 text-white",children:"Imagens de Referência:"}),te.jsx("div",{className:"space-y-2",children:o.referenceUrls.map(((e,t)=>e&&te.jsxs("div",{className:"flex flex-col",children:[te.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-[#2563eb] hover:text-[#3b82f6] break-all transition-colors",children:e}),te.jsx("img",{src:e,alt:`Referência ${t+1}`,className:"mt-2 max-w-full h-auto rounded-lg border border-gray-700",onError:e=>{e.target.style.display="none"}})]},t)))})]}),o.driveUrl&&te.jsxs("div",{className:"mt-4",children:[te.jsx("h3",{className:"font-medium mb-2 text-white",children:"Pasta do Google Drive:"}),te.jsx("a",{href:o.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#2563eb] hover:text-[#3b82f6] break-all transition-colors",children:o.driveUrl})]}),te.jsx("div",{className:"flex gap-2 pt-4",children:"completed"!==o.status&&te.jsxs(te.Fragment,{children:[te.jsx(Mee,{onClick:()=>s("in_progress"),className:"bg-[#2563eb] text-white hover:bg-[#3b82f6] transition-colors "+("in_progress"===o.status?"opacity-50 cursor-not-allowed":""),disabled:"in_progress"===o.status,children:"Em Andamento"}),te.jsx(Mee,{onClick:()=>s("completed"),className:"bg-green-600 text-white hover:bg-green-700 transition-colors "+("completed"===o.status?"opacity-50 cursor-not-allowed":""),disabled:"completed"===o.status,children:"Concluir"}),te.jsx(Mee,{onClick:()=>s("rejected"),className:"bg-red-600 text-white hover:bg-red-700 transition-colors "+("rejected"===o.status?"opacity-50 cursor-not-allowed":""),disabled:"rejected"===o.status,children:"Rejeitar"})]})})]})]})})}W.forwardRef((({className:e,...t},n)=>te.jsx(I8,{ref:n,className:Oee("text-sm text-gray-500 dark:text-gray-400",e),...t}))).displayName=I8.displayName;const Ree=W.forwardRef((({className:e,...t},n)=>te.jsx("div",{ref:n,className:Oee("rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm",e),...t})));Ree.displayName="Card";const Lee=W.forwardRef((({className:e,...t},n)=>te.jsx("div",{ref:n,className:Oee("flex flex-col space-y-1.5 p-6",e),...t})));Lee.displayName="CardHeader";W.forwardRef((({className:e,...t},n)=>te.jsx("h3",{ref:n,className:Oee("text-2xl font-semibold leading-none tracking-tight",e),...t}))).displayName="CardTitle";W.forwardRef((({className:e,...t},n)=>te.jsx("p",{ref:n,className:Oee("text-sm text-gray-500 dark:text-gray-400",e),...t}))).displayName="CardDescription";const Uee=W.forwardRef((({className:e,...t},n)=>te.jsx("div",{ref:n,className:Oee("p-6 pt-0",e),...t})));Uee.displayName="CardContent";function Fee(){const[e,t]=W.useState([]),[n,r]=W.useState(null),[i,o]=W.useState(!1),{isAdmin:a}=cj(),s=oh(),[l]=zh(),{unreadRequests:c}=fj(),u=l.get("user");W.useEffect((()=>{if(!a)return void s("/");console.log("Setting up requests listener");const e=Hk(sj,"requests");let n=NE(e,DE("createdAt","desc"));u&&(console.log("Filtering requests for user:",u),n=NE(e,AE("userId","==",u),DE("createdAt","desc")));const r=JE(n,(async e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));t(n);const r=ij(sj);let i=!1;e.docs.forEach((e=>{e.data().read||(i=!0,r.update(e.ref,{read:!0}))})),i&&await r.commit()}));return()=>r()}),[a,s,u]);const d=e=>{switch(e){case"pending":return"bg-yellow-500";case"in_progress":return"bg-blue-500";case"completed":return"bg-green-500";case"rejected":return"bg-red-500";default:return"bg-gray-500"}},h=(e,t=100)=>e.length<=t?e:e.slice(0,t)+"...";return te.jsxs("div",{className:"container mx-auto p-4",children:[te.jsx("div",{className:"flex items-center justify-between mb-6",children:te.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2 text-white",children:["Pedidos",c>0&&te.jsxs(v9,{variant:"destructive",children:[c," novos"]})]})}),te.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map((e=>{var t;return te.jsxs(Ree,{className:"cursor-pointer transition-all hover:shadow-lg bg-[#16162a] border-gray-700 hover:bg-[#1a1a2e] "+(e.read?"":"ring-2 ring-[#2563eb]"),onClick:()=>{r(e),o(!0)},children:[te.jsxs(Lee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[te.jsxs("div",{className:"flex flex-col",children:[te.jsx("h3",{className:"font-semibold text-white",children:e.userName}),te.jsx("p",{className:"text-sm text-gray-400",children:null==(t=e.createdAt)?void 0:t.toDate().toLocaleString()})]}),te.jsxs(v9,{className:`${d(e.status)} text-white px-2 py-1 rounded-lg text-xs font-semibold`,children:["pending"===e.status&&"Pendente","in_progress"===e.status&&"Em Andamento","completed"===e.status&&"Concluído","rejected"===e.status&&"Rejeitado"]})]}),te.jsxs(Uee,{children:[te.jsx("p",{className:"text-gray-300",children:h(e.description)}),e.imageUrl&&te.jsx("div",{className:"mt-2 aspect-video relative overflow-hidden rounded-lg border border-gray-700",children:te.jsx("img",{src:e.imageUrl,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover"})})]})]},e.id)}))}),n&&te.jsx(Dee,{isOpen:i,onClose:()=>{o(!1),r(null)},request:n,onRequestUpdate:(e,n)=>{t((t=>t.map((t=>t.id===e?{...t,...n}:t))))},onStatusChange:async(e,t)=>{const n=Kk(sj,"requests",e);await YE(n,{status:t})}})]})}function zee(){const{isAdmin:e}=cj();return te.jsx(vh,{to:e?"/admin":"/user"})}function $ee(){const{user:e,isAdmin:t,loading:n,setLastRoute:r}=cj(),i=rh();return W.useEffect((()=>{e&&"/login"!==i.pathname&&r(i.pathname)}),[i,e,r]),te.jsxs(te.Fragment,{children:[te.jsx(mO,{position:"top-right"}),te.jsx(m9,{}),te.jsxs(_h,{children:[te.jsx(wh,{path:"/",element:n?te.jsx("div",{children:"Loading..."}):e?te.jsx(vh,{to:localStorage.getItem("lastRoute")||(t?"/admin":"/user"),replace:!0}):te.jsx(vh,{to:"/login",replace:!0})}),te.jsx(wh,{path:"/login",element:te.jsx(ZO,{})}),te.jsx(wh,{path:"/install",element:te.jsx(g9,{})}),te.jsxs(wh,{path:"/admin",element:te.jsx(p9,{requireAdmin:!0,children:te.jsx(rT,{})}),children:[te.jsx(wh,{index:!0,element:te.jsx(l9,{})}),te.jsx(wh,{path:"messages",element:te.jsx(c9,{})}),te.jsx(wh,{path:"users",element:te.jsx(u9,{})}),te.jsx(wh,{path:"settings",element:te.jsx(d9,{})}),te.jsx(wh,{path:"user-arts/:userId",element:te.jsx(h9,{})}),te.jsx(wh,{path:"requests",element:te.jsx(Fee,{})}),te.jsx(wh,{path:"upload-art",element:te.jsx(y9,{})})]}),te.jsxs(wh,{path:"/user",element:te.jsx(p9,{children:te.jsx(tT,{})}),children:[te.jsx(wh,{index:!0,element:te.jsx(iT,{})}),te.jsx(wh,{path:"chat",element:te.jsx(oT,{})}),te.jsx(wh,{path:"new-request",element:te.jsx(NP,{})}),te.jsx(wh,{path:"requests",element:te.jsx(Q5,{})}),te.jsx(wh,{path:"arts",element:te.jsx(f9,{})}),te.jsx(wh,{path:"settings",element:te.jsx(X5,{})})]}),te.jsx(wh,{path:"*",element:te.jsx(zee,{})})]})]})}function Bee(){return te.jsx(vO,{children:te.jsx(mj,{children:te.jsx(Ph,{children:te.jsx(uj,{children:te.jsx(hj,{children:te.jsx($ee,{})})})})})})}W.forwardRef((({className:e,...t},n)=>te.jsx("div",{ref:n,className:Oee("flex items-center p-6 pt-0",e),...t}))).displayName="CardFooter",ud(document.getElementById("root")).render(te.jsx(W.StrictMode,{children:te.jsx(Bee,{})}));export{o as g};
//# sourceMappingURL=index-Ba03iYcQ.js.map
